(function (g, f) {if ("object" == typeof exports && "object" == typeof module) {module.exports = f();} else if ("function" == typeof define && define.amd) {define("rrwebSnapshot", [], f);} else if ("object" == typeof exports) {exports["rrwebSnapshot"] = f();} else {g["rrwebSnapshot"] = f();}}(typeof self !== 'undefined' ? self : typeof globalThis !== 'undefined' ? globalThis : this, () => {var exports = {};var module = { exports };
"use strict";var ts=Object.defineProperty,rs=Object.defineProperties;var ss=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var Nt=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable;var Rt=(s,e,t)=>e in s?ts(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,L=(s,e)=>{for(var t in e||(e={}))Nt.call(e,t)&&Rt(s,t,e[t]);if(pe)for(var t of pe(e))At.call(e,t)&&Rt(s,t,e[t]);return s},ee=(s,e)=>rs(s,ss(e));var We=(s,e)=>{var t={};for(var r in s)Nt.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&pe)for(var r of pe(s))e.indexOf(r)<0&&At.call(s,r)&&(t[r]=s[r]);return t};var is=Object.defineProperty,ns=(s,e,t)=>e in s?is(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Mt=(s,e,t)=>ns(s,typeof e!="symbol"?e+"":e,t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var g=(s=>(s[s.Document=0]="Document",s[s.DocumentType=1]="DocumentType",s[s.Element=2]="Element",s[s.Text=3]="Text",s[s.CDATA=4]="CDATA",s[s.Comment=5]="Comment",s))(g||{});const _t={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},kt={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},de={},os=()=>!!globalThis.Zone;function ft(s){if(de[s])return de[s];const e=globalThis[s],t=e.prototype,r=s in _t?_t[s]:void 0,i=!!(r&&r.every(a=>{var o,u;return!!((u=(o=Object.getOwnPropertyDescriptor(t,a))==null?void 0:o.get)!=null&&u.toString().includes("[native code]"))})),n=s in kt?kt[s]:void 0,l=!!(n&&n.every(a=>{var o;return typeof t[a]=="function"&&((o=t[a])==null?void 0:o.toString().includes("[native code]"))}));if(i&&l&&!os())return de[s]=e.prototype,e.prototype;try{const a=document.createElement("iframe");document.body.appendChild(a);const o=a.contentWindow;if(!o)return e.prototype;const u=o[s].prototype;return document.body.removeChild(a),u?de[s]=u:t}catch(a){return t}}const je={};function U(s,e,t){var r;const i=`${s}.${String(t)}`;if(je[i])return je[i].call(e);const n=ft(s),l=(r=Object.getOwnPropertyDescriptor(n,t))==null?void 0:r.get;return l?(je[i]=l,l.call(e)):e[t]}const Ge={};function er(s,e,t){const r=`${s}.${String(t)}`;if(Ge[r])return Ge[r].bind(e);const n=ft(s)[t];return typeof n!="function"?e[t]:(Ge[r]=n,n.bind(e))}function ls(s){return U("Node",s,"childNodes")}function as(s){return U("Node",s,"parentNode")}function us(s){return U("Node",s,"parentElement")}function cs(s){return U("Node",s,"textContent")}function fs(s,e){return er("Node",s,"contains")(e)}function hs(s){return er("Node",s,"getRootNode")()}function ps(s){return!s||!("host"in s)?null:U("ShadowRoot",s,"host")}function ds(s){return s.styleSheets}function ms(s){return!s||!("shadowRoot"in s)?null:U("Element",s,"shadowRoot")}function gs(s,e){return U("Element",s,"querySelector")(e)}function ys(s,e){return U("Element",s,"querySelectorAll")(e)}function ws(){return ft("MutationObserver").constructor}const A={childNodes:ls,parentNode:as,parentElement:us,textContent:cs,contains:fs,getRootNode:hs,host:ps,styleSheets:ds,shadowRoot:ms,querySelector:gs,querySelectorAll:ys,mutationObserver:ws};function Ie(s){return s.nodeType===s.ELEMENT_NODE}function tr(s){const e=s&&"host"in s&&"mode"in s&&A.host(s)||null;return!!(e&&"shadowRoot"in e&&A.shadowRoot(e)===s)}function ve(s){return Object.prototype.toString.call(s)==="[object ShadowRoot]"}function bs(s){return s.includes(" background-clip: text;")&&!s.includes(" -webkit-background-clip: text;")&&(s=s.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),s}function rr(s){const{cssText:e}=s;if(e.split('"').length<3)return e;const t=["@import",`url(${JSON.stringify(s.href)})`];return s.layerName===""?t.push("layer"):s.layerName&&t.push(`layer(${s.layerName})`),s.supportsText&&t.push(`supports(${s.supportsText})`),s.media.length&&t.push(s.media.mediaText),t.join(" ")+";"}function Re(s){try{const e=s.rules||s.cssRules;if(!e)return null;let t=s.href;!t&&s.ownerNode&&s.ownerNode.ownerDocument&&(t=s.ownerNode.ownerDocument.location.href);const r=Array.from(e,i=>sr(i,t)).join("");return bs(r)}catch(e){return null}}function sr(s,e){if(nr(s)){let t;try{t=Re(s.styleSheet)||rr(s)}catch(r){t=s.cssText}return s.styleSheet.href?ne(t,s.styleSheet.href):t}else{let t=s.cssText;return or(s)&&s.selectorText.includes(":")&&(t=ir(t)),e?ne(t,e):t}}function ir(s){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return s.replace(e,"$1\\$2")}function nr(s){return"styleSheet"in s}function or(s){return"selectorText"in s}class Pe{constructor(){Mt(this,"idNodeMap",new Map),Mt(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const r=(t=this.getMeta(e))==null?void 0:t.id;return r!=null?r:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const r=t.id;this.idNodeMap.set(r,e),this.nodeMetaMap.set(e,t)}replace(e,t){const r=this.getNode(e);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(t,i)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Ss(){return new Pe}function lr({element:s,maskInputOptions:e,tagName:t,type:r,value:i,maskInputFn:n}){let l=i||"";const a=r&&ce(r);return(e[t.toLowerCase()]||a&&e[a])&&(n?l=n(l,s):l="*".repeat(l.length)),l}function ce(s){return s.toLowerCase()}const It="__rrweb_original__";function ar(s){const e=s.getContext("2d");if(!e)return!0;const t=50;for(let r=0;r<s.width;r+=t)for(let i=0;i<s.height;i+=t){const n=e.getImageData,l=It in n?n[It]:n;if(new Uint32Array(l.call(e,r,i,Math.min(t,s.width-r),Math.min(t,s.height-i)).data.buffer).some(o=>o!==0))return!1}return!0}function ur(s,e){return!s||!e||s.type!==e.type?!1:s.type===g.Document?s.compatMode===e.compatMode:s.type===g.DocumentType?s.name===e.name&&s.publicId===e.publicId&&s.systemId===e.systemId:s.type===g.Comment||s.type===g.Text||s.type===g.CDATA?s.textContent===e.textContent:s.type===g.Element?s.tagName===e.tagName&&JSON.stringify(s.attributes)===JSON.stringify(e.attributes)&&s.isSVG===e.isSVG&&s.needBlock===e.needBlock:!1}function cr(s){const e=s.type;return s.hasAttribute("data-rr-is-password")?"password":e?ce(e):null}function ht(s,e){var n;let t;try{t=new URL(s,e!=null?e:window.location.href)}catch(l){return null}const r=/\.([0-9a-z]+)(?:$)/i,i=t.pathname.match(r);return(n=i==null?void 0:i[1])!=null?n:null}function Cs(s){let e="";return s.indexOf("//")>-1?e=s.split("/").slice(0,3).join("/"):e=s.split("/")[0],e=e.split("?")[0],e}const xs=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,vs=/^(?:[a-z+]+:)?\/\//i,Es=/^www\..*/i,Os=/^(data:)([^,]*),(.*)/i;function ne(s,e){return(s||"").replace(xs,(t,r,i,n,l,a)=>{const o=i||l||a,u=r||n||"";if(!o)return t;if(vs.test(o)||Es.test(o))return`url(${u}${o}${u})`;if(Os.test(o))return`url(${u}${o}${u})`;if(o[0]==="/")return`url(${u}${Cs(e)+o}${u})`;const c=e.split("/"),h=o.split("/");c.pop();for(const f of h)f!=="."&&(f===".."?c.pop():c.push(f));return`url(${u}${c.join("/")}${u})`})}function Rs(s){return s.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"")}function fr(s,e){var t;try{if(!e)return console.warn("No style element provided to splitCssText"),[s||""];const r=Array.from(e.childNodes||[]);if(r.length<=1||!s)return[s||""];const i=[];for(let n=0;n<r.length;n++){const l=r[n];if(l&&l.nodeType===Node.TEXT_NODE){const a=l.textContent||"";a.length>0&&i.push(a)}}return i.length===0&&s?[s]:i}catch(r){return console.warn("Error splitting CSS text:",r,{cssTextLength:s==null?void 0:s.length,styleChildNodes:(t=e==null?void 0:e.childNodes)==null?void 0:t.length}),[s||""]}}function hr(s,e){return fr(s,e).join("/* rr_split */")}function Ns(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function As(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var i=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return s[r]}})}),t}var pt={exports:{}},w=String,pr=function(){return{isColorSupported:!1,reset:w,bold:w,dim:w,italic:w,underline:w,inverse:w,hidden:w,strikethrough:w,black:w,red:w,green:w,yellow:w,blue:w,magenta:w,cyan:w,white:w,gray:w,bgBlack:w,bgRed:w,bgGreen:w,bgYellow:w,bgBlue:w,bgMagenta:w,bgCyan:w,bgWhite:w,blackBright:w,redBright:w,greenBright:w,yellowBright:w,blueBright:w,magentaBright:w,cyanBright:w,whiteBright:w,bgBlackBright:w,bgRedBright:w,bgGreenBright:w,bgYellowBright:w,bgBlueBright:w,bgMagentaBright:w,bgCyanBright:w,bgWhiteBright:w}};pt.exports=pr();pt.exports.createColors=pr;var Ms=pt.exports;const _s={},ks=Object.freeze(Object.defineProperty({__proto__:null,default:_s},Symbol.toStringTag,{value:"Module"})),P=As(ks);let Pt=Ms,$t=P,Ye=class dr extends Error{constructor(e,t,r,i,n,l){super(e),this.name="CssSyntaxError",this.reason=e,n&&(this.file=n),i&&(this.source=i),l&&(this.plugin=l),typeof t!="undefined"&&typeof r!="undefined"&&(typeof t=="number"?(this.line=t,this.column=r):(this.line=t.line,this.column=t.column,this.endLine=r.line,this.endColumn=r.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,dr)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Pt.isColorSupported);let r=c=>c,i=c=>c,n=c=>c;if(e){let{bold:c,gray:h,red:f}=Pt.createColors(!0);i=m=>c(f(m)),r=m=>h(m),$t&&(n=m=>$t(m))}let l=t.split(/\r?\n/),a=Math.max(this.line-3,0),o=Math.min(this.line+2,l.length),u=String(o).length;return l.slice(a,o).map((c,h)=>{let f=a+1+h,m=" "+(" "+f).slice(-u)+" | ";if(f===this.line){if(c.length>160){let R=20,p=Math.max(0,this.column-R),y=Math.max(this.column+R,this.endColumn+R),O=c.slice(p,y),M=r(m.replace(/\d/g," "))+c.slice(0,Math.min(this.column-1,R-1)).replace(/[^\t]/g," ");return i(">")+r(m)+n(O)+`
 `+M+i("^")}let S=r(m.replace(/\d/g," "))+c.slice(0,this.column-1).replace(/[^\t]/g," ");return i(">")+r(m)+n(c)+`
 `+S+i("^")}return" "+r(m)+n(c)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var dt=Ye;Ye.default=Ye;const Lt={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function Is(s){return s[0].toUpperCase()+s.slice(1)}let Ke=class{constructor(e){this.builder=e}atrule(e,t){let r="@"+e.name,i=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName!="undefined"?r+=e.raws.afterName:i&&(r+=" "),e.nodes)this.block(e,r+i);else{let n=(e.raws.between||"")+(t?";":"");this.builder(r+i+n,e)}}beforeAfter(e,t){let r;e.type==="decl"?r=this.raw(e,null,"beforeDecl"):e.type==="comment"?r=this.raw(e,null,"beforeComment"):t==="before"?r=this.raw(e,null,"beforeRule"):r=this.raw(e,null,"beforeClose");let i=e.parent,n=0;for(;i&&i.type!=="root";)n+=1,i=i.parent;if(r.includes(`
`)){let l=this.raw(e,null,"indent");if(l.length)for(let a=0;a<n;a++)r+=l}return r}block(e,t){let r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start");let i;e.nodes&&e.nodes.length?(this.body(e),i=this.raw(e,"after")):i=this.raw(e,"after","emptyBody"),i&&this.builder(i),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let r=this.raw(e,"semicolon");for(let i=0;i<e.nodes.length;i++){let n=e.nodes[i],l=this.raw(n,"before");l&&this.builder(l),this.stringify(n,t!==i||r)}}comment(e){let t=this.raw(e,"left","commentLeft"),r=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+r+"*/",e)}decl(e,t){let r=this.raw(e,"between","colon"),i=e.prop+r+this.rawValue(e,"value");e.important&&(i+=e.raws.important||" !important"),t&&(i+=";"),this.builder(i,e)}document(e){this.body(e)}raw(e,t,r){let i;if(r||(r=t),t&&(i=e.raws[t],typeof i!="undefined"))return i;let n=e.parent;if(r==="before"&&(!n||n.type==="root"&&n.first===e||n&&n.type==="document"))return"";if(!n)return Lt[r];let l=e.root();if(l.rawCache||(l.rawCache={}),typeof l.rawCache[r]!="undefined")return l.rawCache[r];if(r==="before"||r==="after")return this.beforeAfter(e,r);{let a="raw"+Is(r);this[a]?i=this[a](l,e):l.walk(o=>{if(i=o.raws[t],typeof i!="undefined")return!1})}return typeof i=="undefined"&&(i=Lt[r]),l.rawCache[r]=i,i}rawBeforeClose(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length>0&&typeof r.raws.after!="undefined")return t=r.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let r;return e.walkComments(i=>{if(typeof i.raws.before!="undefined")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r=="undefined"?r=this.raw(t,null,"beforeDecl"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeDecl(e,t){let r;return e.walkDecls(i=>{if(typeof i.raws.before!="undefined")return r=i.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),typeof r=="undefined"?r=this.raw(t,null,"beforeRule"):r&&(r=r.replace(/\S/g,"")),r}rawBeforeOpen(e){let t;return e.walk(r=>{if(r.type!=="decl"&&(t=r.raws.between,typeof t!="undefined"))return!1}),t}rawBeforeRule(e){let t;return e.walk(r=>{if(r.nodes&&(r.parent!==e||e.first!==r)&&typeof r.raws.before!="undefined")return t=r.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(r=>{if(typeof r.raws.between!="undefined")return t=r.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length===0&&(t=r.raws.after,typeof t!="undefined"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(r=>{let i=r.parent;if(i&&i!==e&&i.parent&&i.parent===e&&typeof r.raws.before!="undefined"){let n=r.raws.before.split(`
`);return t=n[n.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(r=>{if(r.nodes&&r.nodes.length&&r.last.type==="decl"&&(t=r.raws.semicolon,typeof t!="undefined"))return!1}),t}rawValue(e,t){let r=e[t],i=e.raws[t];return i&&i.value===r?i.raw:r}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var mr=Ke;Ke.default=Ke;let Ps=mr;function Qe(s,e){new Ps(e).stringify(s)}var $e=Qe;Qe.default=Qe;var fe={};fe.isClean=Symbol("isClean");fe.my=Symbol("my");let $s=dt,Ls=mr,Ts=$e,{isClean:te,my:Ds}=fe;function Xe(s,e){let t=new s.constructor;for(let r in s){if(!Object.prototype.hasOwnProperty.call(s,r)||r==="proxyCache")continue;let i=s[r],n=typeof i;r==="parent"&&n==="object"?e&&(t[r]=e):r==="source"?t[r]=i:Array.isArray(i)?t[r]=i.map(l=>Xe(l,t)):(n==="object"&&i!==null&&(i=Xe(i)),t[r]=i)}return t}function re(s,e){if(e&&typeof e.offset!="undefined")return e.offset;let t=1,r=1,i=0;for(let n=0;n<s.length;n++){if(r===e.line&&t===e.column){i=n;break}s[n]===`
`?(t=1,r+=1):t+=1}return i}let Ze=class{constructor(e={}){this.raws={},this[te]=!1,this[Ds]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let r of e[t])typeof r.clone=="function"?this.append(r.clone()):this.append(r)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=Xe(this);for(let r in e)t[r]=e[r];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:r,start:i}=this.rangeBy(t);return this.source.input.error(e,{column:i.column,line:i.line},{column:r.column,line:r.line},t)}return new $s(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markClean(){this[te]=!0}markDirty(){if(this[te]){this[te]=!1;let e=this;for(;e=e.parent;)e[te]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let i=this.source.input.css.slice(re(this.source.input.css,this.source.start),re(this.source.input.css,this.source.end)).indexOf(e.word);i!==-1&&(t=this.positionInside(i))}return t}positionInside(e){let t=this.source.start.column,r=this.source.start.line,i=re(this.source.input.css,this.source.start),n=i+e;for(let l=i;l<n;l++)this.source.input.css[l]===`
`?(t=1,r+=1):t+=1;return{column:t,line:r}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},r=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.source.input.css.slice(re(this.source.input.css,this.source.start),re(this.source.input.css,this.source.end)).indexOf(e.word);n!==-1&&(t=this.positionInside(n),r=this.positionInside(n+e.word.length))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?r={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?r=this.positionInside(e.endIndex):e.index&&(r=this.positionInside(e.index+1));return(r.line<t.line||r.line===t.line&&r.column<=t.column)&&(r={column:t.column+1,line:t.line}),{end:r,start:t}}raw(e,t){return new Ls().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,r=!1;for(let i of e)i===this?r=!0:r?(this.parent.insertAfter(t,i),t=i):this.parent.insertBefore(t,i);r||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let r={},i=t==null;t=t||new Map;let n=0;for(let l in this){if(!Object.prototype.hasOwnProperty.call(this,l)||l==="parent"||l==="proxyCache")continue;let a=this[l];if(Array.isArray(a))r[l]=a.map(o=>typeof o=="object"&&o.toJSON?o.toJSON(null,t):o);else if(typeof a=="object"&&a.toJSON)r[l]=a.toJSON(null,t);else if(l==="source"){let o=t.get(a.input);o==null&&(o=n,t.set(a.input,n),n++),r[l]={end:a.end,inputId:o,start:a.start}}else r[l]=a}return i&&(r.inputs=[...t.keys()].map(l=>l.toJSON())),r}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=Ts){e.stringify&&(e=e.stringify);let t="";return e(this,r=>{t+=r}),t}warn(e,t,r){let i={node:this};for(let n in r)i[n]=r[n];return e.warn(t,i)}get proxyOf(){return this}};var Le=Ze;Ze.default=Ze;let Us=Le,et=class extends Us{constructor(e){super(e),this.type="comment"}};var Te=et;et.default=et;let Bs=Le,tt=class extends Bs{constructor(e){e&&typeof e.value!="undefined"&&typeof e.value!="string"&&(e=ee(L({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var De=tt;tt.default=tt;let gr=Te,yr=De,Fs=Le,{isClean:wr,my:br}=fe,mt,Sr,Cr,gt;function xr(s){return s.map(e=>(e.nodes&&(e.nodes=xr(e.nodes)),delete e.source,e))}function vr(s){if(s[wr]=!1,s.proxyOf.nodes)for(let e of s.proxyOf.nodes)vr(e)}let T=class Er extends Fs{append(...e){for(let t of e){let r=this.normalize(t,this.last);for(let i of r)this.proxyOf.nodes.push(i)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),r,i;for(;this.indexes[t]<this.proxyOf.nodes.length&&(r=this.indexes[t],i=e(this.proxyOf.nodes[r],r),i!==!1);)this.indexes[t]+=1;return delete this.indexes[t],i}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...r)=>e[t](...r.map(i=>typeof i=="function"?(n,l)=>i(n.toProxy(),l):i)):t==="every"||t==="some"?r=>e[t]((i,...n)=>r(i.toProxy(),...n)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(r=>r.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,r){return e[t]===r||(e[t]=r,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let r=this.index(e),i=this.normalize(t,this.proxyOf.nodes[r]).reverse();r=this.index(e);for(let l of i)this.proxyOf.nodes.splice(r+1,0,l);let n;for(let l in this.indexes)n=this.indexes[l],r<n&&(this.indexes[l]=n+i.length);return this.markDirty(),this}insertBefore(e,t){let r=this.index(e),i=r===0?"prepend":!1,n=this.normalize(t,this.proxyOf.nodes[r],i).reverse();r=this.index(e);for(let a of n)this.proxyOf.nodes.splice(r,0,a);let l;for(let a in this.indexes)l=this.indexes[a],r<=l&&(this.indexes[a]=l+n.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=xr(Sr(e).nodes);else if(typeof e=="undefined")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let i of e)i.parent&&i.parent.removeChild(i,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value=="undefined")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new yr(e)]}else if(e.selector||e.selectors)e=[new gt(e)];else if(e.name)e=[new mt(e)];else if(e.text)e=[new gr(e)];else throw new Error("Unknown node type in node creation");return e.map(i=>(i[br]||Er.rebuild(i),i=i.proxyOf,i.parent&&i.parent.removeChild(i),i[wr]&&vr(i),i.raws||(i.raws={}),typeof i.raws.before=="undefined"&&t&&typeof t.raws.before!="undefined"&&(i.raws.before=t.raws.before.replace(/\S/g,"")),i.parent=this.proxyOf,i))}prepend(...e){e=e.reverse();for(let t of e){let r=this.normalize(t,this.first,"prepend").reverse();for(let i of r)this.proxyOf.nodes.unshift(i);for(let i in this.indexes)this.indexes[i]=this.indexes[i]+r.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let r in this.indexes)t=this.indexes[r],t>=e&&(this.indexes[r]=t-1);return this.markDirty(),this}replaceValues(e,t,r){return r||(r=t,t={}),this.walkDecls(i=>{t.props&&!t.props.includes(i.prop)||t.fast&&!i.value.includes(t.fast)||(i.value=i.value.replace(e,r))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,r)=>{let i;try{i=e(t,r)}catch(n){throw t.addToError(n)}return i!==!1&&t.walk&&(i=t.walk(e)),i})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="atrule"&&e.test(r.name))return t(r,i)}):this.walk((r,i)=>{if(r.type==="atrule"&&r.name===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="atrule")return t(r,i)}))}walkComments(e){return this.walk((t,r)=>{if(t.type==="comment")return e(t,r)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="decl"&&e.test(r.prop))return t(r,i)}):this.walk((r,i)=>{if(r.type==="decl"&&r.prop===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="decl")return t(r,i)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((r,i)=>{if(r.type==="rule"&&e.test(r.selector))return t(r,i)}):this.walk((r,i)=>{if(r.type==="rule"&&r.selector===e)return t(r,i)}):(t=e,this.walk((r,i)=>{if(r.type==="rule")return t(r,i)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};T.registerParse=s=>{Sr=s};T.registerRule=s=>{gt=s};T.registerAtRule=s=>{mt=s};T.registerRoot=s=>{Cr=s};var z=T;T.default=T;T.rebuild=s=>{s.type==="atrule"?Object.setPrototypeOf(s,mt.prototype):s.type==="rule"?Object.setPrototypeOf(s,gt.prototype):s.type==="decl"?Object.setPrototypeOf(s,yr.prototype):s.type==="comment"?Object.setPrototypeOf(s,gr.prototype):s.type==="root"&&Object.setPrototypeOf(s,Cr.prototype),s[br]=!0,s.nodes&&s.nodes.forEach(e=>{T.rebuild(e)})};let Or=z,Ne=class extends Or{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var yt=Ne;Ne.default=Ne;Or.registerAtRule(Ne);let zs=z,Rr,Nr,oe=class extends zs{constructor(e){super(L({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new Rr(new Nr,this,e).stringify()}};oe.registerLazyResult=s=>{Rr=s};oe.registerProcessor=s=>{Nr=s};var wt=oe;oe.default=oe;let Ws="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",js=(s,e=21)=>(t=e)=>{let r="",i=t|0;for(;i--;)r+=s[Math.random()*s.length|0];return r},Gs=(s=21)=>{let e="",t=s|0;for(;t--;)e+=Ws[Math.random()*64|0];return e};var Vs={nanoid:Gs,customAlphabet:js};let{existsSync:Hs,readFileSync:qs}=P,{dirname:Ve,join:Js}=P,{SourceMapConsumer:Tt,SourceMapGenerator:Dt}=P;function Ys(s){return Buffer?Buffer.from(s,"base64").toString():window.atob(s)}let rt=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let r=t.map?t.map.prev:void 0,i=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Ve(this.mapFile)),i&&(this.text=i)}consumer(){return this.consumerCache||(this.consumerCache=new Tt(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,r=/^data:application\/json;base64,/,i=/^data:application\/json;charset=utf-?8,/,n=/^data:application\/json,/,l=e.match(i)||e.match(n);if(l)return decodeURIComponent(e.substr(l[0].length));let a=e.match(t)||e.match(r);if(a)return Ys(e.substr(a[0].length));let o=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+o)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let r=e.lastIndexOf(t.pop()),i=e.indexOf("*/",r);r>-1&&i>-1&&(this.annotation=this.getAnnotationURL(e.substring(r,i)))}loadFile(e){if(this.root=Ve(e),Hs(e))return this.mapFile=e,qs(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let r=t(e);if(r){let i=this.loadFile(r);if(!i)throw new Error("Unable to load previous source map: "+r.toString());return i}}else{if(t instanceof Tt)return Dt.fromSourceMap(t).toString();if(t instanceof Dt)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let r=this.annotation;return e&&(r=Js(Ve(e),r)),this.loadFile(r)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var Ar=rt;rt.default=rt;let{nanoid:Ks}=Vs,{isAbsolute:st,resolve:it}=P,{SourceMapConsumer:Qs,SourceMapGenerator:Xs}=P,{fileURLToPath:Ut,pathToFileURL:me}=P,Bt=dt,Zs=Ar,He=P,qe=Symbol("fromOffsetCache"),ei=!!(Qs&&Xs),Ft=!!(it&&st),Ae=class{constructor(e,t={}){if(e===null||typeof e=="undefined"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Ft||/^\w+:\/\//.test(t.from)||st(t.from)?this.file=t.from:this.file=it(t.from)),Ft&&ei){let r=new Zs(this.css,t);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}}this.file||(this.id="<input css "+Ks(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,r,i={}){let n,l,a;if(t&&typeof t=="object"){let u=t,c=r;if(typeof u.offset=="number"){let h=this.fromOffset(u.offset);t=h.line,r=h.col}else t=u.line,r=u.column;if(typeof c.offset=="number"){let h=this.fromOffset(c.offset);l=h.line,n=h.col}else l=c.line,n=c.column}else if(!r){let u=this.fromOffset(t);t=u.line,r=u.col}let o=this.origin(t,r,l,n);return o?a=new Bt(e,o.endLine===void 0?o.line:{column:o.column,line:o.line},o.endLine===void 0?o.column:{column:o.endColumn,line:o.endLine},o.source,o.file,i.plugin):a=new Bt(e,l===void 0?t:{column:r,line:t},l===void 0?r:{column:n,line:l},this.css,this.file,i.plugin),a.input={column:r,endColumn:n,endLine:l,line:t,source:this.css},this.file&&(me&&(a.input.url=me(this.file).toString()),a.input.file=this.file),a}fromOffset(e){let t,r;if(this[qe])r=this[qe];else{let n=this.css.split(`
`);r=new Array(n.length);let l=0;for(let a=0,o=n.length;a<o;a++)r[a]=l,l+=n[a].length+1;this[qe]=r}t=r[r.length-1];let i=0;if(e>=t)i=r.length-1;else{let n=r.length-2,l;for(;i<n;)if(l=i+(n-i>>1),e<r[l])n=l-1;else if(e>=r[l+1])i=l+1;else{i=l;break}}return{col:e-r[i]+1,line:i+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:it(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,r,i){if(!this.map)return!1;let n=this.map.consumer(),l=n.originalPositionFor({column:t,line:e});if(!l.source)return!1;let a;typeof r=="number"&&(a=n.originalPositionFor({column:i,line:r}));let o;st(l.source)?o=me(l.source):o=new URL(l.source,this.map.consumer().sourceRoot||me(this.map.mapFile));let u={column:l.column,endColumn:a&&a.column,endLine:a&&a.line,line:l.line,url:o.toString()};if(o.protocol==="file:")if(Ut)u.file=Ut(o);else throw new Error("file: protocol is not available in this PostCSS build");let c=n.sourceContentFor(l.source);return c&&(u.source=c),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map=L({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Ue=Ae;Ae.default=Ae;He&&He.registerInput&&He.registerInput(Ae);let Mr=z,_r,kr,q=class extends Mr{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,r){let i=super.normalize(e);if(t){if(r==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let n of i)n.raws.before=t.raws.before}return i}removeChild(e,t){let r=this.index(e);return!t&&r===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[r].raws.before),super.removeChild(e)}toResult(e={}){return new _r(new kr,this,e).stringify()}};q.registerLazyResult=s=>{_r=s};q.registerProcessor=s=>{kr=s};var he=q;q.default=q;Mr.registerRoot(q);let le={comma(s){return le.split(s,[","],!0)},space(s){let e=[" ",`
`,"	"];return le.split(s,e)},split(s,e,t){let r=[],i="",n=!1,l=0,a=!1,o="",u=!1;for(let c of s)u?u=!1:c==="\\"?u=!0:a?c===o&&(a=!1):c==='"'||c==="'"?(a=!0,o=c):c==="("?l+=1:c===")"?l>0&&(l-=1):l===0&&e.includes(c)&&(n=!0),n?(i!==""&&r.push(i.trim()),i="",n=!1):i+=c;return(t||i!=="")&&r.push(i.trim()),r}};var Ir=le;le.default=le;let Pr=z,ti=Ir,Me=class extends Pr{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return ti.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,r=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(r)}};var bt=Me;Me.default=Me;Pr.registerRule(Me);let ri=yt,si=Te,ii=De,ni=Ue,oi=Ar,li=he,ai=bt;function ae(s,e){if(Array.isArray(s))return s.map(l=>ae(l));let i=s,{inputs:t}=i,r=We(i,["inputs"]);if(t){e=[];for(let l of t){let a=ee(L({},l),{__proto__:ni.prototype});a.map&&(a.map=ee(L({},a.map),{__proto__:oi.prototype})),e.push(a)}}if(r.nodes&&(r.nodes=s.nodes.map(l=>ae(l,e))),r.source){let n=r.source,{inputId:l}=n,a=We(n,["inputId"]);r.source=a,l!=null&&(r.source.input=e[l])}if(r.type==="root")return new li(r);if(r.type==="decl")return new ii(r);if(r.type==="rule")return new ai(r);if(r.type==="comment")return new si(r);if(r.type==="atrule")return new ri(r);throw new Error("Unknown node type: "+s.type)}var ui=ae;ae.default=ae;let{dirname:Ee,relative:$r,resolve:Lr,sep:Tr}=P,{SourceMapConsumer:Dr,SourceMapGenerator:Oe}=P,{pathToFileURL:zt}=P,ci=Ue,fi=!!(Dr&&Oe),hi=!!(Ee&&Lr&&$r&&Tr),pi=class{constructor(e,t,r,i){this.stringify=e,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=i,this.originalCSS=i,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),r=e.root||Ee(e.file),i;this.mapOpts.sourcesContent===!1?(i=new Dr(e.text),i.sourcesContent&&(i.sourcesContent=null)):i=e.consumer(),this.map.applySourceMap(i,t,this.toUrl(this.path(r)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),hi&&fi&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=Oe.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new Oe({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new Oe({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,r="<no source>",i={generated:{column:0,line:0},original:{column:0,line:0},source:""},n,l;this.stringify(this.root,(a,o,u)=>{if(this.css+=a,o&&u!=="end"&&(i.generated.line=e,i.generated.column=t-1,o.source&&o.source.start?(i.source=this.sourcePath(o),i.original.line=o.source.start.line,i.original.column=o.source.start.column-1,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,this.map.addMapping(i))),l=a.match(/\n/g),l?(e+=l.length,n=a.lastIndexOf(`
`),t=a.length-n):t+=a.length,o&&u!=="start"){let c=o.parent||{raws:{}};(!(o.type==="decl"||o.type==="atrule"&&!o.nodes)||o!==c.last||c.raws.semicolon)&&(o.source&&o.source.end?(i.source=this.sourcePath(o),i.original.line=o.source.end.line,i.original.column=o.source.end.column-1,i.generated.line=e,i.generated.column=t-2,this.map.addMapping(i)):(i.source=r,i.original.line=1,i.original.column=0,i.generated.line=e,i.generated.column=t-1,this.map.addMapping(i)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e!="undefined"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let r=this.opts.to?Ee(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(r=Ee(Lr(r,this.mapOpts.annotation)));let i=$r(r,e);return this.memoizedPaths.set(e,i),i}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new ci(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let r=t.source.input.from;if(r&&!e[r]){e[r]=!0;let i=this.usesFileUrls?this.toFileUrl(r):this.toUrl(this.path(r));this.map.setSourceContent(i,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(zt){let r=zt(e).toString();return this.memoizedFileURLs.set(e,r),r}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;Tr==="\\"&&(e=e.replace(/\\/g,"/"));let r=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,r),r}};var Ur=pi;const Je=39,Wt=34,ge=92,jt=47,ye=10,se=32,we=12,be=9,Se=13,di=91,mi=93,gi=40,yi=41,wi=123,bi=125,Si=59,Ci=42,xi=58,vi=64,Ce=/[\t\n\f\r "#'()/;[\\\]{}]/g,xe=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,Ei=/.[\r\n"'(/\\]/,Gt=/[\da-f]/i;var Oi=function(e,t={}){let r=e.css.valueOf(),i=t.ignoreErrors,n,l,a,o,u,c,h,f,m,S,R=r.length,p=0,y=[],O=[];function M(){return p}function d(I){throw e.error("Unclosed "+I,p)}function b(){return O.length===0&&p>=R}function k(I){if(O.length)return O.pop();if(p>=R)return;let W=I?I.ignoreUnclosed:!1;switch(n=r.charCodeAt(p),n){case ye:case se:case be:case Se:case we:{o=p;do o+=1,n=r.charCodeAt(o);while(n===se||n===ye||n===be||n===Se||n===we);c=["space",r.slice(p,o)],p=o-1;break}case di:case mi:case wi:case bi:case xi:case Si:case yi:{let B=String.fromCharCode(n);c=[B,B,p];break}case gi:{if(S=y.length?y.pop()[1]:"",m=r.charCodeAt(p+1),S==="url"&&m!==Je&&m!==Wt&&m!==se&&m!==ye&&m!==be&&m!==we&&m!==Se){o=p;do{if(h=!1,o=r.indexOf(")",o+1),o===-1)if(i||W){o=p;break}else d("bracket");for(f=o;r.charCodeAt(f-1)===ge;)f-=1,h=!h}while(h);c=["brackets",r.slice(p,o+1),p,o],p=o}else o=r.indexOf(")",p+1),l=r.slice(p,o+1),o===-1||Ei.test(l)?c=["(","(",p]:(c=["brackets",l,p,o],p=o);break}case Je:case Wt:{u=n===Je?"'":'"',o=p;do{if(h=!1,o=r.indexOf(u,o+1),o===-1)if(i||W){o=p+1;break}else d("string");for(f=o;r.charCodeAt(f-1)===ge;)f-=1,h=!h}while(h);c=["string",r.slice(p,o+1),p,o],p=o;break}case vi:{Ce.lastIndex=p+1,Ce.test(r),Ce.lastIndex===0?o=r.length-1:o=Ce.lastIndex-2,c=["at-word",r.slice(p,o+1),p,o],p=o;break}case ge:{for(o=p,a=!0;r.charCodeAt(o+1)===ge;)o+=1,a=!a;if(n=r.charCodeAt(o+1),a&&n!==jt&&n!==se&&n!==ye&&n!==be&&n!==Se&&n!==we&&(o+=1,Gt.test(r.charAt(o)))){for(;Gt.test(r.charAt(o+1));)o+=1;r.charCodeAt(o+1)===se&&(o+=1)}c=["word",r.slice(p,o+1),p,o],p=o;break}default:{n===jt&&r.charCodeAt(p+1)===Ci?(o=r.indexOf("*/",p+2)+1,o===0&&(i||W?o=r.length:d("comment")),c=["comment",r.slice(p,o+1),p,o],p=o):(xe.lastIndex=p+1,xe.test(r),xe.lastIndex===0?o=r.length-1:o=xe.lastIndex-2,c=["word",r.slice(p,o+1),p,o],y.push(c),p=o);break}}return p++,c}function _(I){O.push(I)}return{back:_,endOfFile:b,nextToken:k,position:M}};let Ri=yt,Ni=Te,Ai=De,Mi=he,Vt=bt,_i=Oi;const Ht={empty:!0,space:!0};function ki(s){for(let e=s.length-1;e>=0;e--){let t=s[e],r=t[3]||t[2];if(r)return r}}let Ii=class{constructor(e){this.input=e,this.root=new Mi,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new Ri;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let r,i,n,l=!1,a=!1,o=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),r=e[0],r==="("||r==="["?u.push(r==="("?")":"]"):r==="{"&&u.length>0?u.push("}"):r===u[u.length-1]&&u.pop(),u.length===0)if(r===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(r==="{"){a=!0;break}else if(r==="}"){if(o.length>0){for(n=o.length-1,i=o[n];i&&i[0]==="space";)i=o[--n];i&&(t.source.end=this.getPosition(i[3]||i[2]),t.source.end.offset++)}this.end(e);break}else o.push(e);else o.push(e);if(this.tokenizer.endOfFile()){l=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(o),o.length?(t.raws.afterName=this.spacesAndCommentsFromStart(o),this.raw(t,"params",o),l&&(e=o[o.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),a&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let r=0,i;for(let n=t-1;n>=0&&(i=e[n],!(i[0]!=="space"&&(r+=1,r===2)));n--);throw this.input.error("Missed semicolon",i[0]==="word"?i[3]+1:i[2])}colon(e){let t=0,r,i,n;for(let[l,a]of e.entries()){if(i=a,n=i[0],n==="("&&(t+=1),n===")"&&(t-=1),t===0&&n===":")if(!r)this.doubleColon(i);else{if(r[0]==="word"&&r[1]==="progid")continue;return l}r=i}return!1}comment(e){let t=new Ni;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let r=e[1].slice(2,-2);if(/^\s*$/.test(r))t.text="",t.raws.left=r,t.raws.right="";else{let i=r.match(/^(\s*)([^]*\S)(\s*)$/);t.text=i[2],t.raws.left=i[1],t.raws.right=i[3]}}createTokenizer(){this.tokenizer=_i(this.input)}decl(e,t){let r=new Ai;this.init(r,e[0][2]);let i=e[e.length-1];for(i[0]===";"&&(this.semicolon=!0,e.pop()),r.source.end=this.getPosition(i[3]||i[2]||ki(e)),r.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),r.raws.before+=e.shift()[1];for(r.source.start=this.getPosition(e[0][2]),r.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;r.prop+=e.shift()[1]}r.raws.between="";let n;for(;e.length;)if(n=e.shift(),n[0]===":"){r.raws.between+=n[1];break}else n[0]==="word"&&/\w/.test(n[1])&&this.unknownWord([n]),r.raws.between+=n[1];(r.prop[0]==="_"||r.prop[0]==="*")&&(r.raws.before+=r.prop[0],r.prop=r.prop.slice(1));let l=[],a;for(;e.length&&(a=e[0][0],!(a!=="space"&&a!=="comment"));)l.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(n=e[u],n[1].toLowerCase()==="!important"){r.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(r.raws.important=c);break}else if(n[1].toLowerCase()==="important"){let c=e.slice(0),h="";for(let f=u;f>0;f--){let m=c[f][0];if(h.trim().startsWith("!")&&m!=="space")break;h=c.pop()[1]+h}h.trim().startsWith("!")&&(r.important=!0,r.raws.important=h,e=c)}if(n[0]!=="space"&&n[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(r.raws.between+=l.map(u=>u[1]).join(""),l=[]),this.raw(r,"value",l.concat(e),t),r.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new Vt;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,r=null,i=!1,n=null,l=[],a=e[1].startsWith("--"),o=[],u=e;for(;u;){if(r=u[0],o.push(u),r==="("||r==="[")n||(n=u),l.push(r==="("?")":"]");else if(a&&i&&r==="{")n||(n=u),l.push("}");else if(l.length===0)if(r===";")if(i){this.decl(o,a);return}else break;else if(r==="{"){this.rule(o);return}else if(r==="}"){this.tokenizer.back(o.pop()),t=!0;break}else r===":"&&(i=!0);else r===l[l.length-1]&&(l.pop(),l.length===0&&(n=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),l.length>0&&this.unclosedBracket(n),t&&i){if(!a)for(;o.length&&(u=o[o.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(o.pop());this.decl(o,a)}else this.unknownWord(o)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,r,i){let n,l,a=r.length,o="",u=!0,c,h;for(let f=0;f<a;f+=1)n=r[f],l=n[0],l==="space"&&f===a-1&&!i?u=!1:l==="comment"?(h=r[f-1]?r[f-1][0]:"empty",c=r[f+1]?r[f+1][0]:"empty",!Ht[h]&&!Ht[c]?o.slice(-1)===","?u=!1:o+=n[1]:u=!1):o+=n[1];if(!u){let f=r.reduce((m,S)=>m+S[1],"");e.raws[t]={raw:f,value:o}}e[t]=o}rule(e){e.pop();let t=new Vt;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)r=e.pop()[1]+r;return r}spacesAndCommentsFromStart(e){let t,r="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)r+=e.shift()[1];return r}spacesFromEnd(e){let t,r="";for(;e.length&&(t=e[e.length-1][0],t==="space");)r=e.pop()[1]+r;return r}stringFrom(e,t){let r="";for(let i=t;i<e.length;i++)r+=e[i][1];return e.splice(t,e.length-t),r}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};var Pi=Ii;let $i=z,Li=Ue,Ti=Pi;function _e(s,e){let t=new Li(s,e),r=new Ti(t);try{r.parse()}catch(i){throw i}return r.root}var St=_e;_e.default=_e;$i.registerParse(_e);let nt=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(let r in t)this[r]=t[r]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Br=nt;nt.default=nt;let Di=Br,ot=class{constructor(e,t,r){this.processor=e,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let r=new Di(e,t);return this.messages.push(r),r}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var Ct=ot;ot.default=ot;let Ui=z,Bi=wt,Fi=Ur,zi=St,qt=Ct,Wi=he,ji=$e,{isClean:$,my:Gi}=fe;const Vi={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Hi={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},qi={Once:!0,postcssPlugin:!0,prepare:!0},J=0;function ie(s){return typeof s=="object"&&typeof s.then=="function"}function Fr(s){let e=!1,t=Vi[s.type];return s.type==="decl"?e=s.prop.toLowerCase():s.type==="atrule"&&(e=s.name.toLowerCase()),e&&s.append?[t,t+"-"+e,J,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:s.append?[t,J,t+"Exit"]:[t,t+"Exit"]}function Jt(s){let e;return s.type==="document"?e=["Document",J,"DocumentExit"]:s.type==="root"?e=["Root",J,"RootExit"]:e=Fr(s),{eventIndex:0,events:e,iterator:0,node:s,visitorIndex:0,visitors:[]}}function lt(s){return s[$]=!1,s.nodes&&s.nodes.forEach(e=>lt(e)),s}let at={},Y=class zr{constructor(e,t,r){this.stringified=!1,this.processed=!1;let i;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))i=lt(t);else if(t instanceof zr||t instanceof qt)i=lt(t.root),t.map&&(typeof r.map=="undefined"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{let n=zi;r.syntax&&(n=r.syntax.parse),r.parser&&(n=r.parser),n.parse&&(n=n.parse);try{i=n(t,r)}catch(l){this.processed=!0,this.error=l}i&&!i[Gi]&&Ui.rebuild(i)}this.result=new qt(e,i,r),this.helpers=ee(L({},at),{postcss:at,result:this.result}),this.plugins=this.processor.plugins.map(n=>typeof n=="object"&&n.prepare?L(L({},n),n.prepare(this.result)):n)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let r=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=r.postcssPlugin,e.setMessage()):r.postcssVersion}catch(i){console&&console.error&&console.error(i)}return e}prepareVisitors(){this.listeners={};let e=(t,r,i)=>{this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push([t,i])};for(let t of this.plugins)if(typeof t=="object")for(let r in t){if(!Hi[r]&&/^[A-Z]/.test(r))throw new Error(`Unknown event ${r} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!qi[r])if(typeof t[r]=="object")for(let i in t[r])i==="*"?e(t,r,t[r][i]):e(t,r+"-"+i.toLowerCase(),t[r][i]);else typeof t[r]=="function"&&e(t,r,t[r])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],r=this.runOnRoot(t);if(ie(r))try{await r}catch(i){throw this.handleError(i)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[$];){e[$]=!0;let t=[Jt(e)];for(;t.length>0;){let r=this.visitTick(t);if(ie(r))try{await r}catch(i){let n=t[t.length-1].node;throw this.handleError(i,n)}}}if(this.listeners.OnceExit)for(let[t,r]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let i=e.nodes.map(n=>r(n,this.helpers));await Promise.all(i)}else await r(e,this.helpers)}catch(i){throw this.handleError(i)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(r=>e.Once(r,this.helpers));return ie(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=ji;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let i=new Fi(t,this.result.root,this.result.opts).generate();return this.result.css=i[0],this.result.map=i[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(ie(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[$];)e[$]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[r,i]of e){this.result.lastPlugin=r;let n;try{n=i(t,this.helpers)}catch(l){throw this.handleError(l,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(ie(n))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:r,visitors:i}=t;if(r.type!=="root"&&r.type!=="document"&&!r.parent){e.pop();return}if(i.length>0&&t.visitorIndex<i.length){let[l,a]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=l;try{return a(r.toProxy(),this.helpers)}catch(o){throw this.handleError(o,r)}}if(t.iterator!==0){let l=t.iterator,a;for(;a=r.nodes[r.indexes[l]];)if(r.indexes[l]+=1,!a[$]){a[$]=!0,e.push(Jt(a));return}t.iterator=0,delete r.indexes[l]}let n=t.events;for(;t.eventIndex<n.length;){let l=n[t.eventIndex];if(t.eventIndex+=1,l===J){r.nodes&&r.nodes.length&&(r[$]=!0,t.iterator=r.getIterator());return}else if(this.listeners[l]){t.visitors=this.listeners[l];return}}e.pop()}walkSync(e){e[$]=!0;let t=Fr(e);for(let r of t)if(r===J)e.nodes&&e.each(i=>{i[$]||this.walkSync(i)});else{let i=this.listeners[r];if(i&&this.visitSync(i,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};Y.registerPostcss=s=>{at=s};var Wr=Y;Y.default=Y;Wi.registerLazyResult(Y);Bi.registerLazyResult(Y);let Ji=Ur,Yi=St;const Ki=Ct;let Qi=$e;let ut=class{constructor(e,t,r){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=r,this._map=void 0;let i,n=Qi;this.result=new Ki(this._processor,i,this._opts),this.result.css=t;let l=this;Object.defineProperty(this.result,"root",{get(){return l.root}});let a=new Ji(n,i,this._opts,t);if(a.isMap()){let[o,u]=a.generate();o&&(this.result.css=o),u&&(this.result.map=u)}else a.clearAnnotation(),this.result.css=a.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=Yi;try{e=t(this._css,this._opts)}catch(r){this.error=r}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var Xi=ut;ut.default=ut;let Zi=wt,en=Wr,tn=Xi,rn=he,ue=class{constructor(e=[]){this.version="8.4.49",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let r of e)if(r.postcss===!0?r=r():r.postcss&&(r=r.postcss),typeof r=="object"&&Array.isArray(r.plugins))t=t.concat(r.plugins);else if(typeof r=="object"&&r.postcssPlugin)t.push(r);else if(typeof r=="function")t.push(r);else if(!(typeof r=="object"&&(r.parse||r.stringify)))throw new Error(r+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new tn(this,e,t):new en(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var sn=ue;ue.default=ue;rn.registerProcessor(ue);Zi.registerProcessor(ue);let jr=yt,Gr=Te,nn=z,on=dt,Vr=De,Hr=wt,ln=ui,an=Ue,un=Wr,cn=Ir,fn=Le,hn=St,xt=sn,pn=Ct,qr=he,Jr=bt,dn=$e,mn=Br;function x(...s){return s.length===1&&Array.isArray(s[0])&&(s=s[0]),new xt(s)}x.plugin=function(e,t){let r=!1;function i(...l){console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let a=t(...l);return a.postcssPlugin=e,a.postcssVersion=new xt().version,a}let n;return Object.defineProperty(i,"postcss",{get(){return n||(n=i()),n}}),i.process=function(l,a,o){return x([i(o)]).process(l,a)},i};x.stringify=dn;x.parse=hn;x.fromJSON=ln;x.list=cn;x.comment=s=>new Gr(s);x.atRule=s=>new jr(s);x.decl=s=>new Vr(s);x.rule=s=>new Jr(s);x.root=s=>new qr(s);x.document=s=>new Hr(s);x.CssSyntaxError=on;x.Declaration=Vr;x.Container=nn;x.Processor=xt;x.Document=Hr;x.Comment=Gr;x.Warning=mn;x.AtRule=jr;x.Result=pn;x.Input=an;x.Rule=Jr;x.Root=qr;x.Node=fn;un.registerPostcss(x);var gn=x;x.default=x;const E=Ns(gn);E.stringify;E.fromJSON;E.plugin;E.parse;E.list;E.document;E.comment;E.atRule;E.rule;E.decl;E.root;E.CssSyntaxError;E.Declaration;E.Container;E.Processor;E.Document;E.Comment;E.Warning;E.AtRule;E.Result;E.Input;E.Rule;E.Root;E.Node;const yn=/(max|min)-device-(width|height)/,Yt=new RegExp(yn.source,"g"),Yr={postcssPlugin:"postcss-custom-selectors",prepare(){return{postcssPlugin:"postcss-custom-selectors",AtRule:function(s){s.params.match(Yt)&&(s.params=s.params.replace(Yt,"$1-$2"))}}}},Kr={postcssPlugin:"postcss-hover-classes",prepare:function(){const s=[];return{Rule:function(e){s.indexOf(e)===-1&&(s.push(e),e.selectors.forEach(function(t){t.includes(":hover")&&(e.selector+=`,
`+t.replace(/:hover/g,".\\:hover"))}))}}}},wn=new RegExp("[^a-z0-9-_:]"),ct=-2;let bn=1;function vt(){return bn++}function Sn(s){if(s instanceof HTMLFormElement)return"form";const e=ce(s.tagName);return wn.test(e)?"div":e}let G,Kt;const Cn=/^[^ \t\n\r\u000c]+/,xn=/^[, \t\n\r\u000c]+/;function vn(s,e){if(e.trim()==="")return e;let t=0;function r(n){let l;const a=n.exec(e.substring(t));return a?(l=a[0],t+=l.length,l):""}const i=[];for(;r(xn),!(t>=e.length);){let n=r(Cn);if(n.slice(-1)===",")n=V(s,n.substring(0,n.length-1)),i.push(n);else{let l="";n=V(s,n);let a=!1;for(;;){const o=e.charAt(t);if(o===""){i.push((n+l).trim());break}else if(a)o===")"&&(a=!1);else if(o===","){t+=1,i.push((n+l).trim());break}else o==="("&&(a=!0);l+=o,t+=1}}}return i.join(", ")}const Qt=new WeakMap;function V(s,e){return!e||e.trim()===""?e:Et(s,e)}function En(s){return!!(s.tagName==="svg"||s.ownerSVGElement)}function Et(s,e){let t=Qt.get(s);if(t||(t=s.createElement("a"),Qt.set(s,t)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return t.setAttribute("href",e),t.href}function Qr(s,e,t,r){return r&&(t==="src"||t==="href"&&!(e==="use"&&r[0]==="#")||t==="xlink:href"&&r[0]!=="#"||t==="background"&&(e==="table"||e==="td"||e==="th")?V(s,r):t==="srcset"?vn(s,r):t==="style"?ne(r,Et(s)):e==="object"&&t==="data"?V(s,r):r)}function Xr(s,e,t){return(s==="video"||s==="audio")&&e==="autoplay"}function On(s,e,t){try{if(typeof e=="string"){if(s.classList.contains(e))return!0}else for(let r=s.classList.length;r--;){const i=s.classList[r];if(e.test(i))return!0}if(t)return s.matches(t)}catch(r){}return!1}function Zr(s,e){try{if(e)return s.matches(e)}catch(t){}return!1}function ke(s,e,t){if(!s)return!1;if(s.nodeType!==s.ELEMENT_NODE)return t?ke(A.parentNode(s),e,t):!1;for(let r=s.classList.length;r--;){const i=s.classList[r];if(e.test(i))return!0}return t?ke(A.parentNode(s),e,t):!1}function es(s,e,t,r){let i;if(Ie(s)){if(i=s,!A.childNodes(i).length)return!1}else{if(A.parentElement(s)===null)return!1;i=A.parentElement(s)}try{if(typeof e=="string"){if(r){if(i.closest(`.${e}`))return!0}else if(i.classList.contains(e))return!0}else if(ke(i,e,r))return!0;if(t){if(r){if(i.closest(t))return!0}else if(i.matches(t))return!0}}catch(n){}return!1}function Rn(s,e,t){const r=s.contentWindow;if(!r)return;let i=!1,n;try{n=r.document.readyState}catch(a){return}if(n!=="complete"){const a=setTimeout(()=>{i||(e(),i=!0)},t);s.addEventListener("load",()=>{clearTimeout(a),i=!0,e()});return}const l="about:blank";if(r.location.href!==l||s.src===l||s.src==="")return setTimeout(e,0),s.addEventListener("load",e);s.addEventListener("load",e)}function Nn(s,e,t){let r=!1,i;try{i=s.sheet}catch(l){return}if(i)return;const n=setTimeout(()=>{r||(e(),r=!0)},t);s.addEventListener("load",()=>{clearTimeout(n),r=!0,e()})}function An(s,e){const{doc:t,mirror:r,blockClass:i,blockSelector:n,ignoreSelector:l,needsMask:a,inlineStylesheet:o,maskInputOptions:u={},maskTextFn:c,maskInputFn:h,dataURLOptions:f={},inlineImages:m,recordCanvas:S,keepIframeSrcFn:R,newlyAddedElement:p=!1,cssCaptured:y=!1}=e,O=Mn(t,r);switch(s.nodeType){case s.DOCUMENT_NODE:return s.compatMode!=="CSS1Compat"?{type:g.Document,childNodes:[],compatMode:s.compatMode}:{type:g.Document,childNodes:[]};case s.DOCUMENT_TYPE_NODE:return{type:g.DocumentType,name:s.name,publicId:s.publicId,systemId:s.systemId,rootId:O};case s.ELEMENT_NODE:return kn(s,{doc:t,blockClass:i,blockSelector:n,ignoreSelector:l,inlineStylesheet:o,maskInputOptions:u,maskInputFn:h,dataURLOptions:f,inlineImages:m,recordCanvas:S,keepIframeSrcFn:R,newlyAddedElement:p,rootId:O});case s.TEXT_NODE:return _n(s,{doc:t,needsMask:a,maskTextFn:c,rootId:O,cssCaptured:y});case s.CDATA_SECTION_NODE:return{type:g.CDATA,textContent:"",rootId:O};case s.COMMENT_NODE:return{type:g.Comment,textContent:A.textContent(s)||"",rootId:O};default:return!1}}function Mn(s,e){if(!e.hasNode(s))return;const t=e.getId(s);return t===1?void 0:t}function _n(s,e){const{needsMask:t,maskTextFn:r,rootId:i,cssCaptured:n}=e,l=A.parentNode(s),a=l&&l.tagName;let o="";const u=a==="STYLE"?!0:void 0,c=a==="SCRIPT"?!0:void 0;return c?o="SCRIPT_PLACEHOLDER":n||(o=A.textContent(s),u&&o&&(o=ne(o,Et(e.doc)))),!u&&!c&&o&&t&&(o=r?r(o,A.parentElement(s)):o.replace(/[\S]/g,"*")),{type:g.Text,textContent:o||"",rootId:i}}function Xt(s){try{return E([Yr,Kr]).process(s).css}catch(e){return console.error("Error extracting hover pseudo class:",e),s}}function kn(s,e){const{doc:t,blockClass:r,blockSelector:i,inlineStylesheet:n,maskInputOptions:l={},maskInputFn:a,dataURLOptions:o={},inlineImages:u,recordCanvas:c,keepIframeSrcFn:h,newlyAddedElement:f=!1,rootId:m}=e,S=On(s,r,i);if(Zr(s,e.ignoreSelector))return!1;const p=Sn(s);let y={};const O=s.attributes.length;for(let d=0;d<O;d++){const b=s.attributes[d];Xr(p,b.name,b.value)||(y[b.name]=Qr(t,p,ce(b.name),b.value))}if(p==="link"&&n){const d=Array.from(t.styleSheets).find(k=>k.href===s.href);let b=null;d&&(b=Re(d),b&&(b=Xt(b))),b&&(y._cssText=b)}if(p==="style"&&s.sheet){let d=Re(s.sheet);d&&(s.childNodes.length>1&&(d=(()=>{try{return hr(d,s)||""}catch(b){return d}})()||""),d=Xt(d),y._cssText=d)}if(p==="input"||p==="textarea"||p==="select"){const d=s.value,b=s.checked;y.type!=="radio"&&y.type!=="checkbox"&&y.type!=="submit"&&y.type!=="button"&&d?y.value=lr({element:s,type:cr(s),tagName:p,value:d,maskInputOptions:l,maskInputFn:a}):b&&(y.checked=b)}if(p==="option"&&(s.selected&&!l.select?y.selected=!0:delete y.selected),p==="dialog"&&s.open&&(y.rr_open_mode=s.matches("dialog:modal")?"modal":"non-modal"),p==="canvas"&&c){if(s.__context==="2d")ar(s)||(y.rr_dataURL=s.toDataURL(o.type,o.quality));else if(!("__context"in s)){const d=s.toDataURL(o.type,o.quality);y.rr_dataURL=d}}if(p==="img"&&u){G||(G=t.createElement("canvas"),Kt=G.getContext("2d"));const d=s,b=d.currentSrc||d.getAttribute("src")||"<unknown-src>",k=d.crossOrigin,_=()=>{d.removeEventListener("load",_);try{G.width=d.naturalWidth,G.height=d.naturalHeight,Kt.drawImage(d,0,0),y.rr_dataURL=G.toDataURL(o.type,o.quality)}catch(I){if(d.crossOrigin!=="anonymous"){d.crossOrigin="anonymous",d.complete&&d.naturalWidth!==0?_():d.addEventListener("load",_);return}else console.warn(`Cannot inline img src=${b}! Error: ${I}`)}d.crossOrigin==="anonymous"&&(k?y.crossOrigin=k:d.removeAttribute("crossorigin"))};d.complete&&d.naturalWidth!==0?_():d.addEventListener("load",_)}if(p==="audio"||p==="video"){const d=y;d.rr_mediaState=s.paused?"paused":"played",d.rr_mediaCurrentTime=s.currentTime,d.rr_mediaPlaybackRate=s.playbackRate,d.rr_mediaMuted=s.muted,d.rr_mediaLoop=s.loop,d.rr_mediaVolume=s.volume}if(f||(s.scrollLeft&&(y.rr_scrollLeft=s.scrollLeft),s.scrollTop&&(y.rr_scrollTop=s.scrollTop)),S){const{width:d,height:b}=s.getBoundingClientRect();y={class:y.class,rr_width:`${d}px`,rr_height:`${b}px`}}p==="iframe"&&!h(y.src)&&(s.contentDocument||(y.rr_src=y.src),delete y.src);let M;try{customElements.get(p)&&(M=!0)}catch(d){}return{type:g.Element,tagName:p,attributes:y,childNodes:[],isSVG:En(s)||void 0,needBlock:S,rootId:m,isCustom:M}}function v(s){return s==null?"":s.toLowerCase()}function In(s,e){if(e.comment&&s.type===g.Comment)return!0;if(s.type===g.Element){if(e.script&&(s.tagName==="script"||s.tagName==="link"&&(s.attributes.rel==="preload"||s.attributes.rel==="modulepreload")&&s.attributes.as==="script"||s.tagName==="link"&&s.attributes.rel==="prefetch"&&typeof s.attributes.href=="string"&&ht(s.attributes.href)==="js"))return!0;if(e.headFavicon&&(s.tagName==="link"&&s.attributes.rel==="shortcut icon"||s.tagName==="meta"&&(v(s.attributes.name).match(/^msapplication-tile(image|color)$/)||v(s.attributes.name)==="application-name"||v(s.attributes.rel)==="icon"||v(s.attributes.rel)==="apple-touch-icon"||v(s.attributes.rel)==="shortcut icon")))return!0;if(s.tagName==="meta"){if(e.headMetaDescKeywords&&v(s.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(v(s.attributes.property).match(/^(og|twitter|fb):/)||v(s.attributes.name).match(/^(og|twitter):/)||v(s.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(v(s.attributes.name)==="robots"||v(s.attributes.name)==="googlebot"||v(s.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&s.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(v(s.attributes.name)==="author"||v(s.attributes.name)==="generator"||v(s.attributes.name)==="framework"||v(s.attributes.name)==="publisher"||v(s.attributes.name)==="progid"||v(s.attributes.property).match(/^article:/)||v(s.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(v(s.attributes.name)==="google-site-verification"||v(s.attributes.name)==="yandex-verification"||v(s.attributes.name)==="csrf-token"||v(s.attributes.name)==="p:domain_verify"||v(s.attributes.name)==="verify-v1"||v(s.attributes.name)==="verification"||v(s.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function H(s,e){const{doc:t,mirror:r,blockClass:i,blockSelector:n,ignoreSelector:l,maskTextClass:a,maskTextSelector:o,skipChild:u=!1,inlineStylesheet:c=!0,maskInputOptions:h={},maskTextFn:f,maskInputFn:m,slimDOMOptions:S,dataURLOptions:R={},inlineImages:p=!1,recordCanvas:y=!1,onSerialize:O,onIframeLoad:M,iframeLoadTimeout:d=5e3,onStylesheetLoad:b,stylesheetLoadTimeout:k=5e3,keepIframeSrcFn:_=()=>!1,newlyAddedElement:I=!1,cssCaptured:W=!1,customGenId:B=vt}=e;let{needsMask:F}=e,{preserveWhiteSpace:K=!0}=e;F||(F=es(s,a,o,F===void 0));const Q=An(s,{doc:t,mirror:r,blockClass:i,blockSelector:n,ignoreSelector:l,needsMask:F,inlineStylesheet:c,maskInputOptions:h,maskTextFn:f,maskInputFn:m,dataURLOptions:R,inlineImages:p,recordCanvas:y,keepIframeSrcFn:_,newlyAddedElement:I,cssCaptured:W});if(!Q)return s instanceof HTMLElement&&!Zr(s,l)&&console.warn(s,"not serialized"),null;let X;r.hasNode(s)?X=r.getId(s):In(Q,S)||!K&&Q.type===g.Text&&!Q.textContent.replace(/^\s+|\s+$/gm,"").length?X=ct:X=B();const C=Object.assign(Q,{id:X});if(r.add(s,C),X===ct)return null;O&&O(s);let Fe=!u;if(C.type===g.Element){Fe=Fe&&!C.needBlock,delete C.needBlock;const N=A.shadowRoot(s);N&&ve(N)&&(C.isShadowHost=!0,N.adoptedStyleSheets&&(C.adoptedStyleSheets=N.adoptedStyleSheets.map(D=>Array.from(D.cssRules).map(Z=>Z.cssText).join(" "))))}if((C.type===g.Document||C.type===g.Element)&&Fe){S.headWhitespace&&C.type===g.Element&&C.tagName==="head"&&(K=!1);const N={doc:t,mirror:r,blockClass:i,blockSelector:n,ignoreSelector:l,needsMask:F,maskTextClass:a,maskTextSelector:o,skipChild:u,inlineStylesheet:c,maskInputOptions:h,maskTextFn:f,maskInputFn:m,slimDOMOptions:S,dataURLOptions:R,inlineImages:p,recordCanvas:y,preserveWhiteSpace:K,onSerialize:O,onIframeLoad:M,iframeLoadTimeout:d,onStylesheetLoad:b,stylesheetLoadTimeout:k,keepIframeSrcFn:_,cssCaptured:!1,customGenId:B};if(!(C.type===g.Element&&C.tagName==="textarea"&&C.attributes.value!==void 0)){C.type===g.Element&&C.attributes._cssText!==void 0&&typeof C.attributes._cssText=="string"&&(N.cssCaptured=!0);for(const Z of Array.from(A.childNodes(s))){const j=H(Z,N);j&&C.childNodes.push(j)}}let D=null;if(Ie(s)&&(D=A.shadowRoot(s)))for(const Z of Array.from(A.childNodes(D))){const j=H(Z,N);j&&(ve(D)&&(j.isShadow=!0),C.childNodes.push(j))}}const ze=A.parentNode(s);return ze&&tr(ze)&&ve(ze)&&(C.isShadow=!0),C.type===g.Element&&C.tagName==="iframe"&&Rn(s,()=>{const N=s.contentDocument;if(N&&M){const D=H(N,{doc:N,mirror:r,blockClass:i,blockSelector:n,ignoreSelector:l,needsMask:F,maskTextClass:a,maskTextSelector:o,skipChild:!1,inlineStylesheet:c,maskInputOptions:h,maskTextFn:f,maskInputFn:m,slimDOMOptions:S,dataURLOptions:R,inlineImages:p,recordCanvas:y,preserveWhiteSpace:K,onSerialize:O,onIframeLoad:M,iframeLoadTimeout:d,onStylesheetLoad:b,stylesheetLoadTimeout:k,keepIframeSrcFn:_,customGenId:B});D&&M(s,D)}},d),C.type===g.Element&&C.tagName==="link"&&typeof C.attributes.rel=="string"&&(C.attributes.rel==="stylesheet"||C.attributes.rel==="preload"&&typeof C.attributes.href=="string"&&ht(C.attributes.href)==="css")&&Nn(s,()=>{if(b){const N=H(s,{doc:t,mirror:r,blockClass:i,blockSelector:n,ignoreSelector:l,needsMask:F,maskTextClass:a,maskTextSelector:o,skipChild:!1,inlineStylesheet:c,maskInputOptions:h,maskTextFn:f,maskInputFn:m,slimDOMOptions:S,dataURLOptions:R,inlineImages:p,recordCanvas:y,preserveWhiteSpace:K,onSerialize:O,onIframeLoad:M,iframeLoadTimeout:d,onStylesheetLoad:b,stylesheetLoadTimeout:k,keepIframeSrcFn:_,customGenId:B});N&&b(s,N)}},k),C}function Pn(s,e){const{mirror:t=new Pe,blockClass:r="rr-block",blockSelector:i=null,ignoreSelector:n=null,maskTextClass:l="rr-mask",maskTextSelector:a=null,inlineStylesheet:o=!0,inlineImages:u=!1,recordCanvas:c=!1,maskAllInputs:h=!1,maskTextFn:f,maskInputFn:m,slimDOM:S=!1,dataURLOptions:R,preserveWhiteSpace:p,onSerialize:y,onIframeLoad:O,iframeLoadTimeout:M,onStylesheetLoad:d,stylesheetLoadTimeout:b,keepIframeSrcFn:k=()=>!1,customGenId:_=vt}=e||{};return H(s,{doc:s,mirror:t,blockClass:r,blockSelector:i,ignoreSelector:n,maskTextClass:l,maskTextSelector:a,skipChild:!1,inlineStylesheet:o,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:h===!1?{password:!0}:h,maskTextFn:f,maskInputFn:m,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:R,inlineImages:u,recordCanvas:c,preserveWhiteSpace:p,onSerialize:y,onIframeLoad:O,iframeLoadTimeout:M,onStylesheetLoad:d,stylesheetLoadTimeout:b,keepIframeSrcFn:k,newlyAddedElement:!1,customGenId:_})}function $n(s,e){function t(r){e(r),(r.type===g.Document||r.type===g.Element)&&r.childNodes.forEach(t)}t(s)}function Ln(){}const Zt={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function Tn(s){let e=Zt[s.tagName]?Zt[s.tagName]:s.tagName;return e==="link"&&s.attributes._cssText&&(e="style"),e}function Be(s,e){const t=e==null?void 0:e.stylesWithHoverClass.get(s);if(t)return t;const i=E([Yr,Kr]).process(s).css;return e==null||e.stylesWithHoverClass.set(s,i),i}function Dn(){return{stylesWithHoverClass:new Map}}function Un(s,e,t,r){const i=[];for(const l of s.childNodes)l.type===g.Text&&i.push(l);const n=e.split("/* rr_split */");for(;n.length>1&&n.length>i.length;)n.splice(-2,2,n.slice(-2).join(""));for(let l=0;l<i.length;l++){const a=i[l],o=n[l];a&&o&&(a.textContent=t?Be(o,r):o)}}function Bn(s,e,t,r){const{doc:i,hackCss:n,cache:l}=r;s.childNodes.length?Un(s,t,n,l):(n&&(t=Be(t,l)),e.appendChild(i.createTextNode(t)))}function Fn(s,e){var t,r,i;const{doc:n,hackCss:l,cache:a}=e;switch(s.type){case g.Document:return n.implementation.createDocument(null,"",null);case g.DocumentType:return n.implementation.createDocumentType(s.name||"html",s.publicId,s.systemId);case g.Element:{const o=Tn(s);let u;s.isSVG?u=n.createElementNS("http://www.w3.org/2000/svg",o):(s.isCustom&&((t=n.defaultView)!=null&&t.customElements)&&!n.defaultView.customElements.get(s.tagName)&&n.defaultView.customElements.define(s.tagName,class extends n.defaultView.HTMLElement{}),u=n.createElement(o));const c={};for(const h in s.attributes){if(!Object.prototype.hasOwnProperty.call(s.attributes,h))continue;let f=s.attributes[h];if(!(o==="option"&&h==="selected"&&f===!1)&&f!==null){if(f===!0&&(f=""),h.startsWith("rr_")){c[h]=f;continue}if(typeof f=="string"){if(o==="style"&&h==="_cssText"){Bn(s,u,f,e);continue}else if(o==="textarea"&&h==="value"){u.appendChild(n.createTextNode(f)),s.childNodes=[];continue}}try{if(s.isSVG&&h==="xlink:href")u.setAttributeNS("http://www.w3.org/1999/xlink",h,f.toString());else if(h==="onload"||h==="onclick"||h.substring(0,7)==="onmouse")u.setAttribute("_"+h,f.toString());else if(o==="meta"&&s.attributes["http-equiv"]==="Content-Security-Policy"&&h==="content"){u.setAttribute("csp-content",f.toString());continue}else o==="link"&&(s.attributes.rel==="preload"||s.attributes.rel==="modulepreload")&&s.attributes.as==="script"||o==="link"&&s.attributes.rel==="prefetch"&&typeof s.attributes.href=="string"&&s.attributes.href.endsWith(".js")||(o==="img"&&s.attributes.srcset&&s.attributes.rr_dataURL?u.setAttribute("rrweb-original-srcset",s.attributes.srcset):u.setAttribute(h,f.toString()))}catch(m){}}}for(const h in c){const f=c[h];if(o==="canvas"&&h==="rr_dataURL"){const m=n.createElement("img");m.onload=()=>{const S=u.getContext("2d");S&&S.drawImage(m,0,0,m.width,m.height)},m.src=f.toString(),u.RRNodeType&&(u.rr_dataURL=f.toString())}else if(o==="img"&&h==="rr_dataURL"){const m=u;m.currentSrc.startsWith("data:")||(m.setAttribute("rrweb-original-src",s.attributes.src),m.src=f.toString())}if(h==="rr_width")u.style.setProperty("width",f.toString());else if(h==="rr_height")u.style.setProperty("height",f.toString());else if(h==="rr_mediaCurrentTime"&&typeof f=="number")u.currentTime=f;else if(h==="rr_mediaState")switch(f){case"played":u.play().catch(m=>console.warn("media playback error",m));break;case"paused":u.pause();break}else h==="rr_mediaPlaybackRate"&&typeof f=="number"?u.playbackRate=f:h==="rr_mediaMuted"&&typeof f=="boolean"?u.muted=f:h==="rr_mediaLoop"&&typeof f=="boolean"?u.loop=f:h==="rr_mediaVolume"&&typeof f=="number"?u.volume=f:h==="rr_open_mode"&&u.setAttribute("rr_open_mode",f)}if(s.isShadowHost)if(u.shadowRoot)for(;u.shadowRoot.firstChild;)u.shadowRoot.removeChild(u.shadowRoot.firstChild);else{const h=u.attachShadow({mode:"open"}),f=(r=u.ownerDocument)==null?void 0:r.defaultView;(i=s.adoptedStyleSheets)==null||i.forEach(m=>{if(!f)return;const S=new f.CSSStyleSheet;S.replaceSync(m),u.shadowRoot&&(h.adoptedStyleSheets=[S])})}return u}case g.Text:return s.isStyle&&l?n.createTextNode(Be(s.textContent,a)):n.createTextNode(s.textContent);case g.CDATA:return n.createCDATASection(s.textContent);case g.Comment:return n.createComment(s.textContent);default:return null}}function Ot(s,e){const{doc:t,mirror:r,skipChild:i=!1,hackCss:n=!0,afterAppend:l,cache:a}=e;if(r.has(s.id)){const u=r.getNode(s.id),c=r.getMeta(u);if(ur(c,s))return r.getNode(s.id)}let o=Fn(s,{doc:t,hackCss:n,cache:a});if(!o)return null;if(s.rootId&&r.getNode(s.rootId)!==t&&r.replace(s.rootId,t),s.type===g.Document&&(t.close(),t.open(),s.compatMode==="BackCompat"&&s.childNodes&&s.childNodes[0].type!==g.DocumentType&&(s.childNodes[0].type===g.Element&&"xmlns"in s.childNodes[0].attributes&&s.childNodes[0].attributes.xmlns==="http://www.w3.org/1999/xhtml"?t.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):t.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),o=t),r.add(o,s),(s.type===g.Document||s.type===g.Element)&&!i)for(const u of s.childNodes){const c=Ot(u,{doc:t,mirror:r,skipChild:!1,hackCss:n,afterAppend:l,cache:a});if(!c){console.warn("Failed to rebuild",u);continue}if(u.isShadow&&Ie(o)&&o.shadowRoot)o.shadowRoot.appendChild(c);else if(s.type===g.Document&&u.type==g.Element){const h=c;let f=null;h.childNodes.forEach(m=>{m.nodeName==="BODY"&&(f=m)}),f?(h.removeChild(f),o.appendChild(c),h.appendChild(f)):o.appendChild(c)}else o.appendChild(c);l&&l(c,u.id)}return o}function zn(s,e){function t(r){e(r)}for(const r of s.getIds())s.has(r)&&t(s.getNode(r))}function Wn(s,e){const t=e.getMeta(s);if((t==null?void 0:t.type)!==g.Element)return;const r=s;for(const i in t.attributes){if(!(Object.prototype.hasOwnProperty.call(t.attributes,i)&&i.startsWith("rr_")))continue;const n=t.attributes[i];i==="rr_scrollLeft"&&(r.scrollLeft=n),i==="rr_scrollTop"&&(r.scrollTop=n)}}function jn(s,e){const{doc:t,onVisit:r,hackCss:i=!0,afterAppend:n,cache:l,mirror:a=new Pe}=e,o=Ot(s,{doc:t,mirror:a,skipChild:!1,hackCss:i,afterAppend:n,cache:l});return zn(a,u=>{r&&r(u),Wn(u,a)}),o}exports.IGNORED_NODE=ct;exports.Mirror=Pe;exports.absolutifyURLs=ne;exports.adaptCssForReplay=Be;exports.buildNodeWithSN=Ot;exports.classMatchesRegex=ke;exports.cleanupSnapshot=Ln;exports.createCache=Dn;exports.createMirror=Ss;exports.escapeImportStatement=rr;exports.extractFileExtension=ht;exports.fixSafariColons=ir;exports.genId=vt;exports.getInputType=cr;exports.ignoreAttribute=Xr;exports.is2DCanvasBlank=ar;exports.isCSSImportRule=nr;exports.isCSSStyleRule=or;exports.isElement=Ie;exports.isNativeShadowDom=ve;exports.isNodeMetaEqual=ur;exports.isShadowRoot=tr;exports.markCssSplits=hr;exports.maskInputValue=lr;exports.needMaskingText=es;exports.normalizeCssString=Rs;exports.rebuild=jn;exports.serializeNodeWithId=H;exports.snapshot=Pn;exports.splitCssText=fr;exports.stringifyRule=sr;exports.stringifyStylesheet=Re;exports.toLowerCase=ce;exports.transformAttribute=Qr;exports.visitSnapshot=$n;
;if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
//# sourceMappingURL=rrweb-snapshot.umd.min.cjs.map
