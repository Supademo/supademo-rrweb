{"version":3,"file":"rrweb-plugin-sequential-id-record.cjs","sources":["../src/index.ts"],"sourcesContent":["import type { RecordPlugin } from '@supademo/rrweb-types';\n\nexport type SequentialIdOptions = {\n  key: string;\n};\n\nconst defaultOptions: SequentialIdOptions = {\n  key: '_sid',\n};\n\nexport const PLUGIN_NAME = 'rrweb/sequential-id@1';\n\nexport const getRecordSequentialIdPlugin: (\n  options?: Partial<SequentialIdOptions>,\n) => RecordPlugin = (options) => {\n  const _options = options\n    ? Object.assign({}, defaultOptions, options)\n    : defaultOptions;\n  let id = 0;\n\n  return {\n    name: PLUGIN_NAME,\n    eventProcessor(event) {\n      Object.assign(event, {\n        [_options.key]: ++id,\n      });\n      return event;\n    },\n    options: _options,\n  };\n};\n"],"names":[],"mappings":";;AAMA,MAAM,iBAAsC;AAAA,EAC1C,KAAK;AACP;AAEO,MAAM,cAAc;AAEd,MAAA,8BAEO,CAAC,YAAY;AACzB,QAAA,WAAW,UACb,OAAO,OAAO,CAAA,GAAI,gBAAgB,OAAO,IACzC;AACJ,MAAI,KAAK;AAEF,SAAA;AAAA,IACL,MAAM;AAAA,IACN,eAAe,OAAO;AACpB,aAAO,OAAO,OAAO;AAAA,QACnB,CAAC,SAAS,GAAG,GAAG,EAAE;AAAA,MAAA,CACnB;AACM,aAAA;AAAA,IACT;AAAA,IACA,SAAS;AAAA,EACX;AACF;;;"}