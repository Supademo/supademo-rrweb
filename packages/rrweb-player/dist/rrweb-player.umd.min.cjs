(function (g, f) {if ("object" == typeof exports && "object" == typeof module) {module.exports = f();} else if ("function" == typeof define && define.amd) {define("rrwebPlayer", [], f);} else if ("object" == typeof exports) {exports["rrwebPlayer"] = f();} else {g["rrwebPlayer"] = f();}}(typeof self !== 'undefined' ? self : typeof globalThis !== 'undefined' ? globalThis : this, () => {var exports = {};var module = { exports };
"use strict";var Gl=Object.defineProperty,Yl=Object.defineProperties;var jl=Object.getOwnPropertyDescriptors;var Pt=Object.getOwnPropertySymbols;var gr=Object.prototype.hasOwnProperty,yr=Object.prototype.propertyIsEnumerable;var mr=(s,e,t)=>e in s?Gl(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,V=(s,e)=>{for(var t in e||(e={}))gr.call(e,t)&&mr(s,t,e[t]);if(Pt)for(var t of Pt(e))yr.call(e,t)&&mr(s,t,e[t]);return s},le=(s,e)=>Yl(s,jl(e));var nt=(s,e)=>{var t={};for(var i in s)gr.call(s,i)&&e.indexOf(i)<0&&(t[i]=s[i]);if(s!=null&&Pt)for(var i of Pt(s))e.indexOf(i)<0&&yr.call(s,i)&&(t[i]=s[i]);return t};var Zl=Object.defineProperty,Hl=(s,e,t)=>e in s?Zl(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,wr=(s,e,t)=>Hl(s,typeof e!="symbol"?e+"":e,t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});function bt(){}function vr(s,e){for(const t in e)s[t]=e[t];return s}function Fn(s){return s()}function br(){return Object.create(null)}function st(s){s.forEach(Fn)}function Bn(s){return typeof s=="function"}function Bs(s,e){return s!=s?e==e:s!==e||s&&typeof s=="object"||typeof s=="function"}function Xl(s){return Object.keys(s).length===0}function Cr(s){const e={};for(const t in s)t[0]!=="$"&&(e[t]=s[t]);return e}function P(s,e){s.appendChild(e)}function Me(s,e,t){s.insertBefore(e,t||null)}function Ee(s){s.parentNode&&s.parentNode.removeChild(s)}function $i(s,e){for(let t=0;t<s.length;t+=1)s[t]&&s[t].d(e)}function se(s){return document.createElement(s)}function ai(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Le(s){return document.createTextNode(s)}function ce(){return Le(" ")}function Jl(){return Le("")}function je(s,e,t,i){return s.addEventListener(e,t,i),()=>s.removeEventListener(e,t,i)}function M(s,e,t){t==null?s.removeAttribute(e):s.getAttribute(e)!==t&&s.setAttribute(e,t)}function Kl(s){return Array.from(s.childNodes)}function ui(s,e){e=""+e,s.data!==e&&(s.data=e)}function ee(s,e,t,i){t==null?s.style.removeProperty(e):s.style.setProperty(e,t,"")}function Xe(s,e,t){s.classList.toggle(e,!!t)}function Ql(s,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(s,{detail:e,bubbles:t,cancelable:i})}let Ct;function yt(s){Ct=s}function Si(){if(!Ct)throw new Error("Function called outside component initialization");return Ct}function Un(s){Si().$$.on_mount.push(s)}function ql(s){Si().$$.after_update.push(s)}function zn(s){Si().$$.on_destroy.push(s)}function ea(){const s=Si();return(e,t,{cancelable:i=!1}={})=>{const r=s.$$.callbacks[e];if(r){const n=Ql(e,t,{cancelable:i});return r.slice().forEach(o=>{o.call(s,n)}),!n.defaultPrevented}return!0}}const Ve=[],$e=[];let He=[];const qi=[],ta=Promise.resolve();let es=!1;function ia(){es||(es=!0,ta.then(Vn))}function ts(s){He.push(s)}function sa(s){qi.push(s)}const Li=new Set;let Ue=0;function Vn(){if(Ue!==0)return;const s=Ct;do{try{for(;Ue<Ve.length;){const e=Ve[Ue];Ue++,yt(e),ra(e.$$)}}catch(e){throw Ve.length=0,Ue=0,e}for(yt(null),Ve.length=0,Ue=0;$e.length;)$e.pop()();for(let e=0;e<He.length;e+=1){const t=He[e];Li.has(t)||(Li.add(t),t())}He.length=0}while(Ve.length);for(;qi.length;)qi.pop()();es=!1,Li.clear(),yt(s)}function ra(s){if(s.fragment!==null){s.update(),st(s.before_update);const e=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,e),s.after_update.forEach(ts)}}function na(s){const e=[],t=[];He.forEach(i=>s.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),He=e}const si=new Set;let Pe;function Wn(){Pe={r:0,c:[],p:Pe}}function Gn(){Pe.r||st(Pe.c),Pe=Pe.p}function Ae(s,e){s&&s.i&&(si.delete(s),s.i(e))}function Je(s,e,t,i){if(s&&s.o){if(si.has(s))return;si.add(s),Pe.c.push(()=>{si.delete(s),i&&(t&&s.d(1),i())}),s.o(e)}else i&&i()}function ze(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function oa(s,e,t){const i=s.$$.props[e];i!==void 0&&(s.$$.bound[i]=t,t(s.$$.ctx[i]))}function Yn(s){s&&s.c()}function Us(s,e,t){const{fragment:i,after_update:r}=s.$$;i&&i.m(e,t),ts(()=>{const n=s.$$.on_mount.map(Fn).filter(Bn);s.$$.on_destroy?s.$$.on_destroy.push(...n):st(n),s.$$.on_mount=[]}),r.forEach(ts)}function zs(s,e){const t=s.$$;t.fragment!==null&&(na(t.after_update),st(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function la(s,e){s.$$.dirty[0]===-1&&(Ve.push(s),ia(),s.$$.dirty.fill(0)),s.$$.dirty[e/31|0]|=1<<e%31}function Vs(s,e,t,i,r,n,o=null,a=[-1]){const l=Ct;yt(s);const u=s.$$={fragment:null,ctx:[],props:n,update:bt,not_equal:r,bound:br(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:br(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=t?t(s,e.props||{},(h,f,...d)=>{const g=d.length?d[0]:f;return u.ctx&&r(u.ctx[h],u.ctx[h]=g)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](g),c&&la(s,h)),f}):[],u.update(),c=!0,st(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const h=Kl(e.target);u.fragment&&u.fragment.l(h),h.forEach(Ee)}else u.fragment&&u.fragment.c();e.intro&&Ae(s.$$.fragment),Us(s,e.target,e.anchor),Vn()}yt(l)}class Ws{constructor(){wr(this,"$$"),wr(this,"$$set")}$destroy(){zs(this,1),this.$destroy=bt}$on(e,t){if(!Bn(t))return bt;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Xl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const aa="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(aa);var ua=Object.defineProperty,ca=(s,e,t)=>e in s?ua(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,N=(s,e,t)=>ca(s,typeof e!="symbol"?e+"":e,t),Sr,ha=Object.defineProperty,fa=(s,e,t)=>e in s?ha(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Er=(s,e,t)=>fa(s,typeof e!="symbol"?e+"":e,t),Q=(s=>(s[s.Document=0]="Document",s[s.DocumentType=1]="DocumentType",s[s.Element=2]="Element",s[s.Text=3]="Text",s[s.CDATA=4]="CDATA",s[s.Comment=5]="Comment",s))(Q||{});function pa(s){return s.nodeType===s.ELEMENT_NODE}class jn{constructor(){Er(this,"idNodeMap",new Map),Er(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const i=(t=this.getMeta(e))==null?void 0:t.id;return i!=null?i:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const i=t.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,t)}replace(e,t){const i=this.getNode(e);if(i){const r=this.nodeMetaMap.get(i);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Zn(){return new jn}function da(s){return s.toLowerCase()}function ma(s,e){return!s||!e||s.type!==e.type?!1:s.type===Q.Document?s.compatMode===e.compatMode:s.type===Q.DocumentType?s.name===e.name&&s.publicId===e.publicId&&s.systemId===e.systemId:s.type===Q.Comment||s.type===Q.Text||s.type===Q.CDATA?s.textContent===e.textContent:s.type===Q.Element?s.tagName===e.tagName&&JSON.stringify(s.attributes)===JSON.stringify(e.attributes)&&s.isSVG===e.isSVG&&s.needBlock===e.needBlock:!1}const ga=/(max|min)-device-(width|height)/,xr=new RegExp(ga.source,"g"),ya={postcssPlugin:"postcss-custom-selectors",prepare(){return{postcssPlugin:"postcss-custom-selectors",AtRule:function(s){s.params.match(xr)&&(s.params=s.params.replace(xr,"$1-$2"))}}}},wa={postcssPlugin:"postcss-hover-classes",prepare:function(){const s=[];return{Rule:function(e){s.indexOf(e)===-1&&(s.push(e),e.selectors.forEach(function(t){t.includes(":hover")&&(e.selector+=`,
`+t.replace(/:hover/g,".\\:hover"))}))}}}};function va(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function ba(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var r=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return s[i]}})}),t}var Gs={exports:{}},D=String,Hn=function(){return{isColorSupported:!1,reset:D,bold:D,dim:D,italic:D,underline:D,inverse:D,hidden:D,strikethrough:D,black:D,red:D,green:D,yellow:D,blue:D,magenta:D,cyan:D,white:D,gray:D,bgBlack:D,bgRed:D,bgGreen:D,bgYellow:D,bgBlue:D,bgMagenta:D,bgCyan:D,bgWhite:D,blackBright:D,redBright:D,greenBright:D,yellowBright:D,blueBright:D,magentaBright:D,cyanBright:D,whiteBright:D,bgBlackBright:D,bgRedBright:D,bgGreenBright:D,bgYellowBright:D,bgBlueBright:D,bgMagentaBright:D,bgCyanBright:D,bgWhiteBright:D}};Gs.exports=Hn();Gs.exports.createColors=Hn;var Ca=Gs.exports;const Sa={},Ea=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"})),me=ba(Ea);let Ar=Ca,Rr=me,is=class Xn extends Error{constructor(e,t,i,r,n,o){super(e),this.name="CssSyntaxError",this.reason=e,n&&(this.file=n),r&&(this.source=r),o&&(this.plugin=o),typeof t!="undefined"&&typeof i!="undefined"&&(typeof t=="number"?(this.line=t,this.column=i):(this.line=t.line,this.column=t.column,this.endLine=i.line,this.endColumn=i.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,Xn)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Ar.isColorSupported);let i=c=>c,r=c=>c,n=c=>c;if(e){let{bold:c,gray:h,red:f}=Ar.createColors(!0);r=d=>c(f(d)),i=d=>h(d),Rr&&(n=d=>Rr(d))}let o=t.split(/\r?\n/),a=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),u=String(l).length;return o.slice(a,l).map((c,h)=>{let f=a+1+h,d=" "+(" "+f).slice(-u)+" | ";if(f===this.line){if(c.length>160){let C=20,p=Math.max(0,this.column-C),m=Math.max(this.column+C,this.endColumn+C),w=c.slice(p,m),v=i(d.replace(/\d/g," "))+c.slice(0,Math.min(this.column-1,C-1)).replace(/[^\t]/g," ");return r(">")+i(d)+n(w)+`
 `+v+r("^")}let g=i(d.replace(/\d/g," "))+c.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+i(d)+n(c)+`
 `+g+r("^")}return" "+i(d)+n(c)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var Ys=is;is.default=is;const Nr={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function xa(s){return s[0].toUpperCase()+s.slice(1)}let ss=class{constructor(e){this.builder=e}atrule(e,t){let i="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName!="undefined"?i+=e.raws.afterName:r&&(i+=" "),e.nodes)this.block(e,i+r);else{let n=(e.raws.between||"")+(t?";":"");this.builder(i+r+n,e)}}beforeAfter(e,t){let i;e.type==="decl"?i=this.raw(e,null,"beforeDecl"):e.type==="comment"?i=this.raw(e,null,"beforeComment"):t==="before"?i=this.raw(e,null,"beforeRule"):i=this.raw(e,null,"beforeClose");let r=e.parent,n=0;for(;r&&r.type!=="root";)n+=1,r=r.parent;if(i.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let a=0;a<n;a++)i+=o}return i}block(e,t){let i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start");let r;e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let i=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let n=e.nodes[r],o=this.raw(n,"before");o&&this.builder(o),this.stringify(n,t!==r||i)}}comment(e){let t=this.raw(e,"left","commentLeft"),i=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+i+"*/",e)}decl(e,t){let i=this.raw(e,"between","colon"),r=e.prop+i+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,t,i){let r;if(i||(i=t),t&&(r=e.raws[t],typeof r!="undefined"))return r;let n=e.parent;if(i==="before"&&(!n||n.type==="root"&&n.first===e||n&&n.type==="document"))return"";if(!n)return Nr[i];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[i]!="undefined")return o.rawCache[i];if(i==="before"||i==="after")return this.beforeAfter(e,i);{let a="raw"+xa(i);this[a]?r=this[a](o,e):o.walk(l=>{if(r=l.raws[t],typeof r!="undefined")return!1})}return typeof r=="undefined"&&(r=Nr[i]),o.rawCache[i]=r,r}rawBeforeClose(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length>0&&typeof i.raws.after!="undefined")return t=i.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let i;return e.walkComments(r=>{if(typeof r.raws.before!="undefined")return i=r.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i=="undefined"?i=this.raw(t,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeDecl(e,t){let i;return e.walkDecls(r=>{if(typeof r.raws.before!="undefined")return i=r.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i=="undefined"?i=this.raw(t,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeOpen(e){let t;return e.walk(i=>{if(i.type!=="decl"&&(t=i.raws.between,typeof t!="undefined"))return!1}),t}rawBeforeRule(e){let t;return e.walk(i=>{if(i.nodes&&(i.parent!==e||e.first!==i)&&typeof i.raws.before!="undefined")return t=i.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(i=>{if(typeof i.raws.between!="undefined")return t=i.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length===0&&(t=i.raws.after,typeof t!="undefined"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(i=>{let r=i.parent;if(r&&r!==e&&r.parent&&r.parent===e&&typeof i.raws.before!="undefined"){let n=i.raws.before.split(`
`);return t=n[n.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length&&i.last.type==="decl"&&(t=i.raws.semicolon,typeof t!="undefined"))return!1}),t}rawValue(e,t){let i=e[t],r=e.raws[t];return r&&r.value===i?r.raw:i}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var Jn=ss;ss.default=ss;let Aa=Jn;function rs(s,e){new Aa(e).stringify(s)}var Ei=rs;rs.default=rs;var Dt={};Dt.isClean=Symbol("isClean");Dt.my=Symbol("my");let Ra=Ys,Na=Jn,Ma=Ei,{isClean:ot,my:Ia}=Dt;function ns(s,e){let t=new s.constructor;for(let i in s){if(!Object.prototype.hasOwnProperty.call(s,i)||i==="proxyCache")continue;let r=s[i],n=typeof r;i==="parent"&&n==="object"?e&&(t[i]=e):i==="source"?t[i]=r:Array.isArray(r)?t[i]=r.map(o=>ns(o,t)):(n==="object"&&r!==null&&(r=ns(r)),t[i]=r)}return t}function lt(s,e){if(e&&typeof e.offset!="undefined")return e.offset;let t=1,i=1,r=0;for(let n=0;n<s.length;n++){if(i===e.line&&t===e.column){r=n;break}s[n]===`
`?(t=1,i+=1):t+=1}return r}let os=class{constructor(e={}){this.raws={},this[ot]=!1,this[Ia]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let i of e[t])typeof i.clone=="function"?this.append(i.clone()):this.append(i)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=ns(this);for(let i in e)t[i]=e[i];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:i,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:i.column,line:i.line},t)}return new Ra(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,i){return e[t]===i||(e[t]=i,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markClean(){this[ot]=!0}markDirty(){if(this[ot]){this[ot]=!1;let e=this;for(;e=e.parent;)e[ot]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let r=this.source.input.css.slice(lt(this.source.input.css,this.source.start),lt(this.source.input.css,this.source.end)).indexOf(e.word);r!==-1&&(t=this.positionInside(r))}return t}positionInside(e){let t=this.source.start.column,i=this.source.start.line,r=lt(this.source.input.css,this.source.start),n=r+e;for(let o=r;o<n;o++)this.source.input.css[o]===`
`?(t=1,i+=1):t+=1;return{column:t,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.source.input.css.slice(lt(this.source.input.css,this.source.start),lt(this.source.input.css,this.source.end)).indexOf(e.word);n!==-1&&(t=this.positionInside(n),i=this.positionInside(n+e.word.length))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<t.line||i.line===t.line&&i.column<=t.column)&&(i={column:t.column+1,line:t.line}),{end:i,start:t}}raw(e,t){return new Na().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,i=!1;for(let r of e)r===this?i=!0:i?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);i||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let i={},r=t==null;t=t||new Map;let n=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let a=this[o];if(Array.isArray(a))i[o]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,t):l);else if(typeof a=="object"&&a.toJSON)i[o]=a.toJSON(null,t);else if(o==="source"){let l=t.get(a.input);l==null&&(l=n,t.set(a.input,n),n++),i[o]={end:a.end,inputId:l,start:a.start}}else i[o]=a}return r&&(i.inputs=[...t.keys()].map(o=>o.toJSON())),i}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=Ma){e.stringify&&(e=e.stringify);let t="";return e(this,i=>{t+=i}),t}warn(e,t,i){let r={node:this};for(let n in i)r[n]=i[n];return e.warn(t,r)}get proxyOf(){return this}};var xi=os;os.default=os;let Da=xi,ls=class extends Da{constructor(e){super(e),this.type="comment"}};var Ai=ls;ls.default=ls;let Oa=xi,as=class extends Oa{constructor(e){e&&typeof e.value!="undefined"&&typeof e.value!="string"&&(e=le(V({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var Ri=as;as.default=as;let Kn=Ai,Qn=Ri,_a=xi,{isClean:qn,my:eo}=Dt,js,to,io,Zs;function so(s){return s.map(e=>(e.nodes&&(e.nodes=so(e.nodes)),delete e.source,e))}function ro(s){if(s[qn]=!1,s.proxyOf.nodes)for(let e of s.proxyOf.nodes)ro(e)}let Re=class no extends _a{append(...e){for(let t of e){let i=this.normalize(t,this.last);for(let r of i)this.proxyOf.nodes.push(r)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),i,r;for(;this.indexes[t]<this.proxyOf.nodes.length&&(i=this.indexes[t],r=e(this.proxyOf.nodes[i],i),r!==!1);)this.indexes[t]+=1;return delete this.indexes[t],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...i)=>e[t](...i.map(r=>typeof r=="function"?(n,o)=>r(n.toProxy(),o):r)):t==="every"||t==="some"?i=>e[t]((r,...n)=>i(r.toProxy(),...n)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(i=>i.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,i){return e[t]===i||(e[t]=i,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let i=this.index(e),r=this.normalize(t,this.proxyOf.nodes[i]).reverse();i=this.index(e);for(let o of r)this.proxyOf.nodes.splice(i+1,0,o);let n;for(let o in this.indexes)n=this.indexes[o],i<n&&(this.indexes[o]=n+r.length);return this.markDirty(),this}insertBefore(e,t){let i=this.index(e),r=i===0?"prepend":!1,n=this.normalize(t,this.proxyOf.nodes[i],r).reverse();i=this.index(e);for(let a of n)this.proxyOf.nodes.splice(i,0,a);let o;for(let a in this.indexes)o=this.indexes[a],i<=o&&(this.indexes[a]=o+n.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=so(to(e).nodes);else if(typeof e=="undefined")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value=="undefined")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new Qn(e)]}else if(e.selector||e.selectors)e=[new Zs(e)];else if(e.name)e=[new js(e)];else if(e.text)e=[new Kn(e)];else throw new Error("Unknown node type in node creation");return e.map(r=>(r[eo]||no.rebuild(r),r=r.proxyOf,r.parent&&r.parent.removeChild(r),r[qn]&&ro(r),r.raws||(r.raws={}),typeof r.raws.before=="undefined"&&t&&typeof t.raws.before!="undefined"&&(r.raws.before=t.raws.before.replace(/\S/g,"")),r.parent=this.proxyOf,r))}prepend(...e){e=e.reverse();for(let t of e){let i=this.normalize(t,this.first,"prepend").reverse();for(let r of i)this.proxyOf.nodes.unshift(r);for(let r in this.indexes)this.indexes[r]=this.indexes[r]+i.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let i in this.indexes)t=this.indexes[i],t>=e&&(this.indexes[i]=t-1);return this.markDirty(),this}replaceValues(e,t,i){return i||(i=t,t={}),this.walkDecls(r=>{t.props&&!t.props.includes(r.prop)||t.fast&&!r.value.includes(t.fast)||(r.value=r.value.replace(e,i))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,i)=>{let r;try{r=e(t,i)}catch(n){throw t.addToError(n)}return r!==!1&&t.walk&&(r=t.walk(e)),r})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="atrule"&&e.test(i.name))return t(i,r)}):this.walk((i,r)=>{if(i.type==="atrule"&&i.name===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="atrule")return t(i,r)}))}walkComments(e){return this.walk((t,i)=>{if(t.type==="comment")return e(t,i)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="decl"&&e.test(i.prop))return t(i,r)}):this.walk((i,r)=>{if(i.type==="decl"&&i.prop===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="decl")return t(i,r)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="rule"&&e.test(i.selector))return t(i,r)}):this.walk((i,r)=>{if(i.type==="rule"&&i.selector===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="rule")return t(i,r)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Re.registerParse=s=>{to=s};Re.registerRule=s=>{Zs=s};Re.registerAtRule=s=>{js=s};Re.registerRoot=s=>{io=s};var Fe=Re;Re.default=Re;Re.rebuild=s=>{s.type==="atrule"?Object.setPrototypeOf(s,js.prototype):s.type==="rule"?Object.setPrototypeOf(s,Zs.prototype):s.type==="decl"?Object.setPrototypeOf(s,Qn.prototype):s.type==="comment"?Object.setPrototypeOf(s,Kn.prototype):s.type==="root"&&Object.setPrototypeOf(s,io.prototype),s[eo]=!0,s.nodes&&s.nodes.forEach(e=>{Re.rebuild(e)})};let oo=Fe,ci=class extends oo{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var Hs=ci;ci.default=ci;oo.registerAtRule(ci);let Ta=Fe,lo,ao,St=class extends Ta{constructor(e){super(V({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new lo(new ao,this,e).stringify()}};St.registerLazyResult=s=>{lo=s};St.registerProcessor=s=>{ao=s};var Xs=St;St.default=St;let ka="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Pa=(s,e=21)=>(t=e)=>{let i="",r=t|0;for(;r--;)i+=s[Math.random()*s.length|0];return i},$a=(s=21)=>{let e="",t=s|0;for(;t--;)e+=ka[Math.random()*64|0];return e};var La={nanoid:$a,customAlphabet:Pa};let{existsSync:Fa,readFileSync:Ba}=me,{dirname:Fi,join:Ua}=me,{SourceMapConsumer:Mr,SourceMapGenerator:Ir}=me;function za(s){return Buffer?Buffer.from(s,"base64").toString():window.atob(s)}let us=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let i=t.map?t.map.prev:void 0,r=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Fi(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new Mr(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,i=/^data:application\/json;base64,/,r=/^data:application\/json;charset=utf-?8,/,n=/^data:application\/json,/,o=e.match(r)||e.match(n);if(o)return decodeURIComponent(e.substr(o[0].length));let a=e.match(t)||e.match(i);if(a)return za(e.substr(a[0].length));let l=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let i=e.lastIndexOf(t.pop()),r=e.indexOf("*/",i);i>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(i,r)))}loadFile(e){if(this.root=Fi(e),Fa(e))return this.mapFile=e,Ba(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let i=t(e);if(i){let r=this.loadFile(i);if(!r)throw new Error("Unable to load previous source map: "+i.toString());return r}}else{if(t instanceof Mr)return Ir.fromSourceMap(t).toString();if(t instanceof Ir)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let i=this.annotation;return e&&(i=Ua(Fi(e),i)),this.loadFile(i)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var uo=us;us.default=us;let{nanoid:Va}=La,{isAbsolute:cs,resolve:hs}=me,{SourceMapConsumer:Wa,SourceMapGenerator:Ga}=me,{fileURLToPath:Dr,pathToFileURL:$t}=me,Or=Ys,Ya=uo,Bi=me,Ui=Symbol("fromOffsetCache"),ja=!!(Wa&&Ga),_r=!!(hs&&cs),hi=class{constructor(e,t={}){if(e===null||typeof e=="undefined"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!_r||/^\w+:\/\//.test(t.from)||cs(t.from)?this.file=t.from:this.file=hs(t.from)),_r&&ja){let i=new Ya(this.css,t);if(i.text){this.map=i;let r=i.consumer().file;!this.file&&r&&(this.file=this.mapResolve(r))}}this.file||(this.id="<input css "+Va(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,i,r={}){let n,o,a;if(t&&typeof t=="object"){let u=t,c=i;if(typeof u.offset=="number"){let h=this.fromOffset(u.offset);t=h.line,i=h.col}else t=u.line,i=u.column;if(typeof c.offset=="number"){let h=this.fromOffset(c.offset);o=h.line,n=h.col}else o=c.line,n=c.column}else if(!i){let u=this.fromOffset(t);t=u.line,i=u.col}let l=this.origin(t,i,o,n);return l?a=new Or(e,l.endLine===void 0?l.line:{column:l.column,line:l.line},l.endLine===void 0?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,r.plugin):a=new Or(e,o===void 0?t:{column:i,line:t},o===void 0?i:{column:n,line:o},this.css,this.file,r.plugin),a.input={column:i,endColumn:n,endLine:o,line:t,source:this.css},this.file&&($t&&(a.input.url=$t(this.file).toString()),a.input.file=this.file),a}fromOffset(e){let t,i;if(this[Ui])i=this[Ui];else{let n=this.css.split(`
`);i=new Array(n.length);let o=0;for(let a=0,l=n.length;a<l;a++)i[a]=o,o+=n[a].length+1;this[Ui]=i}t=i[i.length-1];let r=0;if(e>=t)r=i.length-1;else{let n=i.length-2,o;for(;r<n;)if(o=r+(n-r>>1),e<i[o])n=o-1;else if(e>=i[o+1])r=o+1;else{r=o;break}}return{col:e-i[r]+1,line:r+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:hs(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,i,r){if(!this.map)return!1;let n=this.map.consumer(),o=n.originalPositionFor({column:t,line:e});if(!o.source)return!1;let a;typeof i=="number"&&(a=n.originalPositionFor({column:r,line:i}));let l;cs(o.source)?l=$t(o.source):l=new URL(o.source,this.map.consumer().sourceRoot||$t(this.map.mapFile));let u={column:o.column,endColumn:a&&a.column,endLine:a&&a.line,line:o.line,url:l.toString()};if(l.protocol==="file:")if(Dr)u.file=Dr(l);else throw new Error("file: protocol is not available in this PostCSS build");let c=n.sourceContentFor(o.source);return c&&(u.source=c),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map=V({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Ni=hi;hi.default=hi;Bi&&Bi.registerInput&&Bi.registerInput(hi);let co=Fe,ho,fo,Ke=class extends co{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,i){let r=super.normalize(e);if(t){if(i==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let n of r)n.raws.before=t.raws.before}return r}removeChild(e,t){let i=this.index(e);return!t&&i===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),super.removeChild(e)}toResult(e={}){return new ho(new fo,this,e).stringify()}};Ke.registerLazyResult=s=>{ho=s};Ke.registerProcessor=s=>{fo=s};var Ot=Ke;Ke.default=Ke;co.registerRoot(Ke);let Et={comma(s){return Et.split(s,[","],!0)},space(s){let e=[" ",`
`,"	"];return Et.split(s,e)},split(s,e,t){let i=[],r="",n=!1,o=0,a=!1,l="",u=!1;for(let c of s)u?u=!1:c==="\\"?u=!0:a?c===l&&(a=!1):c==='"'||c==="'"?(a=!0,l=c):c==="("?o+=1:c===")"?o>0&&(o-=1):o===0&&e.includes(c)&&(n=!0),n?(r!==""&&i.push(r.trim()),r="",n=!1):r+=c;return(t||r!=="")&&i.push(r.trim()),i}};var po=Et;Et.default=Et;let mo=Fe,Za=po,fi=class extends mo{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Za.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,i=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(i)}};var Js=fi;fi.default=fi;mo.registerRule(fi);let Ha=Hs,Xa=Ai,Ja=Ri,Ka=Ni,Qa=uo,qa=Ot,eu=Js;function xt(s,e){if(Array.isArray(s))return s.map(o=>xt(o));let r=s,{inputs:t}=r,i=nt(r,["inputs"]);if(t){e=[];for(let o of t){let a=le(V({},o),{__proto__:Ka.prototype});a.map&&(a.map=le(V({},a.map),{__proto__:Qa.prototype})),e.push(a)}}if(i.nodes&&(i.nodes=s.nodes.map(o=>xt(o,e))),i.source){let n=i.source,{inputId:o}=n,a=nt(n,["inputId"]);i.source=a,o!=null&&(i.source.input=e[o])}if(i.type==="root")return new qa(i);if(i.type==="decl")return new Ja(i);if(i.type==="rule")return new eu(i);if(i.type==="comment")return new Xa(i);if(i.type==="atrule")return new Ha(i);throw new Error("Unknown node type: "+s.type)}var tu=xt;xt.default=xt;let{dirname:ri,relative:go,resolve:yo,sep:wo}=me,{SourceMapConsumer:vo,SourceMapGenerator:ni}=me,{pathToFileURL:Tr}=me,iu=Ni,su=!!(vo&&ni),ru=!!(ri&&yo&&go&&wo),nu=class{constructor(e,t,i,r){this.stringify=e,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),i=e.root||ri(e.file),r;this.mapOpts.sourcesContent===!1?(r=new vo(e.text),r.sourcesContent&&(r.sourcesContent=null)):r=e.consumer(),this.map.applySourceMap(r,t,this.toUrl(this.path(i)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),ru&&su&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=ni.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new ni({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new ni({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,i="<no source>",r={generated:{column:0,line:0},original:{column:0,line:0},source:""},n,o;this.stringify(this.root,(a,l,u)=>{if(this.css+=a,l&&u!=="end"&&(r.generated.line=e,r.generated.column=t-1,l.source&&l.source.start?(r.source=this.sourcePath(l),r.original.line=l.source.start.line,r.original.column=l.source.start.column-1,this.map.addMapping(r)):(r.source=i,r.original.line=1,r.original.column=0,this.map.addMapping(r))),o=a.match(/\n/g),o?(e+=o.length,n=a.lastIndexOf(`
`),t=a.length-n):t+=a.length,l&&u!=="start"){let c=l.parent||{raws:{}};(!(l.type==="decl"||l.type==="atrule"&&!l.nodes)||l!==c.last||c.raws.semicolon)&&(l.source&&l.source.end?(r.source=this.sourcePath(l),r.original.line=l.source.end.line,r.original.column=l.source.end.column-1,r.generated.line=e,r.generated.column=t-2,this.map.addMapping(r)):(r.source=i,r.original.line=1,r.original.column=0,r.generated.line=e,r.generated.column=t-1,this.map.addMapping(r)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e!="undefined"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let i=this.opts.to?ri(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(i=ri(yo(i,this.mapOpts.annotation)));let r=go(i,e);return this.memoizedPaths.set(e,r),r}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new iu(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let i=t.source.input.from;if(i&&!e[i]){e[i]=!0;let r=this.usesFileUrls?this.toFileUrl(i):this.toUrl(this.path(i));this.map.setSourceContent(r,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Tr){let i=Tr(e).toString();return this.memoizedFileURLs.set(e,i),i}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;wo==="\\"&&(e=e.replace(/\\/g,"/"));let i=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,i),i}};var bo=nu;const zi=39,kr=34,Lt=92,Pr=47,Ft=10,at=32,Bt=12,Ut=9,zt=13,ou=91,lu=93,au=40,uu=41,cu=123,hu=125,fu=59,pu=42,du=58,mu=64,Vt=/[\t\n\f\r "#'()/;[\\\]{}]/g,Wt=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,gu=/.[\r\n"'(/\\]/,$r=/[\da-f]/i;var yu=function(e,t={}){let i=e.css.valueOf(),r=t.ignoreErrors,n,o,a,l,u,c,h,f,d,g,C=i.length,p=0,m=[],w=[];function v(){return p}function A(I){throw e.error("Unclosed "+I,p)}function R(){return w.length===0&&p>=C}function _(I){if(w.length)return w.pop();if(p>=C)return;let X=I?I.ignoreUnclosed:!1;switch(n=i.charCodeAt(p),n){case Ft:case at:case Ut:case zt:case Bt:{l=p;do l+=1,n=i.charCodeAt(l);while(n===at||n===Ft||n===Ut||n===zt||n===Bt);c=["space",i.slice(p,l)],p=l-1;break}case ou:case lu:case cu:case hu:case du:case fu:case uu:{let W=String.fromCharCode(n);c=[W,W,p];break}case au:{if(g=m.length?m.pop()[1]:"",d=i.charCodeAt(p+1),g==="url"&&d!==zi&&d!==kr&&d!==at&&d!==Ft&&d!==Ut&&d!==Bt&&d!==zt){l=p;do{if(h=!1,l=i.indexOf(")",l+1),l===-1)if(r||X){l=p;break}else A("bracket");for(f=l;i.charCodeAt(f-1)===Lt;)f-=1,h=!h}while(h);c=["brackets",i.slice(p,l+1),p,l],p=l}else l=i.indexOf(")",p+1),o=i.slice(p,l+1),l===-1||gu.test(o)?c=["(","(",p]:(c=["brackets",o,p,l],p=l);break}case zi:case kr:{u=n===zi?"'":'"',l=p;do{if(h=!1,l=i.indexOf(u,l+1),l===-1)if(r||X){l=p+1;break}else A("string");for(f=l;i.charCodeAt(f-1)===Lt;)f-=1,h=!h}while(h);c=["string",i.slice(p,l+1),p,l],p=l;break}case mu:{Vt.lastIndex=p+1,Vt.test(i),Vt.lastIndex===0?l=i.length-1:l=Vt.lastIndex-2,c=["at-word",i.slice(p,l+1),p,l],p=l;break}case Lt:{for(l=p,a=!0;i.charCodeAt(l+1)===Lt;)l+=1,a=!a;if(n=i.charCodeAt(l+1),a&&n!==Pr&&n!==at&&n!==Ft&&n!==Ut&&n!==zt&&n!==Bt&&(l+=1,$r.test(i.charAt(l)))){for(;$r.test(i.charAt(l+1));)l+=1;i.charCodeAt(l+1)===at&&(l+=1)}c=["word",i.slice(p,l+1),p,l],p=l;break}default:{n===Pr&&i.charCodeAt(p+1)===pu?(l=i.indexOf("*/",p+2)+1,l===0&&(r||X?l=i.length:A("comment")),c=["comment",i.slice(p,l+1),p,l],p=l):(Wt.lastIndex=p+1,Wt.test(i),Wt.lastIndex===0?l=i.length-1:l=Wt.lastIndex-2,c=["word",i.slice(p,l+1),p,l],m.push(c),p=l);break}}return p++,c}function Z(I){w.push(I)}return{back:Z,endOfFile:R,nextToken:_,position:v}};let wu=Hs,vu=Ai,bu=Ri,Cu=Ot,Lr=Js,Su=yu;const Fr={empty:!0,space:!0};function Eu(s){for(let e=s.length-1;e>=0;e--){let t=s[e],i=t[3]||t[2];if(i)return i}}let xu=class{constructor(e){this.input=e,this.root=new Cu,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new wu;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let i,r,n,o=!1,a=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),i=e[0],i==="("||i==="["?u.push(i==="("?")":"]"):i==="{"&&u.length>0?u.push("}"):i===u[u.length-1]&&u.pop(),u.length===0)if(i===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(i==="{"){a=!0;break}else if(i==="}"){if(l.length>0){for(n=l.length-1,r=l[n];r&&r[0]==="space";)r=l[--n];r&&(t.source.end=this.getPosition(r[3]||r[2]),t.source.end.offset++)}this.end(e);break}else l.push(e);else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(t.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(t,"params",l),o&&(e=l[l.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),a&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let i=0,r;for(let n=t-1;n>=0&&(r=e[n],!(r[0]!=="space"&&(i+=1,i===2)));n--);throw this.input.error("Missed semicolon",r[0]==="word"?r[3]+1:r[2])}colon(e){let t=0,i,r,n;for(let[o,a]of e.entries()){if(r=a,n=r[0],n==="("&&(t+=1),n===")"&&(t-=1),t===0&&n===":")if(!i)this.doubleColon(r);else{if(i[0]==="word"&&i[1]==="progid")continue;return o}i=r}return!1}comment(e){let t=new vu;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let i=e[1].slice(2,-2);if(/^\s*$/.test(i))t.text="",t.raws.left=i,t.raws.right="";else{let r=i.match(/^(\s*)([^]*\S)(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}}createTokenizer(){this.tokenizer=Su(this.input)}decl(e,t){let i=new bu;this.init(i,e[0][2]);let r=e[e.length-1];for(r[0]===";"&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(r[3]||r[2]||Eu(e)),i.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;i.prop+=e.shift()[1]}i.raws.between="";let n;for(;e.length;)if(n=e.shift(),n[0]===":"){i.raws.between+=n[1];break}else n[0]==="word"&&/\w/.test(n[1])&&this.unknownWord([n]),i.raws.between+=n[1];(i.prop[0]==="_"||i.prop[0]==="*")&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let o=[],a;for(;e.length&&(a=e[0][0],!(a!=="space"&&a!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(n=e[u],n[1].toLowerCase()==="!important"){i.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(i.raws.important=c);break}else if(n[1].toLowerCase()==="important"){let c=e.slice(0),h="";for(let f=u;f>0;f--){let d=c[f][0];if(h.trim().startsWith("!")&&d!=="space")break;h=c.pop()[1]+h}h.trim().startsWith("!")&&(i.important=!0,i.raws.important=h,e=c)}if(n[0]!=="space"&&n[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(i.raws.between+=o.map(u=>u[1]).join(""),o=[]),this.raw(i,"value",o.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new Lr;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,i=null,r=!1,n=null,o=[],a=e[1].startsWith("--"),l=[],u=e;for(;u;){if(i=u[0],l.push(u),i==="("||i==="[")n||(n=u),o.push(i==="("?")":"]");else if(a&&r&&i==="{")n||(n=u),o.push("}");else if(o.length===0)if(i===";")if(r){this.decl(l,a);return}else break;else if(i==="{"){this.rule(l);return}else if(i==="}"){this.tokenizer.back(l.pop()),t=!0;break}else i===":"&&(r=!0);else i===o[o.length-1]&&(o.pop(),o.length===0&&(n=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(n),t&&r){if(!a)for(;l.length&&(u=l[l.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,a)}else this.unknownWord(l)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,i,r){let n,o,a=i.length,l="",u=!0,c,h;for(let f=0;f<a;f+=1)n=i[f],o=n[0],o==="space"&&f===a-1&&!r?u=!1:o==="comment"?(h=i[f-1]?i[f-1][0]:"empty",c=i[f+1]?i[f+1][0]:"empty",!Fr[h]&&!Fr[c]?l.slice(-1)===","?u=!1:l+=n[1]:u=!1):l+=n[1];if(!u){let f=i.reduce((d,g)=>d+g[1],"");e.raws[t]={raw:f,value:l}}e[t]=l}rule(e){e.pop();let t=new Lr;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)i=e.pop()[1]+i;return i}spacesAndCommentsFromStart(e){let t,i="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)i+=e.shift()[1];return i}spacesFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],t==="space");)i=e.pop()[1]+i;return i}stringFrom(e,t){let i="";for(let r=t;r<e.length;r++)i+=e[r][1];return e.splice(t,e.length-t),i}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};var Au=xu;let Ru=Fe,Nu=Ni,Mu=Au;function pi(s,e){let t=new Nu(s,e),i=new Mu(t);try{i.parse()}catch(r){throw r}return i.root}var Ks=pi;pi.default=pi;Ru.registerParse(pi);let fs=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let i=t.node.rangeBy(t);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in t)this[i]=t[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var Co=fs;fs.default=fs;let Iu=Co,ps=class{constructor(e,t,i){this.processor=e,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let i=new Iu(e,t);return this.messages.push(i),i}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var Qs=ps;ps.default=ps;let Du=Fe,Ou=Xs,_u=bo,Tu=Ks,Br=Qs,ku=Ot,Pu=Ei,{isClean:be,my:$u}=Dt;const Lu={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Fu={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Bu={Once:!0,postcssPlugin:!0,prepare:!0},Qe=0;function ut(s){return typeof s=="object"&&typeof s.then=="function"}function So(s){let e=!1,t=Lu[s.type];return s.type==="decl"?e=s.prop.toLowerCase():s.type==="atrule"&&(e=s.name.toLowerCase()),e&&s.append?[t,t+"-"+e,Qe,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:s.append?[t,Qe,t+"Exit"]:[t,t+"Exit"]}function Ur(s){let e;return s.type==="document"?e=["Document",Qe,"DocumentExit"]:s.type==="root"?e=["Root",Qe,"RootExit"]:e=So(s),{eventIndex:0,events:e,iterator:0,node:s,visitorIndex:0,visitors:[]}}function ds(s){return s[be]=!1,s.nodes&&s.nodes.forEach(e=>ds(e)),s}let ms={},qe=class Eo{constructor(e,t,i){this.stringified=!1,this.processed=!1;let r;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))r=ds(t);else if(t instanceof Eo||t instanceof Br)r=ds(t.root),t.map&&(typeof i.map=="undefined"&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=t.map);else{let n=Tu;i.syntax&&(n=i.syntax.parse),i.parser&&(n=i.parser),n.parse&&(n=n.parse);try{r=n(t,i)}catch(o){this.processed=!0,this.error=o}r&&!r[$u]&&Du.rebuild(r)}this.result=new Br(e,r,i),this.helpers=le(V({},ms),{postcss:ms,result:this.result}),this.plugins=this.processor.plugins.map(n=>typeof n=="object"&&n.prepare?V(V({},n),n.prepare(this.result)):n)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let i=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=i.postcssPlugin,e.setMessage()):i.postcssVersion}catch(r){console&&console.error&&console.error(r)}return e}prepareVisitors(){this.listeners={};let e=(t,i,r)=>{this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push([t,r])};for(let t of this.plugins)if(typeof t=="object")for(let i in t){if(!Fu[i]&&/^[A-Z]/.test(i))throw new Error(`Unknown event ${i} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!Bu[i])if(typeof t[i]=="object")for(let r in t[i])r==="*"?e(t,i,t[i][r]):e(t,i+"-"+r.toLowerCase(),t[i][r]);else typeof t[i]=="function"&&e(t,i,t[i])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],i=this.runOnRoot(t);if(ut(i))try{await i}catch(r){throw this.handleError(r)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[be];){e[be]=!0;let t=[Ur(e)];for(;t.length>0;){let i=this.visitTick(t);if(ut(i))try{await i}catch(r){let n=t[t.length-1].node;throw this.handleError(r,n)}}}if(this.listeners.OnceExit)for(let[t,i]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let r=e.nodes.map(n=>i(n,this.helpers));await Promise.all(r)}else await i(e,this.helpers)}catch(r){throw this.handleError(r)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(i=>e.Once(i,this.helpers));return ut(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=Pu;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new _u(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(ut(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[be];)e[be]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[i,r]of e){this.result.lastPlugin=i;let n;try{n=r(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(ut(n))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:i,visitors:r}=t;if(i.type!=="root"&&i.type!=="document"&&!i.parent){e.pop();return}if(r.length>0&&t.visitorIndex<r.length){let[o,a]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return a(i.toProxy(),this.helpers)}catch(l){throw this.handleError(l,i)}}if(t.iterator!==0){let o=t.iterator,a;for(;a=i.nodes[i.indexes[o]];)if(i.indexes[o]+=1,!a[be]){a[be]=!0,e.push(Ur(a));return}t.iterator=0,delete i.indexes[o]}let n=t.events;for(;t.eventIndex<n.length;){let o=n[t.eventIndex];if(t.eventIndex+=1,o===Qe){i.nodes&&i.nodes.length&&(i[be]=!0,t.iterator=i.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[be]=!0;let t=So(e);for(let i of t)if(i===Qe)e.nodes&&e.each(r=>{r[be]||this.walkSync(r)});else{let r=this.listeners[i];if(r&&this.visitSync(r,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};qe.registerPostcss=s=>{ms=s};var xo=qe;qe.default=qe;ku.registerLazyResult(qe);Ou.registerLazyResult(qe);let Uu=bo,zu=Ks;const Vu=Qs;let Wu=Ei;let gs=class{constructor(e,t,i){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=i,this._map=void 0;let r,n=Wu;this.result=new Vu(this._processor,r,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let a=new Uu(n,r,this._opts,t);if(a.isMap()){let[l,u]=a.generate();l&&(this.result.css=l),u&&(this.result.map=u)}else a.clearAnnotation(),this.result.css=a.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=zu;try{e=t(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var Gu=gs;gs.default=gs;let Yu=Xs,ju=xo,Zu=Gu,Hu=Ot,At=class{constructor(e=[]){this.version="8.4.49",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let i of e)if(i.postcss===!0?i=i():i.postcss&&(i=i.postcss),typeof i=="object"&&Array.isArray(i.plugins))t=t.concat(i.plugins);else if(typeof i=="object"&&i.postcssPlugin)t.push(i);else if(typeof i=="function")t.push(i);else if(!(typeof i=="object"&&(i.parse||i.stringify)))throw new Error(i+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new Zu(this,e,t):new ju(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var Xu=At;At.default=At;Hu.registerProcessor(At);Yu.registerProcessor(At);let Ao=Hs,Ro=Ai,Ju=Fe,Ku=Ys,No=Ri,Mo=Xs,Qu=tu,qu=Ni,ec=xo,tc=po,ic=xi,sc=Ks,qs=Xu,rc=Qs,Io=Ot,Do=Js,nc=Ei,oc=Co;function U(...s){return s.length===1&&Array.isArray(s[0])&&(s=s[0]),new qs(s)}U.plugin=function(e,t){let i=!1;function r(...o){console&&console.warn&&!i&&(i=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let a=t(...o);return a.postcssPlugin=e,a.postcssVersion=new qs().version,a}let n;return Object.defineProperty(r,"postcss",{get(){return n||(n=r()),n}}),r.process=function(o,a,l){return U([r(l)]).process(o,a)},r};U.stringify=nc;U.parse=sc;U.fromJSON=Qu;U.list=tc;U.comment=s=>new Ro(s);U.atRule=s=>new Ao(s);U.decl=s=>new No(s);U.rule=s=>new Do(s);U.root=s=>new Io(s);U.document=s=>new Mo(s);U.CssSyntaxError=Ku;U.Declaration=No;U.Container=Ju;U.Processor=qs;U.Document=Mo;U.Comment=Ro;U.Warning=oc;U.AtRule=Ao;U.Result=rc;U.Input=qu;U.Rule=Do;U.Root=Io;U.Node=ic;ec.registerPostcss(U);var lc=U;U.default=U;const j=va(lc);j.stringify;j.fromJSON;j.plugin;j.parse;j.list;j.document;j.comment;j.atRule;j.rule;j.decl;j.root;j.CssSyntaxError;j.Declaration;j.Container;j.Processor;j.Document;j.Comment;j.Warning;j.AtRule;j.Result;j.Input;j.Rule;j.Root;j.Node;const zr={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function ac(s){let e=zr[s.tagName]?zr[s.tagName]:s.tagName;return e==="link"&&s.attributes._cssText&&(e="style"),e}function Mi(s,e){const t=e==null?void 0:e.stylesWithHoverClass.get(s);if(t)return t;const r=j([ya,wa]).process(s).css;return e==null||e.stylesWithHoverClass.set(s,r),r}function Vr(){return{stylesWithHoverClass:new Map}}function uc(s,e,t,i){const r=[];for(const o of s.childNodes)o.type===Q.Text&&r.push(o);const n=e.split("/* rr_split */");for(;n.length>1&&n.length>r.length;)n.splice(-2,2,n.slice(-2).join(""));for(let o=0;o<r.length;o++){const a=r[o],l=n[o];a&&l&&(a.textContent=t?Mi(l,i):l)}}function cc(s,e,t,i){const{doc:r,hackCss:n,cache:o}=i;s.childNodes.length?uc(s,t,n,o):(n&&(t=Mi(t,o)),e.appendChild(r.createTextNode(t)))}function hc(s,e){var t,i,r;const{doc:n,hackCss:o,cache:a}=e;switch(s.type){case Q.Document:return n.implementation.createDocument(null,"",null);case Q.DocumentType:return n.implementation.createDocumentType(s.name||"html",s.publicId,s.systemId);case Q.Element:{const l=ac(s);let u;s.isSVG?u=n.createElementNS("http://www.w3.org/2000/svg",l):(s.isCustom&&((t=n.defaultView)!=null&&t.customElements)&&!n.defaultView.customElements.get(s.tagName)&&n.defaultView.customElements.define(s.tagName,class extends n.defaultView.HTMLElement{}),u=n.createElement(l));const c={};for(const h in s.attributes){if(!Object.prototype.hasOwnProperty.call(s.attributes,h))continue;let f=s.attributes[h];if(!(l==="option"&&h==="selected"&&f===!1)&&f!==null){if(f===!0&&(f=""),h.startsWith("rr_")){c[h]=f;continue}if(typeof f=="string"){if(l==="style"&&h==="_cssText"){cc(s,u,f,e);continue}else if(l==="textarea"&&h==="value"){u.appendChild(n.createTextNode(f)),s.childNodes=[];continue}}try{if(s.isSVG&&h==="xlink:href")u.setAttributeNS("http://www.w3.org/1999/xlink",h,f.toString());else if(h==="onload"||h==="onclick"||h.substring(0,7)==="onmouse")u.setAttribute("_"+h,f.toString());else if(l==="meta"&&s.attributes["http-equiv"]==="Content-Security-Policy"&&h==="content"){u.setAttribute("csp-content",f.toString());continue}else l==="link"&&(s.attributes.rel==="preload"||s.attributes.rel==="modulepreload")&&s.attributes.as==="script"||l==="link"&&s.attributes.rel==="prefetch"&&typeof s.attributes.href=="string"&&s.attributes.href.endsWith(".js")||(l==="img"&&s.attributes.srcset&&s.attributes.rr_dataURL?u.setAttribute("rrweb-original-srcset",s.attributes.srcset):u.setAttribute(h,f.toString()))}catch(d){}}}for(const h in c){const f=c[h];if(l==="canvas"&&h==="rr_dataURL"){const d=n.createElement("img");d.onload=()=>{const g=u.getContext("2d");g&&g.drawImage(d,0,0,d.width,d.height)},d.src=f.toString(),u.RRNodeType&&(u.rr_dataURL=f.toString())}else if(l==="img"&&h==="rr_dataURL"){const d=u;d.currentSrc.startsWith("data:")||(d.setAttribute("rrweb-original-src",s.attributes.src),d.src=f.toString())}if(h==="rr_width")u.style.setProperty("width",f.toString());else if(h==="rr_height")u.style.setProperty("height",f.toString());else if(h==="rr_mediaCurrentTime"&&typeof f=="number")u.currentTime=f;else if(h==="rr_mediaState")switch(f){case"played":u.play().catch(d=>console.warn("media playback error",d));break;case"paused":u.pause();break}else h==="rr_mediaPlaybackRate"&&typeof f=="number"?u.playbackRate=f:h==="rr_mediaMuted"&&typeof f=="boolean"?u.muted=f:h==="rr_mediaLoop"&&typeof f=="boolean"?u.loop=f:h==="rr_mediaVolume"&&typeof f=="number"?u.volume=f:h==="rr_open_mode"&&u.setAttribute("rr_open_mode",f)}if(s.isShadowHost)if(u.shadowRoot)for(;u.shadowRoot.firstChild;)u.shadowRoot.removeChild(u.shadowRoot.firstChild);else{const h=u.attachShadow({mode:"open"}),f=(i=u.ownerDocument)==null?void 0:i.defaultView;(r=s.adoptedStyleSheets)==null||r.forEach(d=>{if(!f)return;const g=new f.CSSStyleSheet;g.replaceSync(d),u.shadowRoot&&(h.adoptedStyleSheets=[g])})}return u}case Q.Text:return s.isStyle&&o?n.createTextNode(Mi(s.textContent,a)):n.createTextNode(s.textContent);case Q.CDATA:return n.createCDATASection(s.textContent);case Q.Comment:return n.createComment(s.textContent);default:return null}}function wt(s,e){const{doc:t,mirror:i,skipChild:r=!1,hackCss:n=!0,afterAppend:o,cache:a}=e;if(i.has(s.id)){const u=i.getNode(s.id),c=i.getMeta(u);if(ma(c,s))return i.getNode(s.id)}let l=hc(s,{doc:t,hackCss:n,cache:a});if(!l)return null;if(s.rootId&&i.getNode(s.rootId)!==t&&i.replace(s.rootId,t),s.type===Q.Document&&(t.close(),t.open(),s.compatMode==="BackCompat"&&s.childNodes&&s.childNodes[0].type!==Q.DocumentType&&(s.childNodes[0].type===Q.Element&&"xmlns"in s.childNodes[0].attributes&&s.childNodes[0].attributes.xmlns==="http://www.w3.org/1999/xhtml"?t.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):t.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),l=t),i.add(l,s),(s.type===Q.Document||s.type===Q.Element)&&!r)for(const u of s.childNodes){const c=wt(u,{doc:t,mirror:i,skipChild:!1,hackCss:n,afterAppend:o,cache:a});if(!c){console.warn("Failed to rebuild",u);continue}if(u.isShadow&&pa(l)&&l.shadowRoot)l.shadowRoot.appendChild(c);else if(s.type===Q.Document&&u.type==Q.Element){const h=c;let f=null;h.childNodes.forEach(d=>{d.nodeName==="BODY"&&(f=d)}),f?(h.removeChild(f),l.appendChild(c),h.appendChild(f)):l.appendChild(c)}else l.appendChild(c);o&&o(c,u.id)}return l}function fc(s,e){function t(i){e(i)}for(const i of s.getIds())s.has(i)&&t(s.getNode(i))}function pc(s,e){const t=e.getMeta(s);if((t==null?void 0:t.type)!==Q.Element)return;const i=s;for(const r in t.attributes){if(!(Object.prototype.hasOwnProperty.call(t.attributes,r)&&r.startsWith("rr_")))continue;const n=t.attributes[r];r==="rr_scrollLeft"&&(i.scrollLeft=n),r==="rr_scrollTop"&&(i.scrollTop=n)}}function dc(s,e){const{doc:t,onVisit:i,hackCss:r=!0,afterAppend:n,cache:o,mirror:a=new jn}=e,l=wt(s,{doc:t,mirror:a,skipChild:!1,hackCss:r,afterAppend:n,cache:o});return fc(a,u=>{i&&i(u),pc(u,a)}),l}var mc=Object.defineProperty,gc=(s,e,t)=>e in s?mc(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,S=(s,e,t)=>gc(s,typeof e!="symbol"?e+"":e,t),yc=Object.defineProperty,wc=(s,e,t)=>e in s?yc(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Wr=(s,e,t)=>wc(s,typeof e!="symbol"?e+"":e,t);let vc=class{constructor(){Wr(this,"idNodeMap",new Map),Wr(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const i=(t=this.getMeta(e))==null?void 0:t.id;return i!=null?i:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const i=t.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,t)}replace(e,t){const i=this.getNode(e);if(i){const r=this.nodeMetaMap.get(i);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function bc(){return new vc}function Cc(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Sc(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var r=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return s[i]}})}),t}var er={exports:{}},O=String,Oo=function(){return{isColorSupported:!1,reset:O,bold:O,dim:O,italic:O,underline:O,inverse:O,hidden:O,strikethrough:O,black:O,red:O,green:O,yellow:O,blue:O,magenta:O,cyan:O,white:O,gray:O,bgBlack:O,bgRed:O,bgGreen:O,bgYellow:O,bgBlue:O,bgMagenta:O,bgCyan:O,bgWhite:O,blackBright:O,redBright:O,greenBright:O,yellowBright:O,blueBright:O,magentaBright:O,cyanBright:O,whiteBright:O,bgBlackBright:O,bgRedBright:O,bgGreenBright:O,bgYellowBright:O,bgBlueBright:O,bgMagentaBright:O,bgCyanBright:O,bgWhiteBright:O}};er.exports=Oo();er.exports.createColors=Oo;var Ec=er.exports;const xc={},Ac=Object.freeze(Object.defineProperty({__proto__:null,default:xc},Symbol.toStringTag,{value:"Module"})),ge=Sc(Ac);let Gr=Ec,Yr=ge,ys=class _o extends Error{constructor(e,t,i,r,n,o){super(e),this.name="CssSyntaxError",this.reason=e,n&&(this.file=n),r&&(this.source=r),o&&(this.plugin=o),typeof t!="undefined"&&typeof i!="undefined"&&(typeof t=="number"?(this.line=t,this.column=i):(this.line=t.line,this.column=t.column,this.endLine=i.line,this.endColumn=i.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,_o)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;e==null&&(e=Gr.isColorSupported);let i=c=>c,r=c=>c,n=c=>c;if(e){let{bold:c,gray:h,red:f}=Gr.createColors(!0);r=d=>c(f(d)),i=d=>h(d),Yr&&(n=d=>Yr(d))}let o=t.split(/\r?\n/),a=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),u=String(l).length;return o.slice(a,l).map((c,h)=>{let f=a+1+h,d=" "+(" "+f).slice(-u)+" | ";if(f===this.line){if(c.length>160){let C=20,p=Math.max(0,this.column-C),m=Math.max(this.column+C,this.endColumn+C),w=c.slice(p,m),v=i(d.replace(/\d/g," "))+c.slice(0,Math.min(this.column-1,C-1)).replace(/[^\t]/g," ");return r(">")+i(d)+n(w)+`
 `+v+r("^")}let g=i(d.replace(/\d/g," "))+c.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+i(d)+n(c)+`
 `+g+r("^")}return" "+i(d)+n(c)}).join(`
`)}toString(){let e=this.showSourceCode();return e&&(e=`

`+e+`
`),this.name+": "+this.message+e}};var tr=ys;ys.default=ys;const jr={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function Rc(s){return s[0].toUpperCase()+s.slice(1)}let ws=class{constructor(e){this.builder=e}atrule(e,t){let i="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if(typeof e.raws.afterName!="undefined"?i+=e.raws.afterName:r&&(i+=" "),e.nodes)this.block(e,i+r);else{let n=(e.raws.between||"")+(t?";":"");this.builder(i+r+n,e)}}beforeAfter(e,t){let i;e.type==="decl"?i=this.raw(e,null,"beforeDecl"):e.type==="comment"?i=this.raw(e,null,"beforeComment"):t==="before"?i=this.raw(e,null,"beforeRule"):i=this.raw(e,null,"beforeClose");let r=e.parent,n=0;for(;r&&r.type!=="root";)n+=1,r=r.parent;if(i.includes(`
`)){let o=this.raw(e,null,"indent");if(o.length)for(let a=0;a<n;a++)i+=o}return i}block(e,t){let i=this.raw(e,"between","beforeOpen");this.builder(t+i+"{",e,"start");let r;e.nodes&&e.nodes.length?(this.body(e),r=this.raw(e,"after")):r=this.raw(e,"after","emptyBody"),r&&this.builder(r),this.builder("}",e,"end")}body(e){let t=e.nodes.length-1;for(;t>0&&e.nodes[t].type==="comment";)t-=1;let i=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let n=e.nodes[r],o=this.raw(n,"before");o&&this.builder(o),this.stringify(n,t!==r||i)}}comment(e){let t=this.raw(e,"left","commentLeft"),i=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+i+"*/",e)}decl(e,t){let i=this.raw(e,"between","colon"),r=e.prop+i+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}document(e){this.body(e)}raw(e,t,i){let r;if(i||(i=t),t&&(r=e.raws[t],typeof r!="undefined"))return r;let n=e.parent;if(i==="before"&&(!n||n.type==="root"&&n.first===e||n&&n.type==="document"))return"";if(!n)return jr[i];let o=e.root();if(o.rawCache||(o.rawCache={}),typeof o.rawCache[i]!="undefined")return o.rawCache[i];if(i==="before"||i==="after")return this.beforeAfter(e,i);{let a="raw"+Rc(i);this[a]?r=this[a](o,e):o.walk(l=>{if(r=l.raws[t],typeof r!="undefined")return!1})}return typeof r=="undefined"&&(r=jr[i]),o.rawCache[i]=r,r}rawBeforeClose(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length>0&&typeof i.raws.after!="undefined")return t=i.raws.after,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawBeforeComment(e,t){let i;return e.walkComments(r=>{if(typeof r.raws.before!="undefined")return i=r.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i=="undefined"?i=this.raw(t,null,"beforeDecl"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeDecl(e,t){let i;return e.walkDecls(r=>{if(typeof r.raws.before!="undefined")return i=r.raws.before,i.includes(`
`)&&(i=i.replace(/[^\n]+$/,"")),!1}),typeof i=="undefined"?i=this.raw(t,null,"beforeRule"):i&&(i=i.replace(/\S/g,"")),i}rawBeforeOpen(e){let t;return e.walk(i=>{if(i.type!=="decl"&&(t=i.raws.between,typeof t!="undefined"))return!1}),t}rawBeforeRule(e){let t;return e.walk(i=>{if(i.nodes&&(i.parent!==e||e.first!==i)&&typeof i.raws.before!="undefined")return t=i.raws.before,t.includes(`
`)&&(t=t.replace(/[^\n]+$/,"")),!1}),t&&(t=t.replace(/\S/g,"")),t}rawColon(e){let t;return e.walkDecls(i=>{if(typeof i.raws.between!="undefined")return t=i.raws.between.replace(/[^\s:]/g,""),!1}),t}rawEmptyBody(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length===0&&(t=i.raws.after,typeof t!="undefined"))return!1}),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk(i=>{let r=i.parent;if(r&&r!==e&&r.parent&&r.parent===e&&typeof i.raws.before!="undefined"){let n=i.raws.before.split(`
`);return t=n[n.length-1],t=t.replace(/\S/g,""),!1}}),t}rawSemicolon(e){let t;return e.walk(i=>{if(i.nodes&&i.nodes.length&&i.last.type==="decl"&&(t=i.raws.semicolon,typeof t!="undefined"))return!1}),t}rawValue(e,t){let i=e[t],r=e.raws[t];return r&&r.value===i?r.raw:i}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}};var To=ws;ws.default=ws;let Nc=To;function vs(s,e){new Nc(e).stringify(s)}var Ii=vs;vs.default=vs;var _t={};_t.isClean=Symbol("isClean");_t.my=Symbol("my");let Mc=tr,Ic=To,Dc=Ii,{isClean:ct,my:Oc}=_t;function bs(s,e){let t=new s.constructor;for(let i in s){if(!Object.prototype.hasOwnProperty.call(s,i)||i==="proxyCache")continue;let r=s[i],n=typeof r;i==="parent"&&n==="object"?e&&(t[i]=e):i==="source"?t[i]=r:Array.isArray(r)?t[i]=r.map(o=>bs(o,t)):(n==="object"&&r!==null&&(r=bs(r)),t[i]=r)}return t}function ht(s,e){if(e&&typeof e.offset!="undefined")return e.offset;let t=1,i=1,r=0;for(let n=0;n<s.length;n++){if(i===e.line&&t===e.column){r=n;break}s[n]===`
`?(t=1,i+=1):t+=1}return r}let Cs=class{constructor(e={}){this.raws={},this[ct]=!1,this[Oc]=!0;for(let t in e)if(t==="nodes"){this.nodes=[];for(let i of e[t])typeof i.clone=="function"?this.append(i.clone()):this.append(i)}else this[t]=e[t]}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}after(e){return this.parent.insertAfter(this,e),this}assign(e={}){for(let t in e)this[t]=e[t];return this}before(e){return this.parent.insertBefore(this,e),this}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}clone(e={}){let t=bs(this);for(let i in e)t[i]=e[i];return t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}error(e,t={}){if(this.source){let{end:i,start:r}=this.rangeBy(t);return this.source.input.error(e,{column:r.column,line:r.line},{column:i.column,line:i.line},t)}return new Mc(e)}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:t==="root"?()=>e.root().toProxy():e[t]},set(e,t,i){return e[t]===i||(e[t]=i,(t==="prop"||t==="value"||t==="name"||t==="params"||t==="important"||t==="text")&&e.markDirty()),!0}}}markClean(){this[ct]=!0}markDirty(){if(this[ct]){this[ct]=!1;let e=this;for(;e=e.parent;)e[ct]=!1}}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let r=this.source.input.css.slice(ht(this.source.input.css,this.source.start),ht(this.source.input.css,this.source.end)).indexOf(e.word);r!==-1&&(t=this.positionInside(r))}return t}positionInside(e){let t=this.source.start.column,i=this.source.start.line,r=ht(this.source.input.css,this.source.start),n=r+e;for(let o=r;o<n;o++)this.source.input.css[o]===`
`?(t=1,i+=1):t+=1;return{column:t,line:i}}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}rangeBy(e){let t={column:this.source.start.column,line:this.source.start.line},i=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:t.column+1,line:t.line};if(e.word){let n=this.source.input.css.slice(ht(this.source.input.css,this.source.start),ht(this.source.input.css,this.source.end)).indexOf(e.word);n!==-1&&(t=this.positionInside(n),i=this.positionInside(n+e.word.length))}else e.start?t={column:e.start.column,line:e.start.line}:e.index&&(t=this.positionInside(e.index)),e.end?i={column:e.end.column,line:e.end.line}:typeof e.endIndex=="number"?i=this.positionInside(e.endIndex):e.index&&(i=this.positionInside(e.index+1));return(i.line<t.line||i.line===t.line&&i.column<=t.column)&&(i={column:t.column+1,line:t.line}),{end:i,start:t}}raw(e,t){return new Ic().raw(this,e,t)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...e){if(this.parent){let t=this,i=!1;for(let r of e)r===this?i=!0:i?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);i||this.remove()}return this}root(){let e=this;for(;e.parent&&e.parent.type!=="document";)e=e.parent;return e}toJSON(e,t){let i={},r=t==null;t=t||new Map;let n=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o)||o==="parent"||o==="proxyCache")continue;let a=this[o];if(Array.isArray(a))i[o]=a.map(l=>typeof l=="object"&&l.toJSON?l.toJSON(null,t):l);else if(typeof a=="object"&&a.toJSON)i[o]=a.toJSON(null,t);else if(o==="source"){let l=t.get(a.input);l==null&&(l=n,t.set(a.input,n),n++),i[o]={end:a.end,inputId:l,start:a.start}}else i[o]=a}return r&&(i.inputs=[...t.keys()].map(o=>o.toJSON())),i}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(e=Dc){e.stringify&&(e=e.stringify);let t="";return e(this,i=>{t+=i}),t}warn(e,t,i){let r={node:this};for(let n in i)r[n]=i[n];return e.warn(t,r)}get proxyOf(){return this}};var Di=Cs;Cs.default=Cs;let _c=Di,Ss=class extends _c{constructor(e){super(e),this.type="comment"}};var Oi=Ss;Ss.default=Ss;let Tc=Di,Es=class extends Tc{constructor(e){e&&typeof e.value!="undefined"&&typeof e.value!="string"&&(e=le(V({},e),{value:String(e.value)})),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}};var _i=Es;Es.default=Es;let ko=Oi,Po=_i,kc=Di,{isClean:$o,my:Lo}=_t,ir,Fo,Bo,sr;function Uo(s){return s.map(e=>(e.nodes&&(e.nodes=Uo(e.nodes)),delete e.source,e))}function zo(s){if(s[$o]=!1,s.proxyOf.nodes)for(let e of s.proxyOf.nodes)zo(e)}let Ne=class Vo extends kc{append(...e){for(let t of e){let i=this.normalize(t,this.last);for(let r of i)this.proxyOf.nodes.push(r)}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}each(e){if(!this.proxyOf.nodes)return;let t=this.getIterator(),i,r;for(;this.indexes[t]<this.proxyOf.nodes.length&&(i=this.indexes[t],r=e(this.proxyOf.nodes[i],i),r!==!1);)this.indexes[t]+=1;return delete this.indexes[t],r}every(e){return this.nodes.every(e)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}getProxyProcessor(){return{get(e,t){return t==="proxyOf"?e:e[t]?t==="each"||typeof t=="string"&&t.startsWith("walk")?(...i)=>e[t](...i.map(r=>typeof r=="function"?(n,o)=>r(n.toProxy(),o):r)):t==="every"||t==="some"?i=>e[t]((r,...n)=>i(r.toProxy(),...n)):t==="root"?()=>e.root().toProxy():t==="nodes"?e.nodes.map(i=>i.toProxy()):t==="first"||t==="last"?e[t].toProxy():e[t]:e[t]},set(e,t,i){return e[t]===i||(e[t]=i,(t==="name"||t==="params"||t==="selector")&&e.markDirty()),!0}}}index(e){return typeof e=="number"?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}insertAfter(e,t){let i=this.index(e),r=this.normalize(t,this.proxyOf.nodes[i]).reverse();i=this.index(e);for(let o of r)this.proxyOf.nodes.splice(i+1,0,o);let n;for(let o in this.indexes)n=this.indexes[o],i<n&&(this.indexes[o]=n+r.length);return this.markDirty(),this}insertBefore(e,t){let i=this.index(e),r=i===0?"prepend":!1,n=this.normalize(t,this.proxyOf.nodes[i],r).reverse();i=this.index(e);for(let a of n)this.proxyOf.nodes.splice(i,0,a);let o;for(let a in this.indexes)o=this.indexes[a],i<=o&&(this.indexes[a]=o+n.length);return this.markDirty(),this}normalize(e,t){if(typeof e=="string")e=Uo(Fo(e).nodes);else if(typeof e=="undefined")e=[];else if(Array.isArray(e)){e=e.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type==="root"&&this.type!=="document"){e=e.nodes.slice(0);for(let r of e)r.parent&&r.parent.removeChild(r,"ignore")}else if(e.type)e=[e];else if(e.prop){if(typeof e.value=="undefined")throw new Error("Value field is missed in node creation");typeof e.value!="string"&&(e.value=String(e.value)),e=[new Po(e)]}else if(e.selector||e.selectors)e=[new sr(e)];else if(e.name)e=[new ir(e)];else if(e.text)e=[new ko(e)];else throw new Error("Unknown node type in node creation");return e.map(r=>(r[Lo]||Vo.rebuild(r),r=r.proxyOf,r.parent&&r.parent.removeChild(r),r[$o]&&zo(r),r.raws||(r.raws={}),typeof r.raws.before=="undefined"&&t&&typeof t.raws.before!="undefined"&&(r.raws.before=t.raws.before.replace(/\S/g,"")),r.parent=this.proxyOf,r))}prepend(...e){e=e.reverse();for(let t of e){let i=this.normalize(t,this.first,"prepend").reverse();for(let r of i)this.proxyOf.nodes.unshift(r);for(let r in this.indexes)this.indexes[r]=this.indexes[r]+i.length}return this.markDirty(),this}push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(e){e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);let t;for(let i in this.indexes)t=this.indexes[i],t>=e&&(this.indexes[i]=t-1);return this.markDirty(),this}replaceValues(e,t,i){return i||(i=t,t={}),this.walkDecls(r=>{t.props&&!t.props.includes(r.prop)||t.fast&&!r.value.includes(t.fast)||(r.value=r.value.replace(e,i))}),this.markDirty(),this}some(e){return this.nodes.some(e)}walk(e){return this.each((t,i)=>{let r;try{r=e(t,i)}catch(n){throw t.addToError(n)}return r!==!1&&t.walk&&(r=t.walk(e)),r})}walkAtRules(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="atrule"&&e.test(i.name))return t(i,r)}):this.walk((i,r)=>{if(i.type==="atrule"&&i.name===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="atrule")return t(i,r)}))}walkComments(e){return this.walk((t,i)=>{if(t.type==="comment")return e(t,i)})}walkDecls(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="decl"&&e.test(i.prop))return t(i,r)}):this.walk((i,r)=>{if(i.type==="decl"&&i.prop===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="decl")return t(i,r)}))}walkRules(e,t){return t?e instanceof RegExp?this.walk((i,r)=>{if(i.type==="rule"&&e.test(i.selector))return t(i,r)}):this.walk((i,r)=>{if(i.type==="rule"&&i.selector===e)return t(i,r)}):(t=e,this.walk((i,r)=>{if(i.type==="rule")return t(i,r)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}};Ne.registerParse=s=>{Fo=s};Ne.registerRule=s=>{sr=s};Ne.registerAtRule=s=>{ir=s};Ne.registerRoot=s=>{Bo=s};var Be=Ne;Ne.default=Ne;Ne.rebuild=s=>{s.type==="atrule"?Object.setPrototypeOf(s,ir.prototype):s.type==="rule"?Object.setPrototypeOf(s,sr.prototype):s.type==="decl"?Object.setPrototypeOf(s,Po.prototype):s.type==="comment"?Object.setPrototypeOf(s,ko.prototype):s.type==="root"&&Object.setPrototypeOf(s,Bo.prototype),s[Lo]=!0,s.nodes&&s.nodes.forEach(e=>{Ne.rebuild(e)})};let Wo=Be,di=class extends Wo{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}};var rr=di;di.default=di;Wo.registerAtRule(di);let Pc=Be,Go,Yo,Rt=class extends Pc{constructor(e){super(V({type:"document"},e)),this.nodes||(this.nodes=[])}toResult(e={}){return new Go(new Yo,this,e).stringify()}};Rt.registerLazyResult=s=>{Go=s};Rt.registerProcessor=s=>{Yo=s};var nr=Rt;Rt.default=Rt;let $c="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Lc=(s,e=21)=>(t=e)=>{let i="",r=t|0;for(;r--;)i+=s[Math.random()*s.length|0];return i},Fc=(s=21)=>{let e="",t=s|0;for(;t--;)e+=$c[Math.random()*64|0];return e};var Bc={nanoid:Fc,customAlphabet:Lc};let{existsSync:Uc,readFileSync:zc}=ge,{dirname:Vi,join:Vc}=ge,{SourceMapConsumer:Zr,SourceMapGenerator:Hr}=ge;function Wc(s){return Buffer?Buffer.from(s,"base64").toString():window.atob(s)}let xs=class{constructor(e,t){if(t.map===!1)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let i=t.map?t.map.prev:void 0,r=this.loadMap(t.from,i);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Vi(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new Zr(this.text)),this.consumerCache}decodeInline(e){let t=/^data:application\/json;charset=utf-?8;base64,/,i=/^data:application\/json;base64,/,r=/^data:application\/json;charset=utf-?8,/,n=/^data:application\/json,/,o=e.match(r)||e.match(n);if(o)return decodeURIComponent(e.substr(o[0].length));let a=e.match(t)||e.match(i);if(a)return Wc(e.substr(a[0].length));let l=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+l)}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(e){return typeof e!="object"?!1:typeof e.mappings=="string"||typeof e._mappings=="string"||Array.isArray(e.sections)}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/g);if(!t)return;let i=e.lastIndexOf(t.pop()),r=e.indexOf("*/",i);i>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(i,r)))}loadFile(e){if(this.root=Vi(e),Uc(e))return this.mapFile=e,zc(e,"utf-8").toString().trim()}loadMap(e,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let i=t(e);if(i){let r=this.loadFile(i);if(!r)throw new Error("Unable to load previous source map: "+i.toString());return r}}else{if(t instanceof Zr)return Hr.fromSourceMap(t).toString();if(t instanceof Hr)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let i=this.annotation;return e&&(i=Vc(Vi(e),i)),this.loadFile(i)}}}startWith(e,t){return e?e.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}};var jo=xs;xs.default=xs;let{nanoid:Gc}=Bc,{isAbsolute:As,resolve:Rs}=ge,{SourceMapConsumer:Yc,SourceMapGenerator:jc}=ge,{fileURLToPath:Xr,pathToFileURL:Gt}=ge,Jr=tr,Zc=jo,Wi=ge,Gi=Symbol("fromOffsetCache"),Hc=!!(Yc&&jc),Kr=!!(Rs&&As),mi=class{constructor(e,t={}){if(e===null||typeof e=="undefined"||typeof e=="object"&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Kr||/^\w+:\/\//.test(t.from)||As(t.from)?this.file=t.from:this.file=Rs(t.from)),Kr&&Hc){let i=new Zc(this.css,t);if(i.text){this.map=i;let r=i.consumer().file;!this.file&&r&&(this.file=this.mapResolve(r))}}this.file||(this.id="<input css "+Gc(6)+">"),this.map&&(this.map.file=this.from)}error(e,t,i,r={}){let n,o,a;if(t&&typeof t=="object"){let u=t,c=i;if(typeof u.offset=="number"){let h=this.fromOffset(u.offset);t=h.line,i=h.col}else t=u.line,i=u.column;if(typeof c.offset=="number"){let h=this.fromOffset(c.offset);o=h.line,n=h.col}else o=c.line,n=c.column}else if(!i){let u=this.fromOffset(t);t=u.line,i=u.col}let l=this.origin(t,i,o,n);return l?a=new Jr(e,l.endLine===void 0?l.line:{column:l.column,line:l.line},l.endLine===void 0?l.column:{column:l.endColumn,line:l.endLine},l.source,l.file,r.plugin):a=new Jr(e,o===void 0?t:{column:i,line:t},o===void 0?i:{column:n,line:o},this.css,this.file,r.plugin),a.input={column:i,endColumn:n,endLine:o,line:t,source:this.css},this.file&&(Gt&&(a.input.url=Gt(this.file).toString()),a.input.file=this.file),a}fromOffset(e){let t,i;if(this[Gi])i=this[Gi];else{let n=this.css.split(`
`);i=new Array(n.length);let o=0;for(let a=0,l=n.length;a<l;a++)i[a]=o,o+=n[a].length+1;this[Gi]=i}t=i[i.length-1];let r=0;if(e>=t)r=i.length-1;else{let n=i.length-2,o;for(;r<n;)if(o=r+(n-r>>1),e<i[o])n=o-1;else if(e>=i[o+1])r=o+1;else{r=o;break}}return{col:e-i[r]+1,line:r+1}}mapResolve(e){return/^\w+:\/\//.test(e)?e:Rs(this.map.consumer().sourceRoot||this.map.root||".",e)}origin(e,t,i,r){if(!this.map)return!1;let n=this.map.consumer(),o=n.originalPositionFor({column:t,line:e});if(!o.source)return!1;let a;typeof i=="number"&&(a=n.originalPositionFor({column:r,line:i}));let l;As(o.source)?l=Gt(o.source):l=new URL(o.source,this.map.consumer().sourceRoot||Gt(this.map.mapFile));let u={column:o.column,endColumn:a&&a.column,endLine:a&&a.line,line:o.line,url:l.toString()};if(l.protocol==="file:")if(Xr)u.file=Xr(l);else throw new Error("file: protocol is not available in this PostCSS build");let c=n.sourceContentFor(o.source);return c&&(u.source=c),u}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])this[t]!=null&&(e[t]=this[t]);return this.map&&(e.map=V({},this.map),e.map.consumerCache&&(e.map.consumerCache=void 0)),e}get from(){return this.file||this.id}};var Ti=mi;mi.default=mi;Wi&&Wi.registerInput&&Wi.registerInput(mi);let Zo=Be,Ho,Xo,et=class extends Zo{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}normalize(e,t,i){let r=super.normalize(e);if(t){if(i==="prepend")this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let n of r)n.raws.before=t.raws.before}return r}removeChild(e,t){let i=this.index(e);return!t&&i===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[i].raws.before),super.removeChild(e)}toResult(e={}){return new Ho(new Xo,this,e).stringify()}};et.registerLazyResult=s=>{Ho=s};et.registerProcessor=s=>{Xo=s};var Tt=et;et.default=et;Zo.registerRoot(et);let Nt={comma(s){return Nt.split(s,[","],!0)},space(s){let e=[" ",`
`,"	"];return Nt.split(s,e)},split(s,e,t){let i=[],r="",n=!1,o=0,a=!1,l="",u=!1;for(let c of s)u?u=!1:c==="\\"?u=!0:a?c===l&&(a=!1):c==='"'||c==="'"?(a=!0,l=c):c==="("?o+=1:c===")"?o>0&&(o-=1):o===0&&e.includes(c)&&(n=!0),n?(r!==""&&i.push(r.trim()),r="",n=!1):r+=c;return(t||r!=="")&&i.push(r.trim()),i}};var Jo=Nt;Nt.default=Nt;let Ko=Be,Xc=Jo,gi=class extends Ko{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return Xc.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,i=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(i)}};var or=gi;gi.default=gi;Ko.registerRule(gi);let Jc=rr,Kc=Oi,Qc=_i,qc=Ti,eh=jo,th=Tt,ih=or;function Mt(s,e){if(Array.isArray(s))return s.map(o=>Mt(o));let r=s,{inputs:t}=r,i=nt(r,["inputs"]);if(t){e=[];for(let o of t){let a=le(V({},o),{__proto__:qc.prototype});a.map&&(a.map=le(V({},a.map),{__proto__:eh.prototype})),e.push(a)}}if(i.nodes&&(i.nodes=s.nodes.map(o=>Mt(o,e))),i.source){let n=i.source,{inputId:o}=n,a=nt(n,["inputId"]);i.source=a,o!=null&&(i.source.input=e[o])}if(i.type==="root")return new th(i);if(i.type==="decl")return new Qc(i);if(i.type==="rule")return new ih(i);if(i.type==="comment")return new Kc(i);if(i.type==="atrule")return new Jc(i);throw new Error("Unknown node type: "+s.type)}var sh=Mt;Mt.default=Mt;let{dirname:oi,relative:Qo,resolve:qo,sep:el}=ge,{SourceMapConsumer:tl,SourceMapGenerator:li}=ge,{pathToFileURL:Qr}=ge,rh=Ti,nh=!!(tl&&li),oh=!!(oi&&qo&&Qo&&el),lh=class{constructor(e,t,i,r){this.stringify=e,this.mapOpts=i.map||{},this.root=t,this.opts=i,this.css=r,this.originalCSS=r,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let e;this.isInline()?e="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?e=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?e=this.mapOpts.annotation(this.opts.to,this.root):e=this.outputFile()+".map";let t=`
`;this.css.includes(`\r
`)&&(t=`\r
`),this.css+=t+"/*# sourceMappingURL="+e+" */"}applyPrevMaps(){for(let e of this.previous()){let t=this.toUrl(this.path(e.file)),i=e.root||oi(e.file),r;this.mapOpts.sourcesContent===!1?(r=new tl(e.text),r.sourcesContent&&(r.sourcesContent=null)):r=e.consumer(),this.map.applySourceMap(r,t,this.toUrl(this.path(i)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],e.type==="comment"&&e.text.startsWith("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/\n*\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),oh&&nh&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,t=>{e+=t}),[e]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=li.fromSourceMap(e,{ignoreInvalidMapping:!0})}else this.map=new li({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new li({file:this.outputFile(),ignoreInvalidMapping:!0});let e=1,t=1,i="<no source>",r={generated:{column:0,line:0},original:{column:0,line:0},source:""},n,o;this.stringify(this.root,(a,l,u)=>{if(this.css+=a,l&&u!=="end"&&(r.generated.line=e,r.generated.column=t-1,l.source&&l.source.start?(r.source=this.sourcePath(l),r.original.line=l.source.start.line,r.original.column=l.source.start.column-1,this.map.addMapping(r)):(r.source=i,r.original.line=1,r.original.column=0,this.map.addMapping(r))),o=a.match(/\n/g),o?(e+=o.length,n=a.lastIndexOf(`
`),t=a.length-n):t+=a.length,l&&u!=="start"){let c=l.parent||{raws:{}};(!(l.type==="decl"||l.type==="atrule"&&!l.nodes)||l!==c.last||c.raws.semicolon)&&(l.source&&l.source.end?(r.source=this.sourcePath(l),r.original.line=l.source.end.line,r.original.column=l.source.end.column-1,r.generated.line=e,r.generated.column=t-2,this.map.addMapping(r)):(r.source=i,r.original.line=1,r.original.column=0,r.generated.line=e,r.generated.column=t-1,this.map.addMapping(r)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(e=>e.annotation):!0}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let e=this.mapOpts.annotation;return typeof e!="undefined"&&e!==!0?!1:this.previous().length?this.previous().some(t=>t.inline):!0}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(e=>e.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(e){if(this.mapOpts.absolute||e.charCodeAt(0)===60||/^\w+:\/\//.test(e))return e;let t=this.memoizedPaths.get(e);if(t)return t;let i=this.opts.to?oi(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(i=oi(qo(i,this.mapOpts.annotation)));let r=Qo(i,e);return this.memoizedPaths.set(e,r),r}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}});else{let e=new rh(this.originalCSS,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}setSourcesContent(){let e={};if(this.root)this.root.walk(t=>{if(t.source){let i=t.source.input.from;if(i&&!e[i]){e[i]=!0;let r=this.usesFileUrls?this.toFileUrl(i):this.toUrl(this.path(i));this.map.setSourceContent(r,t.source.input.css)}}});else if(this.css){let t=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(t,this.css)}}sourcePath(e){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(e.source.input.from):this.toUrl(this.path(e.source.input.from))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}toFileUrl(e){let t=this.memoizedFileURLs.get(e);if(t)return t;if(Qr){let i=Qr(e).toString();return this.memoizedFileURLs.set(e,i),i}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(e){let t=this.memoizedURLs.get(e);if(t)return t;el==="\\"&&(e=e.replace(/\\/g,"/"));let i=encodeURI(e).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(e,i),i}};var il=lh;const Yi=39,qr=34,Yt=92,en=47,jt=10,ft=32,Zt=12,Ht=9,Xt=13,ah=91,uh=93,ch=40,hh=41,fh=123,ph=125,dh=59,mh=42,gh=58,yh=64,Jt=/[\t\n\f\r "#'()/;[\\\]{}]/g,Kt=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,wh=/.[\r\n"'(/\\]/,tn=/[\da-f]/i;var vh=function(e,t={}){let i=e.css.valueOf(),r=t.ignoreErrors,n,o,a,l,u,c,h,f,d,g,C=i.length,p=0,m=[],w=[];function v(){return p}function A(I){throw e.error("Unclosed "+I,p)}function R(){return w.length===0&&p>=C}function _(I){if(w.length)return w.pop();if(p>=C)return;let X=I?I.ignoreUnclosed:!1;switch(n=i.charCodeAt(p),n){case jt:case ft:case Ht:case Xt:case Zt:{l=p;do l+=1,n=i.charCodeAt(l);while(n===ft||n===jt||n===Ht||n===Xt||n===Zt);c=["space",i.slice(p,l)],p=l-1;break}case ah:case uh:case fh:case ph:case gh:case dh:case hh:{let W=String.fromCharCode(n);c=[W,W,p];break}case ch:{if(g=m.length?m.pop()[1]:"",d=i.charCodeAt(p+1),g==="url"&&d!==Yi&&d!==qr&&d!==ft&&d!==jt&&d!==Ht&&d!==Zt&&d!==Xt){l=p;do{if(h=!1,l=i.indexOf(")",l+1),l===-1)if(r||X){l=p;break}else A("bracket");for(f=l;i.charCodeAt(f-1)===Yt;)f-=1,h=!h}while(h);c=["brackets",i.slice(p,l+1),p,l],p=l}else l=i.indexOf(")",p+1),o=i.slice(p,l+1),l===-1||wh.test(o)?c=["(","(",p]:(c=["brackets",o,p,l],p=l);break}case Yi:case qr:{u=n===Yi?"'":'"',l=p;do{if(h=!1,l=i.indexOf(u,l+1),l===-1)if(r||X){l=p+1;break}else A("string");for(f=l;i.charCodeAt(f-1)===Yt;)f-=1,h=!h}while(h);c=["string",i.slice(p,l+1),p,l],p=l;break}case yh:{Jt.lastIndex=p+1,Jt.test(i),Jt.lastIndex===0?l=i.length-1:l=Jt.lastIndex-2,c=["at-word",i.slice(p,l+1),p,l],p=l;break}case Yt:{for(l=p,a=!0;i.charCodeAt(l+1)===Yt;)l+=1,a=!a;if(n=i.charCodeAt(l+1),a&&n!==en&&n!==ft&&n!==jt&&n!==Ht&&n!==Xt&&n!==Zt&&(l+=1,tn.test(i.charAt(l)))){for(;tn.test(i.charAt(l+1));)l+=1;i.charCodeAt(l+1)===ft&&(l+=1)}c=["word",i.slice(p,l+1),p,l],p=l;break}default:{n===en&&i.charCodeAt(p+1)===mh?(l=i.indexOf("*/",p+2)+1,l===0&&(r||X?l=i.length:A("comment")),c=["comment",i.slice(p,l+1),p,l],p=l):(Kt.lastIndex=p+1,Kt.test(i),Kt.lastIndex===0?l=i.length-1:l=Kt.lastIndex-2,c=["word",i.slice(p,l+1),p,l],m.push(c),p=l);break}}return p++,c}function Z(I){w.push(I)}return{back:Z,endOfFile:R,nextToken:_,position:v}};let bh=rr,Ch=Oi,Sh=_i,Eh=Tt,sn=or,xh=vh;const rn={empty:!0,space:!0};function Ah(s){for(let e=s.length-1;e>=0;e--){let t=s[e],i=t[3]||t[2];if(i)return i}}let Rh=class{constructor(e){this.input=e,this.root=new Eh,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:e,start:{column:1,line:1,offset:0}}}atrule(e){let t=new bh;t.name=e[1].slice(1),t.name===""&&this.unnamedAtrule(t,e),this.init(t,e[2]);let i,r,n,o=!1,a=!1,l=[],u=[];for(;!this.tokenizer.endOfFile();){if(e=this.tokenizer.nextToken(),i=e[0],i==="("||i==="["?u.push(i==="("?")":"]"):i==="{"&&u.length>0?u.push("}"):i===u[u.length-1]&&u.pop(),u.length===0)if(i===";"){t.source.end=this.getPosition(e[2]),t.source.end.offset++,this.semicolon=!0;break}else if(i==="{"){a=!0;break}else if(i==="}"){if(l.length>0){for(n=l.length-1,r=l[n];r&&r[0]==="space";)r=l[--n];r&&(t.source.end=this.getPosition(r[3]||r[2]),t.source.end.offset++)}this.end(e);break}else l.push(e);else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}t.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(t.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(t,"params",l),o&&(e=l[l.length-1],t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++,this.spaces=t.raws.between,t.raws.between="")):(t.raws.afterName="",t.params=""),a&&(t.nodes=[],this.current=t)}checkMissedSemicolon(e){let t=this.colon(e);if(t===!1)return;let i=0,r;for(let n=t-1;n>=0&&(r=e[n],!(r[0]!=="space"&&(i+=1,i===2)));n--);throw this.input.error("Missed semicolon",r[0]==="word"?r[3]+1:r[2])}colon(e){let t=0,i,r,n;for(let[o,a]of e.entries()){if(r=a,n=r[0],n==="("&&(t+=1),n===")"&&(t-=1),t===0&&n===":")if(!i)this.doubleColon(r);else{if(i[0]==="word"&&i[1]==="progid")continue;return o}i=r}return!1}comment(e){let t=new Ch;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]),t.source.end.offset++;let i=e[1].slice(2,-2);if(/^\s*$/.test(i))t.text="",t.raws.left=i,t.raws.right="";else{let r=i.match(/^(\s*)([^]*\S)(\s*)$/);t.text=r[2],t.raws.left=r[1],t.raws.right=r[3]}}createTokenizer(){this.tokenizer=xh(this.input)}decl(e,t){let i=new Sh;this.init(i,e[0][2]);let r=e[e.length-1];for(r[0]===";"&&(this.semicolon=!0,e.pop()),i.source.end=this.getPosition(r[3]||r[2]||Ah(e)),i.source.end.offset++;e[0][0]!=="word";)e.length===1&&this.unknownWord(e),i.raws.before+=e.shift()[1];for(i.source.start=this.getPosition(e[0][2]),i.prop="";e.length;){let u=e[0][0];if(u===":"||u==="space"||u==="comment")break;i.prop+=e.shift()[1]}i.raws.between="";let n;for(;e.length;)if(n=e.shift(),n[0]===":"){i.raws.between+=n[1];break}else n[0]==="word"&&/\w/.test(n[1])&&this.unknownWord([n]),i.raws.between+=n[1];(i.prop[0]==="_"||i.prop[0]==="*")&&(i.raws.before+=i.prop[0],i.prop=i.prop.slice(1));let o=[],a;for(;e.length&&(a=e[0][0],!(a!=="space"&&a!=="comment"));)o.push(e.shift());this.precheckMissedSemicolon(e);for(let u=e.length-1;u>=0;u--){if(n=e[u],n[1].toLowerCase()==="!important"){i.important=!0;let c=this.stringFrom(e,u);c=this.spacesFromEnd(e)+c,c!==" !important"&&(i.raws.important=c);break}else if(n[1].toLowerCase()==="important"){let c=e.slice(0),h="";for(let f=u;f>0;f--){let d=c[f][0];if(h.trim().startsWith("!")&&d!=="space")break;h=c.pop()[1]+h}h.trim().startsWith("!")&&(i.important=!0,i.raws.important=h,e=c)}if(n[0]!=="space"&&n[0]!=="comment")break}e.some(u=>u[0]!=="space"&&u[0]!=="comment")&&(i.raws.between+=o.map(u=>u[1]).join(""),o=[]),this.raw(i,"value",o.concat(e),t),i.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}emptyRule(e){let t=new sn;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let t=this.current.nodes[this.current.nodes.length-1];t&&t.type==="rule"&&!t.raws.ownSemicolon&&(t.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{column:t.col,line:t.line,offset:e}}init(e,t){this.current.push(e),e.source={input:this.input,start:this.getPosition(t)},e.raws.before=this.spaces,this.spaces="",e.type!=="comment"&&(this.semicolon=!1)}other(e){let t=!1,i=null,r=!1,n=null,o=[],a=e[1].startsWith("--"),l=[],u=e;for(;u;){if(i=u[0],l.push(u),i==="("||i==="[")n||(n=u),o.push(i==="("?")":"]");else if(a&&r&&i==="{")n||(n=u),o.push("}");else if(o.length===0)if(i===";")if(r){this.decl(l,a);return}else break;else if(i==="{"){this.rule(l);return}else if(i==="}"){this.tokenizer.back(l.pop()),t=!0;break}else i===":"&&(r=!0);else i===o[o.length-1]&&(o.pop(),o.length===0&&(n=null));u=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(n),t&&r){if(!a)for(;l.length&&(u=l[l.length-1][0],!(u!=="space"&&u!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,a)}else this.unknownWord(l)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e);break}this.endFile()}precheckMissedSemicolon(){}raw(e,t,i,r){let n,o,a=i.length,l="",u=!0,c,h;for(let f=0;f<a;f+=1)n=i[f],o=n[0],o==="space"&&f===a-1&&!r?u=!1:o==="comment"?(h=i[f-1]?i[f-1][0]:"empty",c=i[f+1]?i[f+1][0]:"empty",!rn[h]&&!rn[c]?l.slice(-1)===","?u=!1:l+=n[1]:u=!1):l+=n[1];if(!u){let f=i.reduce((d,g)=>d+g[1],"");e.raws[t]={raw:f,value:l}}e[t]=l}rule(e){e.pop();let t=new sn;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}spacesAndCommentsFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],!(t!=="space"&&t!=="comment"));)i=e.pop()[1]+i;return i}spacesAndCommentsFromStart(e){let t,i="";for(;e.length&&(t=e[0][0],!(t!=="space"&&t!=="comment"));)i+=e.shift()[1];return i}spacesFromEnd(e){let t,i="";for(;e.length&&(t=e[e.length-1][0],t==="space");)i=e.pop()[1]+i;return i}stringFrom(e,t){let i="";for(let r=t;r<e.length;r++)i+=e[r][1];return e.splice(t,e.length-t),i}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}};var Nh=Rh;let Mh=Be,Ih=Ti,Dh=Nh;function yi(s,e){let t=new Ih(s,e),i=new Dh(t);try{i.parse()}catch(r){throw r}return i.root}var lr=yi;yi.default=yi;Mh.registerParse(yi);let Ns=class{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let i=t.node.rangeBy(t);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in t)this[i]=t[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}};var sl=Ns;Ns.default=Ns;let Oh=sl,Ms=class{constructor(e,t,i){this.processor=e,this.messages=[],this.root=t,this.opts=i,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let i=new Oh(e,t);return this.messages.push(i),i}warnings(){return this.messages.filter(e=>e.type==="warning")}get content(){return this.css}};var ar=Ms;Ms.default=Ms;let _h=Be,Th=nr,kh=il,Ph=lr,nn=ar,$h=Tt,Lh=Ii,{isClean:Ce,my:Fh}=_t;const Bh={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Uh={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},zh={Once:!0,postcssPlugin:!0,prepare:!0},tt=0;function pt(s){return typeof s=="object"&&typeof s.then=="function"}function rl(s){let e=!1,t=Bh[s.type];return s.type==="decl"?e=s.prop.toLowerCase():s.type==="atrule"&&(e=s.name.toLowerCase()),e&&s.append?[t,t+"-"+e,tt,t+"Exit",t+"Exit-"+e]:e?[t,t+"-"+e,t+"Exit",t+"Exit-"+e]:s.append?[t,tt,t+"Exit"]:[t,t+"Exit"]}function on(s){let e;return s.type==="document"?e=["Document",tt,"DocumentExit"]:s.type==="root"?e=["Root",tt,"RootExit"]:e=rl(s),{eventIndex:0,events:e,iterator:0,node:s,visitorIndex:0,visitors:[]}}function Is(s){return s[Ce]=!1,s.nodes&&s.nodes.forEach(e=>Is(e)),s}let Ds={},it=class nl{constructor(e,t,i){this.stringified=!1,this.processed=!1;let r;if(typeof t=="object"&&t!==null&&(t.type==="root"||t.type==="document"))r=Is(t);else if(t instanceof nl||t instanceof nn)r=Is(t.root),t.map&&(typeof i.map=="undefined"&&(i.map={}),i.map.inline||(i.map.inline=!1),i.map.prev=t.map);else{let n=Ph;i.syntax&&(n=i.syntax.parse),i.parser&&(n=i.parser),n.parse&&(n=n.parse);try{r=n(t,i)}catch(o){this.processed=!0,this.error=o}r&&!r[Fh]&&_h.rebuild(r)}this.result=new nn(e,r,i),this.helpers=le(V({},Ds),{postcss:Ds,result:this.result}),this.plugins=this.processor.plugins.map(n=>typeof n=="object"&&n.prepare?V(V({},n),n.prepare(this.result)):n)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let i=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,e.name==="CssSyntaxError"&&!e.plugin?(e.plugin=i.postcssPlugin,e.setMessage()):i.postcssVersion}catch(r){console&&console.error&&console.error(r)}return e}prepareVisitors(){this.listeners={};let e=(t,i,r)=>{this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push([t,r])};for(let t of this.plugins)if(typeof t=="object")for(let i in t){if(!Uh[i]&&/^[A-Z]/.test(i))throw new Error(`Unknown event ${i} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!zh[i])if(typeof t[i]=="object")for(let r in t[i])r==="*"?e(t,i,t[i][r]):e(t,i+"-"+r.toLowerCase(),t[i][r]);else typeof t[i]=="function"&&e(t,i,t[i])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let e=0;e<this.plugins.length;e++){let t=this.plugins[e],i=this.runOnRoot(t);if(pt(i))try{await i}catch(r){throw this.handleError(r)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Ce];){e[Ce]=!0;let t=[on(e)];for(;t.length>0;){let i=this.visitTick(t);if(pt(i))try{await i}catch(r){let n=t[t.length-1].node;throw this.handleError(r,n)}}}if(this.listeners.OnceExit)for(let[t,i]of this.listeners.OnceExit){this.result.lastPlugin=t;try{if(e.type==="document"){let r=e.nodes.map(n=>i(n,this.helpers));await Promise.all(r)}else await i(e,this.helpers)}catch(r){throw this.handleError(r)}}}return this.processed=!0,this.stringify()}runOnRoot(e){this.result.lastPlugin=e;try{if(typeof e=="object"&&e.Once){if(this.result.root.type==="document"){let t=this.result.root.nodes.map(i=>e.Once(i,this.helpers));return pt(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}else if(typeof e=="function")return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=Lh;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let r=new kh(t,this.result.root,this.result.opts).generate();return this.result.css=r[0],this.result.map=r[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){let t=this.runOnRoot(e);if(pt(t))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[Ce];)e[Ce]=!0,this.walkSync(e);if(this.listeners.OnceExit)if(e.type==="document")for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}then(e,t){return this.async().then(e,t)}toString(){return this.css}visitSync(e,t){for(let[i,r]of e){this.result.lastPlugin=i;let n;try{n=r(t,this.helpers)}catch(o){throw this.handleError(o,t.proxyOf)}if(t.type!=="root"&&t.type!=="document"&&!t.parent)return!0;if(pt(n))throw this.getAsyncError()}}visitTick(e){let t=e[e.length-1],{node:i,visitors:r}=t;if(i.type!=="root"&&i.type!=="document"&&!i.parent){e.pop();return}if(r.length>0&&t.visitorIndex<r.length){let[o,a]=r[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===r.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=o;try{return a(i.toProxy(),this.helpers)}catch(l){throw this.handleError(l,i)}}if(t.iterator!==0){let o=t.iterator,a;for(;a=i.nodes[i.indexes[o]];)if(i.indexes[o]+=1,!a[Ce]){a[Ce]=!0,e.push(on(a));return}t.iterator=0,delete i.indexes[o]}let n=t.events;for(;t.eventIndex<n.length;){let o=n[t.eventIndex];if(t.eventIndex+=1,o===tt){i.nodes&&i.nodes.length&&(i[Ce]=!0,t.iterator=i.getIterator());return}else if(this.listeners[o]){t.visitors=this.listeners[o];return}}e.pop()}walkSync(e){e[Ce]=!0;let t=rl(e);for(let i of t)if(i===tt)e.nodes&&e.each(r=>{r[Ce]||this.walkSync(r)});else{let r=this.listeners[i];if(r&&this.visitSync(r,e.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}};it.registerPostcss=s=>{Ds=s};var ol=it;it.default=it;$h.registerLazyResult(it);Th.registerLazyResult(it);let Vh=il,Wh=lr;const Gh=ar;let Yh=Ii;let Os=class{constructor(e,t,i){t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=i,this._map=void 0;let r,n=Yh;this.result=new Gh(this._processor,r,this._opts),this.result.css=t;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let a=new Vh(n,r,this._opts,t);if(a.isMap()){let[l,u]=a.generate();l&&(this.result.css=l),u&&(this.result.map=u)}else a.clearAnnotation(),this.result.css=a.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}sync(){if(this.error)throw this.error;return this.result}then(e,t){return this.async().then(e,t)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let e,t=Wh;try{e=t(this._css,this._opts)}catch(i){this.error=i}if(this.error)throw this.error;return this._root=e,e}get[Symbol.toStringTag](){return"NoWorkResult"}};var jh=Os;Os.default=Os;let Zh=nr,Hh=ol,Xh=jh,Jh=Tt,It=class{constructor(e=[]){this.version="8.4.49",this.plugins=this.normalize(e)}normalize(e){let t=[];for(let i of e)if(i.postcss===!0?i=i():i.postcss&&(i=i.postcss),typeof i=="object"&&Array.isArray(i.plugins))t=t.concat(i.plugins);else if(typeof i=="object"&&i.postcssPlugin)t.push(i);else if(typeof i=="function")t.push(i);else if(!(typeof i=="object"&&(i.parse||i.stringify)))throw new Error(i+" is not a PostCSS plugin");return t}process(e,t={}){return!this.plugins.length&&!t.parser&&!t.stringifier&&!t.syntax?new Xh(this,e,t):new Hh(this,e,t)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}};var Kh=It;It.default=It;Jh.registerProcessor(It);Zh.registerProcessor(It);let ll=rr,al=Oi,Qh=Be,qh=tr,ul=_i,cl=nr,ef=sh,tf=Ti,sf=ol,rf=Jo,nf=Di,of=lr,ur=Kh,lf=ar,hl=Tt,fl=or,af=Ii,uf=sl;function z(...s){return s.length===1&&Array.isArray(s[0])&&(s=s[0]),new ur(s)}z.plugin=function(e,t){let i=!1;function r(...o){console&&console.warn&&!i&&(i=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let a=t(...o);return a.postcssPlugin=e,a.postcssVersion=new ur().version,a}let n;return Object.defineProperty(r,"postcss",{get(){return n||(n=r()),n}}),r.process=function(o,a,l){return z([r(l)]).process(o,a)},r};z.stringify=af;z.parse=of;z.fromJSON=ef;z.list=rf;z.comment=s=>new al(s);z.atRule=s=>new ll(s);z.decl=s=>new ul(s);z.rule=s=>new fl(s);z.root=s=>new hl(s);z.document=s=>new cl(s);z.CssSyntaxError=qh;z.Declaration=ul;z.Container=Qh;z.Processor=ur;z.Document=cl;z.Comment=al;z.Warning=uf;z.AtRule=ll;z.Result=lf;z.Input=tf;z.Rule=fl;z.Root=hl;z.Node=nf;sf.registerPostcss(z);var cf=z;z.default=z;const H=Cc(cf);H.stringify;H.fromJSON;H.plugin;H.parse;H.list;H.document;H.comment;H.atRule;H.rule;H.decl;H.root;H.CssSyntaxError;H.Declaration;H.Container;H.Processor;H.Document;H.Comment;H.Warning;H.AtRule;H.Result;H.Input;H.Rule;H.Root;H.Node;var T=(s=>(s[s.Document=0]="Document",s[s.DocumentType=1]="DocumentType",s[s.Element=2]="Element",s[s.Text=3]="Text",s[s.CDATA=4]="CDATA",s[s.Comment=5]="Comment",s))(T||{});function hf(s){const e={},t=/;(?![^(]*\))/g,i=/:(.+)/,r=/\/\*.*?\*\//g;return s.replace(r,"").split(t).forEach(function(n){if(n){const o=n.split(i);o.length>1&&(e[_s(o[0].trim())]=o[1].trim())}}),e}function ln(s){const e=[];for(const t in s){const i=s[t];if(typeof i!="string")continue;const r=mf(t);e.push(`${r}: ${i};`)}return e.join(" ")}const ff=/-([a-z])/g,pf=/^--[a-zA-Z0-9-]+$/,_s=s=>pf.test(s)?s:s.replace(ff,(e,t)=>t?t.toUpperCase():""),df=/\B([A-Z])/g,mf=s=>s.replace(df,"-$1").toLowerCase();class ye{constructor(...e){S(this,"parentElement",null),S(this,"parentNode",null),S(this,"ownerDocument"),S(this,"firstChild",null),S(this,"lastChild",null),S(this,"previousSibling",null),S(this,"nextSibling",null),S(this,"ELEMENT_NODE",1),S(this,"TEXT_NODE",3),S(this,"nodeType"),S(this,"nodeName"),S(this,"RRNodeType")}get childNodes(){const e=[];let t=this.firstChild;for(;t;)e.push(t),t=t.nextSibling;return e}contains(e){if(e instanceof ye){if(e.ownerDocument!==this.ownerDocument)return!1;if(e===this)return!0}else return!1;for(;e.parentNode;){if(e.parentNode===this)return!0;e=e.parentNode}return!1}appendChild(e){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(e,t){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(e){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}class cr extends ye{constructor(...e){super(e),S(this,"nodeType",9),S(this,"nodeName","#document"),S(this,"compatMode","CSS1Compat"),S(this,"RRNodeType",T.Document),S(this,"textContent",null),this.ownerDocument=this}get documentElement(){return this.childNodes.find(e=>e.RRNodeType===T.Element&&e.tagName==="HTML")||null}get body(){var e;return((e=this.documentElement)==null?void 0:e.childNodes.find(t=>t.RRNodeType===T.Element&&t.tagName==="BODY"))||null}get head(){var e;return((e=this.documentElement)==null?void 0:e.childNodes.find(t=>t.RRNodeType===T.Element&&t.tagName==="HEAD"))||null}get implementation(){return this}get firstElementChild(){return this.documentElement}appendChild(e){const t=e.RRNodeType;if((t===T.Element||t===T.DocumentType)&&this.childNodes.some(r=>r.RRNodeType===t))throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${t===T.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const i=hr(this,e);return i.parentElement=null,i}insertBefore(e,t){const i=e.RRNodeType;if((i===T.Element||i===T.DocumentType)&&this.childNodes.some(n=>n.RRNodeType===i))throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${i===T.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const r=yl(this,e,t);return r.parentElement=null,r}removeChild(e){return wl(this,e)}open(){this.firstChild=null,this.lastChild=null}close(){}write(e){let t;if(e==='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'?t="-//W3C//DTD XHTML 1.0 Transitional//EN":e==='<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">'&&(t="-//W3C//DTD HTML 4.0 Transitional//EN"),t){const i=this.createDocumentType("html",t,"");this.open(),this.appendChild(i)}}createDocument(e,t,i){return new cr}createDocumentType(e,t,i){const r=new pl(e,t,i);return r.ownerDocument=this,r}createElement(e){const t=new ki(e);return t.ownerDocument=this,t}createElementNS(e,t){return this.createElement(t)}createTextNode(e){const t=new dl(e);return t.ownerDocument=this,t}createComment(e){const t=new ml(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new gl(e);return t.ownerDocument=this,t}toString(){return"RRDocument"}}class pl extends ye{constructor(e,t,i){super(),S(this,"nodeType",10),S(this,"RRNodeType",T.DocumentType),S(this,"name"),S(this,"publicId"),S(this,"systemId"),S(this,"textContent",null),this.name=e,this.publicId=t,this.systemId=i,this.nodeName=e}toString(){return"RRDocumentType"}}class ki extends ye{constructor(e){super(),S(this,"nodeType",1),S(this,"RRNodeType",T.Element),S(this,"tagName"),S(this,"attributes",{}),S(this,"shadowRoot",null),S(this,"scrollLeft"),S(this,"scrollTop"),this.tagName=e.toUpperCase(),this.nodeName=e.toUpperCase()}get textContent(){let e="";return this.childNodes.forEach(t=>e+=t.textContent),e}set textContent(e){this.firstChild=null,this.lastChild=null,this.appendChild(this.ownerDocument.createTextNode(e))}get classList(){return new wf(this.attributes.class,e=>{this.attributes.class=e})}get id(){return this.attributes.id||""}get className(){return this.attributes.class||""}get style(){const e=this.attributes.style?hf(this.attributes.style):{},t=/\B([A-Z])/g;return e.setProperty=(i,r,n)=>{if(t.test(i))return;const o=_s(i);r?e[o]=r:delete e[o],n==="important"&&(e[o]+=" !important"),this.attributes.style=ln(e)},e.removeProperty=i=>{if(t.test(i))return"";const r=_s(i),n=e[r]||"";return delete e[r],this.attributes.style=ln(e),n},e}getAttribute(e){return this.attributes[e]===void 0?null:this.attributes[e]}setAttribute(e,t){this.attributes[e]=t}setAttributeNS(e,t,i){this.setAttribute(t,i)}removeAttribute(e){delete this.attributes[e]}appendChild(e){return hr(this,e)}insertBefore(e,t){return yl(this,e,t)}removeChild(e){return wl(this,e)}attachShadow(e){const t=this.ownerDocument.createElement("SHADOWROOT");return this.shadowRoot=t,t}dispatchEvent(e){return!0}toString(){let e="";for(const t in this.attributes)e+=`${t}="${this.attributes[t]}" `;return`${this.tagName} ${e}`}}class gf extends ki{constructor(){super(...arguments),S(this,"currentTime"),S(this,"volume"),S(this,"paused"),S(this,"muted"),S(this,"playbackRate"),S(this,"loop")}attachShadow(e){throw new Error("RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow")}play(){this.paused=!1}pause(){this.paused=!0}}class yf extends ki{constructor(){super(...arguments),S(this,"tagName","DIALOG"),S(this,"nodeName","DIALOG")}get isModal(){return this.getAttribute("rr_open_mode")==="modal"}get open(){return this.getAttribute("open")!==null}close(){this.removeAttribute("open"),this.removeAttribute("rr_open_mode")}show(){this.setAttribute("open",""),this.setAttribute("rr_open_mode","non-modal")}showModal(){this.setAttribute("open",""),this.setAttribute("rr_open_mode","modal")}}class dl extends ye{constructor(e){super(),S(this,"nodeType",3),S(this,"nodeName","#text"),S(this,"RRNodeType",T.Text),S(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRText text=${JSON.stringify(this.data)}`}}class ml extends ye{constructor(e){super(),S(this,"nodeType",8),S(this,"nodeName","#comment"),S(this,"RRNodeType",T.Comment),S(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRComment text=${JSON.stringify(this.data)}`}}class gl extends ye{constructor(e){super(),S(this,"nodeName","#cdata-section"),S(this,"nodeType",4),S(this,"RRNodeType",T.CDATA),S(this,"data"),this.data=e}get textContent(){return this.data}set textContent(e){this.data=e}toString(){return`RRCDATASection data=${JSON.stringify(this.data)}`}}class wf{constructor(e,t){if(S(this,"onChange"),S(this,"classes",[]),S(this,"add",(...i)=>{for(const r of i){const n=String(r);this.classes.indexOf(n)>=0||this.classes.push(n)}this.onChange&&this.onChange(this.classes.join(" "))}),S(this,"remove",(...i)=>{this.classes=this.classes.filter(r=>i.indexOf(r)===-1),this.onChange&&this.onChange(this.classes.join(" "))}),e){const i=e.trim().split(/\s+/);this.classes.push(...i)}this.onChange=t}}function hr(s,e){return e.parentNode&&e.parentNode.removeChild(e),s.lastChild?(s.lastChild.nextSibling=e,e.previousSibling=s.lastChild):(s.firstChild=e,e.previousSibling=null),s.lastChild=e,e.nextSibling=null,e.parentNode=s,e.parentElement=s,e.ownerDocument=s.ownerDocument,e}function yl(s,e,t){if(!t)return hr(s,e);if(t.parentNode!==s)throw new Error("Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.");return e===t||(e.parentNode&&e.parentNode.removeChild(e),e.previousSibling=t.previousSibling,t.previousSibling=e,e.nextSibling=t,e.previousSibling?e.previousSibling.nextSibling=e:s.firstChild=e,e.parentElement=s,e.parentNode=s,e.ownerDocument=s.ownerDocument),e}function wl(s,e){if(e.parentNode!==s)throw new Error("Failed to execute 'removeChild' on 'RRNode': The RRNode to be removed is not a child of this RRNode.");return e.previousSibling?e.previousSibling.nextSibling=e.nextSibling:s.firstChild=e.nextSibling,e.nextSibling?e.nextSibling.previousSibling=e.previousSibling:s.lastChild=e.previousSibling,e.previousSibling=null,e.nextSibling=null,e.parentElement=null,e.parentNode=null,e}var ue=(s=>(s[s.PLACEHOLDER=0]="PLACEHOLDER",s[s.ELEMENT_NODE=1]="ELEMENT_NODE",s[s.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",s[s.TEXT_NODE=3]="TEXT_NODE",s[s.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",s[s.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",s[s.ENTITY_NODE=6]="ENTITY_NODE",s[s.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",s[s.COMMENT_NODE=8]="COMMENT_NODE",s[s.DOCUMENT_NODE=9]="DOCUMENT_NODE",s[s.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",s[s.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",s))(ue||{});const Ts={svg:"http://www.w3.org/2000/svg","xlink:href":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},vf={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};let Se=null;function wi(s,e,t,i=e.mirror||e.ownerDocument.mirror){s=bf(s,e,t,i),vl(s,e,t,i),Cf(s,e,t)}function bf(s,e,t,i){var r;if(t.afterAppend&&!Se&&(Se=new WeakSet,setTimeout(()=>{Se=null},0)),!fr(s,e)){const n=vi(e,t.mirror,i);(r=s.parentNode)==null||r.replaceChild(n,s),s=n}switch(e.RRNodeType){case T.Document:{if(!We(s,e,t.mirror,i)){const n=i.getMeta(e);n&&(t.mirror.removeNodeFromMap(s),s.close(),s.open(),t.mirror.add(s,n),Se==null||Se.add(s))}break}case T.Element:{const n=s,o=e;switch(o.tagName){case"IFRAME":{const a=s.contentDocument;if(!a)break;wi(a,e.contentDocument,t,i);break}}o.shadowRoot&&(n.shadowRoot||n.attachShadow({mode:"open"}),vl(n.shadowRoot,o.shadowRoot,t,i)),Sf(n,o,i);break}}return s}function Cf(s,e,t){var i;switch(e.RRNodeType){case T.Document:{const r=e.scrollData;r&&t.applyScroll(r,!0);break}case T.Element:{const r=s,n=e;switch(n.scrollData&&t.applyScroll(n.scrollData,!0),n.inputData&&t.applyInput(n.inputData),n.tagName){case"AUDIO":case"VIDEO":{const o=s,a=n;a.paused!==void 0&&(a.paused?o.pause():o.play()),a.muted!==void 0&&(o.muted=a.muted),a.volume!==void 0&&(o.volume=a.volume),a.currentTime!==void 0&&(o.currentTime=a.currentTime),a.playbackRate!==void 0&&(o.playbackRate=a.playbackRate),a.loop!==void 0&&(o.loop=a.loop);break}case"CANVAS":{const o=e;if(o.rr_dataURL!==null){const a=document.createElement("img");a.onload=()=>{const l=r.getContext("2d");l&&l.drawImage(a,0,0,a.width,a.height)},a.src=o.rr_dataURL}o.canvasMutations.forEach(a=>t.applyCanvas(a.event,a.mutation,s));break}case"STYLE":{const o=r.sheet;o&&e.rules.forEach(a=>t.applyStyleSheetMutation(a,o));break}case"DIALOG":{const o=r,a=n,l=o.open,u=o.matches("dialog:modal"),c=a.open,h=a.isModal,f=u!==h,d=l!==c;if((f||l&&d)&&o.close(),c&&(d||f))try{h?o.showModal():o.show()}catch(g){console.warn(g)}break}}break}case T.Text:case T.Comment:case T.CDATA:{s.textContent!==e.data&&(s.textContent=e.data);break}}Se!=null&&Se.has(s)&&(Se.delete(s),(i=t.afterAppend)==null||i.call(t,s,t.mirror.getId(s)))}function Sf(s,e,t){const i=s.attributes,r=e.attributes;for(const n in r){const o=r[n],a=t.getMeta(e);if(a!=null&&a.isSVG&&Ts[n])s.setAttributeNS(Ts[n],n,o);else if(e.tagName==="CANVAS"&&n==="rr_dataURL"){const l=document.createElement("img");l.src=o,l.onload=()=>{const u=s.getContext("2d");u&&u.drawImage(l,0,0,l.width,l.height)}}else{if(e.tagName==="IFRAME"&&n==="srcdoc")continue;try{s.setAttribute(n,o)}catch(l){console.warn(l)}}}for(const{name:n}of Array.from(i))n in r||s.removeAttribute(n);e.scrollLeft&&(s.scrollLeft=e.scrollLeft),e.scrollTop&&(s.scrollTop=e.scrollTop)}function vl(s,e,t,i){const r=Array.from(s.childNodes),n=e.childNodes;if(r.length===0&&n.length===0)return;let o=0,a=r.length-1,l=0,u=n.length-1,c=r[o],h=r[a],f=n[l],d=n[u],g,C;for(;o<=a&&l<=u;)if(c===void 0)c=r[++o];else if(h===void 0)h=r[--a];else if(We(c,f,t.mirror,i))c=r[++o],f=n[++l];else if(We(h,d,t.mirror,i))h=r[--a],d=n[--u];else if(We(c,d,t.mirror,i)){try{s.insertBefore(c,h.nextSibling)}catch(w){console.warn(w)}c=r[++o],d=n[--u]}else if(We(h,f,t.mirror,i)){try{s.insertBefore(h,c)}catch(w){console.warn(w)}h=r[--a],f=n[++l]}else{if(!g){g={};for(let v=o;v<=a;v++){const A=r[v];A&&t.mirror.hasNode(A)&&(g[t.mirror.getId(A)]=v)}}C=g[i.getId(f)];const w=r[C];if(C!==void 0&&w&&We(w,f,t.mirror,i)){try{s.insertBefore(w,c)}catch(v){console.warn(v)}r[C]=void 0}else{const v=vi(f,t.mirror,i);s.nodeName==="#document"&&c&&(v.nodeType===v.DOCUMENT_TYPE_NODE&&c.nodeType===c.DOCUMENT_TYPE_NODE||v.nodeType===v.ELEMENT_NODE&&c.nodeType===c.ELEMENT_NODE)&&(s.removeChild(c),t.mirror.removeNodeFromMap(c),c=r[++o]);try{s.insertBefore(v,c||null)}catch(A){console.warn(A)}}f=n[++l]}if(o>a){const w=n[u+1];let v=null;for(w&&(v=t.mirror.getNode(i.getId(w)));l<=u;++l){const A=vi(n[l],t.mirror,i);try{s.insertBefore(A,v)}catch(R){console.warn(R)}}}else if(l>u)for(;o<=a;o++){const w=r[o];if(!(!w||w.parentNode!==s))try{s.removeChild(w),t.mirror.removeNodeFromMap(w)}catch(v){console.warn(v)}}let p=s.firstChild,m=e.firstChild;for(;p!==null&&m!==null;)wi(p,m,t,i),p=p.nextSibling,m=m.nextSibling}function vi(s,e,t){const i=t.getId(s),r=t.getMeta(s);let n=null;if(i>-1&&(n=e.getNode(i)),n!==null&&fr(n,s))return n;switch(s.RRNodeType){case T.Document:n=new Document;break;case T.DocumentType:n=document.implementation.createDocumentType(s.name,s.publicId,s.systemId);break;case T.Element:{let o=s.tagName.toLowerCase();o=vf[o]||o,r&&"isSVG"in r&&(r!=null&&r.isSVG)?n=document.createElementNS(Ts.svg,o):n=document.createElement(s.tagName);break}case T.Text:n=document.createTextNode(s.data);break;case T.Comment:n=document.createComment(s.data);break;case T.CDATA:n=document.createCDATASection(s.data);break}r&&e.add(n,V({},r));try{Se==null||Se.add(n)}catch(o){}return n}function fr(s,e){return s.nodeType!==e.nodeType?!1:s.nodeType!==s.ELEMENT_NODE||s.tagName.toUpperCase()===e.tagName}function We(s,e,t,i){const r=t.getId(s),n=i.getId(e);return r===-1||r!==n?!1:fr(s,e)}class rt extends cr{constructor(e){super(),S(this,"UNSERIALIZED_STARTING_ID",-2),S(this,"_unserializedId",this.UNSERIALIZED_STARTING_ID),S(this,"mirror",kf()),S(this,"scrollData",null),e&&(this.mirror=e)}get unserializedId(){return this._unserializedId--}createDocument(e,t,i){return new rt}createDocumentType(e,t,i){const r=new Ef(e,t,i);return r.ownerDocument=this,r}createElement(e){const t=e.toUpperCase();let i;switch(t){case"AUDIO":case"VIDEO":i=new xf(t);break;case"IFRAME":i=new Mf(t,this.mirror);break;case"CANVAS":i=new Rf(t);break;case"STYLE":i=new Nf(t);break;case"DIALOG":i=new Af(t);break;default:i=new Pi(t);break}return i.ownerDocument=this,i}createComment(e){const t=new Df(e);return t.ownerDocument=this,t}createCDATASection(e){const t=new Of(e);return t.ownerDocument=this,t}createTextNode(e){const t=new If(e);return t.ownerDocument=this,t}destroyTree(){this.firstChild=null,this.lastChild=null,this.mirror.reset()}open(){super.open(),this._unserializedId=this.UNSERIALIZED_STARTING_ID}}const Ef=pl;class Pi extends ki{constructor(){super(...arguments),S(this,"inputData",null),S(this,"scrollData",null)}}class xf extends gf{}class Af extends yf{}class Rf extends Pi{constructor(){super(...arguments),S(this,"rr_dataURL",null),S(this,"canvasMutations",[])}getContext(){return null}}class Nf extends Pi{constructor(){super(...arguments),S(this,"rules",[])}}class Mf extends Pi{constructor(e,t){super(e),S(this,"contentDocument",new rt),this.contentDocument.mirror=t}}const If=dl,Df=ml,Of=gl;function _f(s){return s instanceof HTMLFormElement?"FORM":s.tagName.toUpperCase()}function bl(s,e,t,i){let r;switch(s.nodeType){case ue.DOCUMENT_NODE:i&&i.nodeName==="IFRAME"?r=i.contentDocument:(r=e,r.compatMode=s.compatMode);break;case ue.DOCUMENT_TYPE_NODE:{const o=s;r=e.createDocumentType(o.name,o.publicId,o.systemId);break}case ue.ELEMENT_NODE:{const o=s,a=_f(o);r=e.createElement(a);const l=r;for(const{name:u,value:c}of Array.from(o.attributes))l.attributes[u]=c;o.scrollLeft&&(l.scrollLeft=o.scrollLeft),o.scrollTop&&(l.scrollTop=o.scrollTop);break}case ue.TEXT_NODE:r=e.createTextNode(s.textContent||"");break;case ue.CDATA_SECTION_NODE:r=e.createCDATASection(s.data);break;case ue.COMMENT_NODE:r=e.createComment(s.textContent||"");break;case ue.DOCUMENT_FRAGMENT_NODE:r=i.attachShadow({mode:"open"});break;default:return null}let n=t.getMeta(s);return e instanceof rt&&(n||(n=Cl(r,e.unserializedId),t.add(s,n)),e.mirror.add(r,V({},n))),r}function Tf(s,e=bc(),t=new rt){function i(r,n){const o=bl(r,t,e,n);if(o!==null)if((n==null?void 0:n.nodeName)!=="IFRAME"&&r.nodeType!==ue.DOCUMENT_FRAGMENT_NODE&&(n==null||n.appendChild(o),o.parentNode=n,o.parentElement=n),r.nodeName==="IFRAME"){const a=r.contentDocument;a&&i(a,o)}else(r.nodeType===ue.DOCUMENT_NODE||r.nodeType===ue.ELEMENT_NODE||r.nodeType===ue.DOCUMENT_FRAGMENT_NODE)&&(r.nodeType===ue.ELEMENT_NODE&&r.shadowRoot&&i(r.shadowRoot,o),r.childNodes.forEach(a=>i(a,o)))}return i(s,null),t}function kf(){return new Pf}class Pf{constructor(){S(this,"idNodeMap",new Map),S(this,"nodeMetaMap",new WeakMap)}getId(e){var t;if(!e)return-1;const i=(t=this.getMeta(e))==null?void 0:t.id;return i!=null?i:-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(i=>this.removeNodeFromMap(i))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const i=t.id;this.idNodeMap.set(i,e),this.nodeMetaMap.set(e,t)}replace(e,t){const i=this.getNode(e);if(i){const r=this.nodeMetaMap.get(i);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Cl(s,e){switch(s.RRNodeType){case T.Document:return{id:e,type:s.RRNodeType,childNodes:[]};case T.DocumentType:{const t=s;return{id:e,type:s.RRNodeType,name:t.name,publicId:t.publicId,systemId:t.systemId}}case T.Element:return{id:e,type:s.RRNodeType,tagName:s.tagName.toLowerCase(),attributes:{},childNodes:[]};case T.Text:return{id:e,type:s.RRNodeType,textContent:s.textContent||""};case T.Comment:return{id:e,type:s.RRNodeType,textContent:s.textContent||""};case T.CDATA:return{id:e,type:s.RRNodeType,textContent:""}}}const an={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},un={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},Qt={},$f=()=>!!globalThis.Zone;function pr(s){if(Qt[s])return Qt[s];const e=globalThis[s],t=e.prototype,i=s in an?an[s]:void 0,r=!!(i&&i.every(a=>{var l,u;return!!((u=(l=Object.getOwnPropertyDescriptor(t,a))==null?void 0:l.get)!=null&&u.toString().includes("[native code]"))})),n=s in un?un[s]:void 0,o=!!(n&&n.every(a=>{var l;return typeof t[a]=="function"&&((l=t[a])==null?void 0:l.toString().includes("[native code]"))}));if(r&&o&&!$f())return Qt[s]=e.prototype,e.prototype;try{const a=document.createElement("iframe");document.body.appendChild(a);const l=a.contentWindow;if(!l)return e.prototype;const u=l[s].prototype;return document.body.removeChild(a),u?Qt[s]=u:t}catch(a){return t}}const ji={};function Te(s,e,t){var i;const r=`${s}.${String(t)}`;if(ji[r])return ji[r].call(e);const n=pr(s),o=(i=Object.getOwnPropertyDescriptor(n,t))==null?void 0:i.get;return o?(ji[r]=o,o.call(e)):e[t]}const Zi={};function Sl(s,e,t){const i=`${s}.${String(t)}`;if(Zi[i])return Zi[i].bind(e);const n=pr(s)[t];return typeof n!="function"?e[t]:(Zi[i]=n,n.bind(e))}function Lf(s){return Te("Node",s,"childNodes")}function Ff(s){return Te("Node",s,"parentNode")}function Bf(s){return Te("Node",s,"parentElement")}function Uf(s){return Te("Node",s,"textContent")}function zf(s,e){return Sl("Node",s,"contains")(e)}function Vf(s){return Sl("Node",s,"getRootNode")()}function Wf(s){return!s||!("host"in s)?null:Te("ShadowRoot",s,"host")}function Gf(s){return s.styleSheets}function Yf(s){return!s||!("shadowRoot"in s)?null:Te("Element",s,"shadowRoot")}function jf(s,e){return Te("Element",s,"querySelector")(e)}function Zf(s,e){return Te("Element",s,"querySelectorAll")(e)}function Hf(){return pr("MutationObserver").constructor}const Xf={childNodes:Lf,parentNode:Ff,parentElement:Bf,textContent:Uf,contains:zf,getRootNode:Vf,host:Wf,styleSheets:Gf,shadowRoot:Yf,querySelector:jf,querySelectorAll:Zf,mutationObserver:Hf},Ge=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let cn={map:{},getId(){return console.error(Ge),-1},getNode(){return console.error(Ge),null},removeNodeFromMap(){console.error(Ge)},has(){return console.error(Ge),!1},reset(){console.error(Ge)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(cn=new Proxy(cn,{get(s,e,t){return e==="map"&&console.error(Ge),Reflect.get(s,e,t)}}));Date.now().toString();function Jf(s=window){"NodeList"in s&&!s.NodeList.prototype.forEach&&(s.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in s&&!s.DOMTokenList.prototype.forEach&&(s.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function Kf(s){const e={},t=(r,n)=>{const o={value:r,parent:n,children:[]};return e[r.node.id]=o,o},i=[];for(const r of s){const{nextId:n,parentId:o}=r;if(n&&n in e){const a=e[n];if(a.parent){const l=a.parent.children.indexOf(a);a.parent.children.splice(l,0,t(r,a.parent))}else{const l=i.indexOf(a);i.splice(l,0,t(r,null))}continue}if(o in e){const a=e[o];a.children.push(t(r,a));continue}i.push(t(r,null))}return i}function El(s,e){e(s.value);for(let t=s.children.length-1;t>=0;t--)El(s.children[t],e)}function Hi(s,e){return!!(s.nodeName==="IFRAME"&&e.getMeta(s))}function xl(s,e){var t,i;const r=(i=(t=s.ownerDocument)==null?void 0:t.defaultView)==null?void 0:i.frameElement;if(!r||r===e)return{x:0,y:0,relativeScale:1,absoluteScale:1};const n=r.getBoundingClientRect(),o=xl(r,e),a=n.height/r.clientHeight;return{x:n.x*o.relativeScale+o.x,y:n.y*o.relativeScale+o.y,relativeScale:a,absoluteScale:o.absoluteScale*a}}function qt(s){return s?s instanceof ye&&"shadowRoot"in s?!!s.shadowRoot:!!Xf.shadowRoot(s):!1}function mt(s,e){const t=s[e[0]];return e.length===1?t:mt(t.cssRules[e[1]].cssRules,e.slice(2))}function hn(s){const e=[...s],t=e.pop();return{positions:e,index:t}}function Qf(s){const e=new Set,t=[];for(let i=s.length;i--;){const r=s[i];e.has(r.id)||(t.push(r),e.add(r.id))}return t}class qf{constructor(){N(this,"id",1),N(this,"styleIDMap",new WeakMap),N(this,"idStyleMap",new Map)}getId(e){var t;return(t=this.styleIDMap.get(e))!=null?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let i;return t===void 0?i=this.id++:i=t,this.styleIDMap.set(e,i),this.idStyleMap.set(i,e),i}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}var J=(s=>(s[s.DomContentLoaded=0]="DomContentLoaded",s[s.Load=1]="Load",s[s.FullSnapshot=2]="FullSnapshot",s[s.IncrementalSnapshot=3]="IncrementalSnapshot",s[s.Meta=4]="Meta",s[s.Custom=5]="Custom",s[s.Plugin=6]="Plugin",s))(J||{}),F=(s=>(s[s.Mutation=0]="Mutation",s[s.MouseMove=1]="MouseMove",s[s.MouseInteraction=2]="MouseInteraction",s[s.Scroll=3]="Scroll",s[s.ViewportResize=4]="ViewportResize",s[s.Input=5]="Input",s[s.TouchMove=6]="TouchMove",s[s.MediaInteraction=7]="MediaInteraction",s[s.StyleSheetRule=8]="StyleSheetRule",s[s.CanvasMutation=9]="CanvasMutation",s[s.Font=10]="Font",s[s.Log=11]="Log",s[s.Drag=12]="Drag",s[s.StyleDeclaration=13]="StyleDeclaration",s[s.Selection=14]="Selection",s[s.AdoptedStyleSheet=15]="AdoptedStyleSheet",s[s.CustomElement=16]="CustomElement",s))(F||{}),ie=(s=>(s[s.MouseUp=0]="MouseUp",s[s.MouseDown=1]="MouseDown",s[s.Click=2]="Click",s[s.ContextMenu=3]="ContextMenu",s[s.DblClick=4]="DblClick",s[s.Focus=5]="Focus",s[s.Blur=6]="Blur",s[s.TouchStart=7]="TouchStart",s[s.TouchMove_Departed=8]="TouchMove_Departed",s[s.TouchEnd=9]="TouchEnd",s[s.TouchCancel=10]="TouchCancel",s))(ie||{}),bi=(s=>(s[s["2D"]=0]="2D",s[s.WebGL=1]="WebGL",s[s.WebGL2=2]="WebGL2",s))(bi||{}),ks=(s=>(s[s.Play=0]="Play",s[s.Pause=1]="Pause",s[s.Seeked=2]="Seeked",s[s.VolumeChange=3]="VolumeChange",s[s.RateChange=4]="RateChange",s))(ks||{}),k=(s=>(s.Start="start",s.Pause="pause",s.Resume="resume",s.Resize="resize",s.Finish="finish",s.FullsnapshotRebuilded="fullsnapshot-rebuilded",s.LoadStylesheetStart="load-stylesheet-start",s.LoadStylesheetEnd="load-stylesheet-end",s.SkipStart="skip-start",s.SkipEnd="skip-end",s.MouseInteraction="mouse-interaction",s.EventCast="event-cast",s.CustomEvent="custom-event",s.Flush="flush",s.StateChange="state-change",s.PlayBack="play-back",s.Destroy="destroy",s))(k||{}),De=(s=>(s[s.Document=0]="Document",s[s.DocumentType=1]="DocumentType",s[s.Element=2]="Element",s[s.Text=3]="Text",s[s.CDATA=4]="CDATA",s[s.Comment=5]="Comment",s))(De||{}),fn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gt=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var ei=0;ei<fn.length;ei++)gt[fn.charCodeAt(ei)]=ei;var ep=function(s){var e=s.length*.75,t=s.length,i,r=0,n,o,a,l;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);var u=new ArrayBuffer(e),c=new Uint8Array(u);for(i=0;i<t;i+=4)n=gt[s.charCodeAt(i)],o=gt[s.charCodeAt(i+1)],a=gt[s.charCodeAt(i+2)],l=gt[s.charCodeAt(i+3)],c[r++]=n<<2|o>>4,c[r++]=(o&15)<<4|a>>2,c[r++]=(a&3)<<6|l&63;return u};const tp="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",ip=s=>Uint8Array.from(atob(s),e=>e.charCodeAt(0));typeof self!="undefined"&&self.Blob&&new Blob([ip(tp)],{type:"text/javascript;charset=utf-8"});try{if(Array.from([1],s=>s*2)[0]!==2){const s=document.createElement("iframe");document.body.appendChild(s),Array.from=((Sr=s.contentWindow)==null?void 0:Sr.Array.from)||Array.from,document.body.removeChild(s)}}catch(s){console.debug("Unable to override Array.from",s)}Zn();function Al(s){return{all:s=s||new Map,on:function(e,t){var i=s.get(e);i?i.push(t):s.set(e,[t])},off:function(e,t){var i=s.get(e);i&&(t?i.splice(i.indexOf(t)>>>0,1):s.set(e,[]))},emit:function(e,t){var i=s.get(e);i&&i.slice().map(function(r){r(t)}),(i=s.get("*"))&&i.slice().map(function(r){r(e,t)})}}}const sp=Object.freeze(Object.defineProperty({__proto__:null,default:Al},Symbol.toStringTag,{value:"Module"}));function rp(s=window,e=document){if("scrollBehavior"in e.documentElement.style&&s.__forceSmoothScrollPolyfill__!==!0)return;const t=s.HTMLElement||s.Element,i=468,r={scroll:s.scroll||s.scrollTo,scrollBy:s.scrollBy,elementScroll:t.prototype.scroll||l,scrollIntoView:t.prototype.scrollIntoView},n=s.performance&&s.performance.now?s.performance.now.bind(s.performance):Date.now;function o(m){const w=["MSIE ","Trident/","Edge/"];return new RegExp(w.join("|")).test(m)}const a=o(s.navigator.userAgent)?1:0;function l(m,w){this.scrollLeft=m,this.scrollTop=w}function u(m){return .5*(1-Math.cos(Math.PI*m))}function c(m){if(m===null||typeof m!="object"||m.behavior===void 0||m.behavior==="auto"||m.behavior==="instant")return!0;if(typeof m=="object"&&m.behavior==="smooth")return!1;throw new TypeError("behavior member of ScrollOptions "+m.behavior+" is not a valid value for enumeration ScrollBehavior.")}function h(m,w){if(w==="Y")return m.clientHeight+a<m.scrollHeight;if(w==="X")return m.clientWidth+a<m.scrollWidth}function f(m,w){const v=s.getComputedStyle(m,null)["overflow"+w];return v==="auto"||v==="scroll"}function d(m){const w=h(m,"Y")&&f(m,"Y"),v=h(m,"X")&&f(m,"X");return w||v}function g(m){for(;m!==e.body&&d(m)===!1;)m=m.parentNode||m.host;return m}function C(m){const w=n();let v,A,R,_=(w-m.startTime)/i;_=_>1?1:_,v=u(_),A=m.startX+(m.x-m.startX)*v,R=m.startY+(m.y-m.startY)*v,m.method.call(m.scrollable,A,R),(A!==m.x||R!==m.y)&&s.requestAnimationFrame(C.bind(s,m))}function p(m,w,v){let A,R,_,Z;const I=n();m===e.body?(A=s,R=s.scrollX||s.pageXOffset,_=s.scrollY||s.pageYOffset,Z=r.scroll):(A=m,R=m.scrollLeft,_=m.scrollTop,Z=l),C({scrollable:A,method:Z,startTime:I,startX:R,startY:_,x:w,y:v})}s.scroll=s.scrollTo=function(){if(arguments[0]!==void 0){if(c(arguments[0])===!0){r.scroll.call(s,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:s.scrollX||s.pageXOffset,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:s.scrollY||s.pageYOffset);return}p.call(s,e.body,arguments[0].left!==void 0?~~arguments[0].left:s.scrollX||s.pageXOffset,arguments[0].top!==void 0?~~arguments[0].top:s.scrollY||s.pageYOffset)}},s.scrollBy=function(){if(arguments[0]!==void 0){if(c(arguments[0])){r.scrollBy.call(s,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:0,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:0);return}p.call(s,e.body,~~arguments[0].left+(s.scrollX||s.pageXOffset),~~arguments[0].top+(s.scrollY||s.pageYOffset))}},t.prototype.scroll=t.prototype.scrollTo=function(){if(arguments[0]===void 0)return;if(c(arguments[0])===!0){if(typeof arguments[0]=="number"&&arguments[1]===void 0)throw new SyntaxError("Value could not be converted");r.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left:typeof arguments[0]!="object"?~~arguments[0]:this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top:arguments[1]!==void 0?~~arguments[1]:this.scrollTop);return}const m=arguments[0].left,w=arguments[0].top;p.call(this,this,typeof m=="undefined"?this.scrollLeft:~~m,typeof w=="undefined"?this.scrollTop:~~w)},t.prototype.scrollBy=function(){if(arguments[0]!==void 0){if(c(arguments[0])===!0){r.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})}},t.prototype.scrollIntoView=function(){if(c(arguments[0])===!0){r.scrollIntoView.call(this,arguments[0]===void 0?!0:arguments[0]);return}const m=g(this),w=m.getBoundingClientRect(),v=this.getBoundingClientRect();m!==e.body?(p.call(this,m,m.scrollLeft+v.left-w.left,m.scrollTop+v.top-w.top),s.getComputedStyle(m).position!=="fixed"&&s.scrollBy({left:w.left,top:w.top,behavior:"smooth"})):s.scrollBy({left:v.left,top:v.top,behavior:"smooth"})}}class np{constructor(e=[],t){N(this,"timeOffset",0),N(this,"speed"),N(this,"actions"),N(this,"raf",null),N(this,"lastTimestamp"),this.actions=e,this.speed=t.speed}addAction(e){const t=this.raf===!0;if(!this.actions.length||this.actions[this.actions.length-1].delay<=e.delay)this.actions.push(e);else{const i=this.findActionIndex(e);this.actions.splice(i,0,e)}t&&(this.raf=requestAnimationFrame(this.rafCheck.bind(this)))}start(){this.timeOffset=0,this.lastTimestamp=performance.now(),this.raf=requestAnimationFrame(this.rafCheck.bind(this))}rafCheck(){const e=performance.now();for(this.timeOffset+=(e-this.lastTimestamp)*this.speed,this.lastTimestamp=e;this.actions.length;){const t=this.actions[0];if(this.timeOffset>=t.delay)this.actions.shift(),t.doAction();else break}this.actions.length>0?this.raf=requestAnimationFrame(this.rafCheck.bind(this)):this.raf=!0}clear(){this.raf&&(this.raf!==!0&&cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0}setSpeed(e){this.speed=e}isActive(){return this.raf!==null}findActionIndex(e){let t=0,i=this.actions.length-1;for(;t<=i;){const r=Math.floor((t+i)/2);if(this.actions[r].delay<e.delay)t=r+1;else if(this.actions[r].delay>e.delay)i=r-1;else return r+1}return t}}function pn(s,e){if(s.type===J.IncrementalSnapshot&&s.data.source===F.MouseMove&&s.data.positions&&s.data.positions.length){const t=s.data.positions[0].timeOffset,i=s.timestamp+t;return s.delay=i-e,i-e}return s.delay=s.timestamp-e,s.delay}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function dn(s,e){var t=typeof Symbol=="function"&&s[Symbol.iterator];if(!t)return s;var i,r,n=t.call(s),o=[];try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(r)throw r.error}}return o}var Ze;(function(s){s[s.NotStarted=0]="NotStarted",s[s.Running=1]="Running",s[s.Stopped=2]="Stopped"})(Ze||(Ze={}));var Rl={type:"xstate.init"};function Xi(s){return s===void 0?[]:[].concat(s)}function Ye(s){return{type:"xstate.assign",assignment:s}}function mn(s,e){return typeof(s=typeof s=="string"&&e&&e[s]?e[s]:s)=="string"?{type:s}:typeof s=="function"?{type:s.name,exec:s}:s}function Ci(s){return function(e){return s===e}}function Nl(s){return typeof s=="string"?{type:s}:s}function gn(s,e){return{value:s,context:e,actions:[],changed:!1,matches:Ci(s)}}function yn(s,e,t){var i=e,r=!1;return[s.filter(function(n){if(n.type==="xstate.assign"){r=!0;var o=Object.assign({},i);return typeof n.assignment=="function"?o=n.assignment(i,t):Object.keys(n.assignment).forEach(function(a){o[a]=typeof n.assignment[a]=="function"?n.assignment[a](i,t):n.assignment[a]}),i=o,!1}return!0}),i,r]}function Ml(s,e){e===void 0&&(e={});var t=dn(yn(Xi(s.states[s.initial].entry).map(function(o){return mn(o,e.actions)}),s.context,Rl),2),i=t[0],r=t[1],n={config:s,_options:e,initialState:{value:s.initial,actions:i,context:r,matches:Ci(s.initial)},transition:function(o,a){var l,u,c=typeof o=="string"?{value:o,context:s.context}:o,h=c.value,f=c.context,d=Nl(a),g=s.states[h];if(g.on){var C=Xi(g.on[d.type]);try{for(var p=function(G){var oe=typeof Symbol=="function"&&Symbol.iterator,re=oe&&G[oe],te=0;if(re)return re.call(G);if(G&&typeof G.length=="number")return{next:function(){return G&&te>=G.length&&(G=void 0),{value:G&&G[te++],done:!G}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(C),m=p.next();!m.done;m=p.next()){var w=m.value;if(w===void 0)return gn(h,f);var v=typeof w=="string"?{target:w}:w,A=v.target,R=v.actions,_=R===void 0?[]:R,Z=v.cond,I=Z===void 0?function(){return!0}:Z,X=A===void 0,W=A!=null?A:h,fe=s.states[W];if(I(f,d)){var ae=dn(yn((X?Xi(_):[].concat(g.exit,_,fe.entry).filter(function(G){return G})).map(function(G){return mn(G,n._options.actions)}),f,d),3),q=ae[0],B=ae[1],ne=ae[2],$=A!=null?A:h;return{value:$,context:B,actions:q,changed:A!==h||q.length>0||ne,matches:Ci($)}}}}catch(G){l={error:G}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}}return gn(h,f)}};return n}var wn=function(s,e){return s.actions.forEach(function(t){var i=t.exec;return i&&i(s.context,e)})};function Il(s){var e=s.initialState,t=Ze.NotStarted,i=new Set,r={_machine:s,send:function(n){t===Ze.Running&&(e=s.transition(e,n),wn(e,Nl(n)),i.forEach(function(o){return o(e)}))},subscribe:function(n){return i.add(n),n(e),{unsubscribe:function(){return i.delete(n)}}},start:function(n){if(n){var o=typeof n=="object"?n:{context:s.config.context,value:n};e={value:o.value,actions:[],context:o.context,matches:Ci(o.value)}}return t=Ze.Running,wn(e,Rl),r},stop:function(){return t=Ze.Stopped,i.clear(),r},get state(){return e},get status(){return t}};return r}function op(s,e){for(let t=s.length-1;t>=0;t--){const i=s[t];if(i.type===J.Meta&&i.timestamp<=e)return s.slice(t)}return s}function lp(s,{getCastFn:e,applyEventsSynchronously:t,emitter:i}){const r=Ml({id:"player",context:s,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:Ye({lastPlayedEvent:(n,o)=>o.type==="CAST_EVENT"?o.payload.event:n.lastPlayedEvent}),recordTimeOffset:Ye((n,o)=>{let a=n.timeOffset;return"payload"in o&&"timeOffset"in o.payload&&(a=o.payload.timeOffset),le(V({},n),{timeOffset:a,baselineTime:n.events[0].timestamp+a})}),play(n){var o;const{timer:a,events:l,baselineTime:u,lastPlayedEvent:c}=n;a.clear();for(const g of l)pn(g,u);const h=op(l,u);let f=c==null?void 0:c.timestamp;(c==null?void 0:c.type)===J.IncrementalSnapshot&&c.data.source===F.MouseMove&&(f=c.timestamp+((o=c.data.positions[0])==null?void 0:o.timeOffset)),u<(f||0)&&i.emit(k.PlayBack);const d=new Array;for(const g of h)if(!(f&&f<u&&(g.timestamp<=f||g===c)))if(g.timestamp<u)d.push(g);else{const C=e(g,!1);a.addAction({doAction:()=>{C()},delay:g.delay})}t(d),i.emit(k.Flush),a.start()},pause(n){n.timer.clear()},resetLastPlayedEvent:Ye(n=>le(V({},n),{lastPlayedEvent:null})),startLive:Ye({baselineTime:(n,o)=>(n.timer.start(),o.type==="TO_LIVE"&&o.payload.baselineTime?o.payload.baselineTime:Date.now())}),addEvent:Ye((n,o)=>{const{baselineTime:a,timer:l,events:u}=n;if(o.type==="ADD_EVENT"){const{event:c}=o.payload;pn(c,a);let h=u.length-1;if(!u[h]||u[h].timestamp<=c.timestamp)u.push(c);else{let g=-1,C=0;for(;C<=h;){const p=Math.floor((C+h)/2);u[p].timestamp<=c.timestamp?C=p+1:h=p-1}g===-1&&(g=C),u.splice(g,0,c)}const f=c.timestamp<a,d=e(c,f);f?d():l.isActive()&&l.addAction({doAction:()=>{d()},delay:c.delay})}return le(V({},n),{events:u})})}});return Il(r)}function ap(s){const e=Ml({id:"speed",context:s,initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:(t,i)=>{"payload"in i&&t.timer.setSpeed(i.payload.speed)},recordSpeed:Ye({normalSpeed:t=>t.timer.speed}),restoreSpeed:t=>{t.timer.setSpeed(t.normalSpeed)}}});return Il(e)}const up=s=>[`.${s} { background: currentColor }`,"noscript { display: none !important; }"],vn=new Map;function Dl(s,e){let t=vn.get(s);return t||(t=new Map,vn.set(s,t)),t.has(e)||t.set(e,[]),t.get(e)}function Oe(s,e,t){return async i=>{if(i&&typeof i=="object"&&"rr_type"in i)if(t&&(t.isUnchanged=!1),i.rr_type==="ImageBitmap"&&"args"in i){const r=await Oe(s,e,t)(i.args);return await createImageBitmap.apply(null,r)}else if("index"in i){if(t||e===null)return i;const{rr_type:r,index:n}=i;return Dl(e,r)[n]}else if("args"in i){const{rr_type:r,args:n}=i,o=window[r];return new o(...await Promise.all(n.map(Oe(s,e,t))))}else{if("base64"in i)return ep(i.base64);if("src"in i){const r=s.get(i.src);if(r)return r;{const n=new Image;return n.src=i.src,s.set(i.src,n),n}}else if("data"in i&&i.rr_type==="Blob"){const r=await Promise.all(i.data.map(Oe(s,e,t)));return new Blob(r,{type:i.type})}}else if(Array.isArray(i))return await Promise.all(i.map(Oe(s,e,t)));return i}}function cp(s,e){try{return e===bi.WebGL?s.getContext("webgl")||s.getContext("experimental-webgl"):s.getContext("webgl2")}catch(t){return null}}const hp=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];function fp(s,e){if(!(e!=null&&e.constructor))return;const{name:t}=e.constructor;if(!hp.includes(t))return;const i=Dl(s,t);i.includes(e)||i.push(e)}async function pp({mutation:s,target:e,type:t,imageMap:i,errorHandler:r}){try{const n=cp(e,t);if(!n)return;if(s.setter){n[s.property]=s.args[0];return}const o=n[s.property],a=await Promise.all(s.args.map(Oe(i,n))),l=o.apply(n,a);fp(n,l);const u=!1}catch(n){r(s,n)}}async function dp({event:s,mutations:e,target:t,imageMap:i,errorHandler:r}){const n=t.getContext("2d");if(!n){r(e[0],new Error("Canvas context is null"));return}const o=e.map(async l=>Promise.all(l.args.map(Oe(i,n))));(await Promise.all(o)).forEach((l,u)=>{const c=e[u];try{if(c.setter){n[c.property]=c.args[0];return}const h=n[c.property];c.property==="drawImage"&&typeof c.args[0]=="string"?(i.get(s),h.apply(n,c.args)):h.apply(n,l)}catch(h){r(c,h)}})}async function bn({event:s,mutation:e,target:t,imageMap:i,canvasEventMap:r,errorHandler:n}){try{const o=r.get(s)||e,a="commands"in o?o.commands:[o];if([bi.WebGL,bi.WebGL2].includes(e.type)){for(let l=0;l<a.length;l++){const u=a[l];await pp({mutation:u,type:e.type,target:t,imageMap:i,errorHandler:n})}return}await dp({event:s,mutations:a,target:t,imageMap:i,errorHandler:n})}catch(o){n(e,o)}}class mp{constructor(e){N(this,"mediaMap",new Map),N(this,"warn"),N(this,"service"),N(this,"speedService"),N(this,"emitter"),N(this,"getCurrentTime"),N(this,"metadataCallbackMap",new Map),this.warn=e.warn,this.service=e.service,this.speedService=e.speedService,this.emitter=e.emitter,this.getCurrentTime=e.getCurrentTime,this.emitter.on(k.Start,this.start.bind(this)),this.emitter.on(k.SkipStart,this.start.bind(this)),this.emitter.on(k.Pause,this.pause.bind(this)),this.emitter.on(k.Finish,this.pause.bind(this)),this.speedService.subscribe(()=>{this.syncAllMediaElements()})}syncAllMediaElements(e={pause:!1}){this.mediaMap.forEach((t,i)=>{this.syncTargetWithState(i),e.pause&&i.pause()})}start(){this.syncAllMediaElements()}pause(){this.syncAllMediaElements({pause:!0})}seekTo({time:e,target:t,mediaState:i}){if(i.isPlaying){const n=(e-i.lastInteractionTimeOffset)/1e3*i.playbackRate,o="duration"in t&&t.duration;if(Number.isNaN(o)){this.waitForMetadata(t);return}let a=i.currentTimeAtLastInteraction+n;t.loop&&o!==!1&&(a=a%o),t.currentTime=a}else t.pause(),t.currentTime=i.currentTimeAtLastInteraction}waitForMetadata(e){if(this.metadataCallbackMap.has(e)||!("addEventListener"in e))return;const t=()=>{this.metadataCallbackMap.delete(e);const i=this.mediaMap.get(e);i&&this.seekTo({time:this.getCurrentTime(),target:e,mediaState:i})};this.metadataCallbackMap.set(e,t),e.addEventListener("loadedmetadata",t,{once:!0})}getMediaStateFromMutation({target:e,timeOffset:t,mutation:i}){var d,g,C,p,m;const r=this.mediaMap.get(e),{type:n,playbackRate:o,currentTime:a,muted:l,volume:u,loop:c}=i;return{isPlaying:n===ks.Play||n!==ks.Pause&&((r==null?void 0:r.isPlaying)||e.getAttribute("autoplay")!==null),currentTimeAtLastInteraction:(d=a!=null?a:r==null?void 0:r.currentTimeAtLastInteraction)!=null?d:0,lastInteractionTimeOffset:t,playbackRate:(g=o!=null?o:r==null?void 0:r.playbackRate)!=null?g:1,volume:(C=u!=null?u:r==null?void 0:r.volume)!=null?C:1,muted:(p=l!=null?l:r==null?void 0:r.muted)!=null?p:e.getAttribute("muted")===null,loop:(m=c!=null?c:r==null?void 0:r.loop)!=null?m:e.getAttribute("loop")===null}}syncTargetWithState(e){const t=this.mediaMap.get(e);if(!t)return;const{muted:i,loop:r,volume:n,isPlaying:o}=t,a=this.service.state.matches("paused"),l=t.playbackRate*this.speedService.state.context.timer.speed;try{this.seekTo({time:this.getCurrentTime(),target:e,mediaState:t}),e.volume!==n&&(e.volume=n),e.muted=i,e.loop=r,e.playbackRate!==l&&(e.playbackRate=l),o&&!a?e.play():e.pause()}catch(u){this.warn(`Failed to replay media interactions: ${u.message||u}`)}}addMediaElements(e,t,i){if(!["AUDIO","VIDEO"].includes(e.nodeName))return;const r=e,n=i.getMeta(r);if(!n||!("attributes"in n))return;const o=this.service.state.matches("paused"),a=n.attributes;let l=!1;a.rr_mediaState?l=a.rr_mediaState==="played":l=r.getAttribute("autoplay")!==null,l&&o&&r.pause();let u=1;typeof a.rr_mediaPlaybackRate=="number"&&(u=a.rr_mediaPlaybackRate);let c=!1;typeof a.rr_mediaMuted=="boolean"?c=a.rr_mediaMuted:c=r.getAttribute("muted")!==null;let h=!1;typeof a.rr_mediaLoop=="boolean"?h=a.rr_mediaLoop:h=r.getAttribute("loop")!==null;let f=1;typeof a.rr_mediaVolume=="number"&&(f=a.rr_mediaVolume);let d=0;typeof a.rr_mediaCurrentTime=="number"&&(d=a.rr_mediaCurrentTime),this.mediaMap.set(r,{isPlaying:l,currentTimeAtLastInteraction:d,lastInteractionTimeOffset:t,playbackRate:u,volume:f,muted:c,loop:h}),this.syncTargetWithState(r)}mediaMutation({target:e,timeOffset:t,mutation:i}){this.mediaMap.set(e,this.getMediaStateFromMutation({target:e,timeOffset:t,mutation:i})),this.syncTargetWithState(e)}isSupportedMediaElement(e){return["AUDIO","VIDEO"].includes(e.nodeName)}reset(){this.mediaMap.clear()}}function ti(s,e){if(s.nodeName!=="DIALOG"||s instanceof ye)return;const t=s,i=t.open,r=i&&t.matches("dialog:modal"),n=t.getAttribute("rr_open_mode"),o=typeof(e==null?void 0:e.attributes.open)=="string"||typeof t.getAttribute("open")=="string",a=n==="modal";if(!(i&&!(r&&n==="non-modal"||!r&&a))){if(!t.isConnected){console.warn("dialog is not attached to the dom",t);return}i&&t.close(),o&&(a?t.showModal():t.show())}}function gp(s,e){if(s.nodeName!=="DIALOG"||s instanceof ye)return;const t=s;if(!t.isConnected){console.warn("dialog is not attached to the dom",t);return}e.attributes.open===null&&(t.removeAttribute("open"),t.removeAttribute("rr_open_mode"))}const yp=5*1e3,wp=Al||sp,Cn="[replayer]",Ji={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function Sn(s){return s.type==J.IncrementalSnapshot&&(s.data.source==F.TouchMove||s.data.source==F.MouseInteraction&&s.data.type==ie.TouchStart)}class vp{constructor(e,t){if(N(this,"wrapper"),N(this,"iframe"),N(this,"service"),N(this,"speedService"),N(this,"config"),N(this,"usingVirtualDom",!1),N(this,"virtualDom",new rt),N(this,"mouse"),N(this,"mouseTail",null),N(this,"tailPositions",[]),N(this,"emitter",wp()),N(this,"nextUserInteractionEvent"),N(this,"legacy_missingNodeRetryMap",{}),N(this,"cache",Vr()),N(this,"imageMap",new Map),N(this,"canvasEventMap",new Map),N(this,"mirror",Zn()),N(this,"styleMirror",new qf),N(this,"mediaManager"),N(this,"firstFullSnapshot",null),N(this,"newDocumentQueue",[]),N(this,"mousePos",null),N(this,"touchActive",null),N(this,"lastMouseDownEvent",null),N(this,"lastHoveredRootNode"),N(this,"lastSelectionData",null),N(this,"constructedStyleMutations",[]),N(this,"adoptedStyleSheets",[]),N(this,"handleResize",a=>{this.iframe.style.display="inherit";for(const l of[this.mouseTail,this.iframe])l&&(l.setAttribute("width",String(a.width)),l.setAttribute("height",String(a.height)))}),N(this,"applyEventsSynchronously",a=>{for(const l of a){switch(l.type){case J.DomContentLoaded:case J.Load:case J.Custom:continue;case J.FullSnapshot:case J.Meta:case J.Plugin:case J.IncrementalSnapshot:break}this.getCastFn(l,!0)()}}),N(this,"getCastFn",(a,l=!1)=>{let u;switch(a.type){case J.DomContentLoaded:case J.Load:break;case J.Custom:u=()=>{this.emitter.emit(k.CustomEvent,a)};break;case J.Meta:u=()=>this.emitter.emit(k.Resize,{width:a.data.width,height:a.data.height});break;case J.FullSnapshot:u=()=>{var h;if(this.firstFullSnapshot){if(this.firstFullSnapshot===a){this.firstFullSnapshot=!0;return}}else this.firstFullSnapshot=!0;this.mediaManager.reset(),this.styleMirror.reset(),this.rebuildFullSnapshot(a,l),(h=this.iframe.contentWindow)==null||h.scrollTo(a.data.initialOffset)};break;case J.IncrementalSnapshot:u=()=>{if(this.applyIncremental(a,l),!l&&(a===this.nextUserInteractionEvent&&(this.nextUserInteractionEvent=null,this.backToNormal()),this.config.skipInactive&&!this.nextUserInteractionEvent)){for(const h of this.service.state.context.events)if(!(h.timestamp<=a.timestamp)&&this.isUserInteraction(h)){h.delay-a.delay>this.config.inactivePeriodThreshold*this.speedService.state.context.timer.speed&&(this.nextUserInteractionEvent=h);break}if(this.nextUserInteractionEvent){const h=this.nextUserInteractionEvent.delay-a.delay,f={speed:Math.min(Math.round(h/yp),this.config.maxSpeed)};this.speedService.send({type:"FAST_FORWARD",payload:f}),this.emitter.emit(k.SkipStart,f)}}};break}return()=>{u&&u();for(const f of this.config.plugins||[])f.handler&&f.handler(a,l,{replayer:this});this.service.send({type:"CAST_EVENT",payload:{event:a}});const h=this.service.state.context.events.length-1;if(!this.config.liveMode&&a===this.service.state.context.events[h]){const f=()=>{h<this.service.state.context.events.length-1||(this.backToNormal(),this.service.send("END"),this.emitter.emit(k.Finish))};let d=50;a.type===J.IncrementalSnapshot&&a.data.source===F.MouseMove&&a.data.positions.length&&(d+=Math.max(0,-a.data.positions[0].timeOffset)),setTimeout(f,d)}this.emitter.emit(k.EventCast,a)}}),!(t!=null&&t.liveMode)&&e.length<2)throw new Error("Replayer need at least 2 events.");const i={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:!1,inactivePeriodThreshold:10*1e3,showWarning:!0,showDebug:!1,blockClass:"rr-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:Ji,useVirtualDom:!0,logger:console};this.config=Object.assign({},i,t),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this),this.emitter.on(k.Resize,this.handleResize),this.setupDom();for(const a of this.config.plugins||[])a.getMirror&&a.getMirror({nodeMirror:this.mirror});this.emitter.on(k.Flush,()=>{if(this.usingVirtualDom){const a={mirror:this.mirror,applyCanvas:(l,u,c)=>{bn({event:l,mutation:u,target:c,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})},applyInput:this.applyInput.bind(this),applyScroll:this.applyScroll.bind(this),applyStyleSheetMutation:(l,u)=>{l.source===F.StyleSheetRule?this.applyStyleSheetRule(l,u):l.source===F.StyleDeclaration&&this.applyStyleDeclaration(l,u)},afterAppend:(l,u)=>{for(const c of this.config.plugins||[])c.onBuild&&c.onBuild(l,{id:u,replayer:this})}};if(this.iframe.contentDocument)try{wi(this.iframe.contentDocument,this.virtualDom,a,this.virtualDom.mirror)}catch(l){console.warn(l)}if(this.virtualDom.destroyTree(),this.usingVirtualDom=!1,Object.keys(this.legacy_missingNodeRetryMap).length)for(const l in this.legacy_missingNodeRetryMap)try{const u=this.legacy_missingNodeRetryMap[l],c=vi(u.node,this.mirror,this.virtualDom.mirror);wi(c,u.node,a,this.virtualDom.mirror),u.node=c}catch(u){this.warn(u)}this.constructedStyleMutations.forEach(l=>{this.applyStyleSheetMutation(l)}),this.constructedStyleMutations=[],this.adoptedStyleSheets.forEach(l=>{this.applyAdoptedStyleSheet(l)}),this.adoptedStyleSheets=[]}if(this.mousePos&&(this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,!0,this.mousePos.debugData),this.mousePos=null),this.touchActive===!0?this.mouse.classList.add("touch-active"):this.touchActive===!1&&this.mouse.classList.remove("touch-active"),this.touchActive=null,this.lastMouseDownEvent){const[a,l]=this.lastMouseDownEvent;a.dispatchEvent(l)}this.lastMouseDownEvent=null,this.lastSelectionData&&(this.applySelection(this.lastSelectionData),this.lastSelectionData=null)}),this.emitter.on(k.PlayBack,()=>{this.firstFullSnapshot=null,this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset()});const r=new np([],{speed:this.config.speed});this.service=lp({events:e.map(a=>t&&t.unpackFn?t.unpackFn(a):a).sort((a,l)=>a.timestamp-l.timestamp),timer:r,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter}),this.service.start(),this.service.subscribe(a=>{this.emitter.emit(k.StateChange,{player:a})}),this.speedService=ap({normalSpeed:-1,timer:r}),this.speedService.start(),this.speedService.subscribe(a=>{this.emitter.emit(k.StateChange,{speed:a})}),this.mediaManager=new mp({warn:this.warn.bind(this),service:this.service,speedService:this.speedService,emitter:this.emitter,getCurrentTime:this.getCurrentTime.bind(this)});const n=this.service.state.context.events.find(a=>a.type===J.Meta),o=this.service.state.context.events.find(a=>a.type===J.FullSnapshot);if(n){const{width:a,height:l}=n.data;setTimeout(()=>{this.emitter.emit(k.Resize,{width:a,height:l})},0)}o&&setTimeout(()=>{var a;this.firstFullSnapshot||(this.firstFullSnapshot=o,this.rebuildFullSnapshot(o),(a=this.iframe.contentWindow)==null||a.scrollTo(o.data.initialOffset))},1),this.service.state.context.events.find(Sn)&&this.mouse.classList.add("touch-device")}get timer(){return this.service.state.context.timer}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}setConfig(e){Object.keys(e).forEach(t=>{e[t],this.config[t]=e[t]}),this.config.skipInactive||this.backToNormal(),typeof e.speed!="undefined"&&this.speedService.send({type:"SET_SPEED",payload:{speed:e.speed}}),typeof e.mouseTail!="undefined"&&(e.mouseTail===!1?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))}getMetaData(){const e=this.service.state.context.events[0],t=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:e.timestamp,endTime:t.timestamp,totalTime:t.timestamp-e.timestamp}}getCurrentTime(){return this.timer.timeOffset+this.getTimeOffset()}getTimeOffset(){const{baselineTime:e,events:t}=this.service.state.context;return e-t[0].timestamp}getMirror(){return this.mirror}play(e=0){var t,i;this.service.state.matches("paused")?this.service.send({type:"PLAY",payload:{timeOffset:e}}):(this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:e}})),(i=(t=this.iframe.contentDocument)==null?void 0:t.getElementsByTagName("html")[0])==null||i.classList.remove("rrweb-paused"),this.emitter.emit(k.Start)}pause(e){var t,i;e===void 0&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),typeof e=="number"&&(this.play(e),this.service.send({type:"PAUSE"})),(i=(t=this.iframe.contentDocument)==null?void 0:t.getElementsByTagName("html")[0])==null||i.classList.add("rrweb-paused"),this.emitter.emit(k.Pause)}resume(e=0){this.warn("The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface."),this.play(e),this.emitter.emit(k.Resume)}destroy(){this.pause(),this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset(),this.config.root.removeChild(this.wrapper),this.emitter.emit(k.Destroy)}startLive(e){this.service.send({type:"TO_LIVE",payload:{baselineTime:e}})}addEvent(e){const t=this.config.unpackFn?this.config.unpackFn(e):e;Sn(t)&&this.mouse.classList.add("touch-device"),Promise.resolve().then(()=>this.service.send({type:"ADD_EVENT",payload:{event:t}}))}enableInteract(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"}disableInteract(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"}resetCache(){this.cache=Vr()}setupDom(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),this.config.mouseTail!==!1&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");const e=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&e.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",e.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&(rp(this.iframe.contentWindow,this.iframe.contentDocument),Jf(this.iframe.contentWindow))}rebuildFullSnapshot(e,t=!1){if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&this.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={};const i=[],r=new Set,n=(l,u)=>{if(l.nodeName==="DIALOG"&&r.add(l),this.collectIframeAndAttachDocument(i,l),this.mediaManager.isSupportedMediaElement(l)){const{events:c}=this.service.state.context;this.mediaManager.addMediaElements(l,e.timestamp-c[0].timestamp,this.mirror)}for(const c of this.config.plugins||[])c.onBuild&&c.onBuild(l,{id:u,replayer:this})};this.usingVirtualDom&&(this.virtualDom.destroyTree(),this.usingVirtualDom=!1),this.mirror.reset(),dc(e.data.node,{doc:this.iframe.contentDocument,afterAppend:n,cache:this.cache,mirror:this.mirror}),n(this.iframe.contentDocument,e.data.node.id);for(const{mutationInQueue:l,builtNode:u}of i)this.attachDocumentToIframe(l,u),this.newDocumentQueue=this.newDocumentQueue.filter(c=>c!==l);const{documentElement:o,head:a}=this.iframe.contentDocument;this.insertStyleRules(o,a),r.forEach(l=>ti(l)),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(k.FullsnapshotRebuilded,e),t||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()}insertStyleRules(e,t){var i;const r=up(this.config.blockClass).concat(this.config.insertStyleRules);if(this.config.pauseAnimation&&r.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }"),!!r.length)if(this.usingVirtualDom){const n=this.virtualDom.createElement("style");this.virtualDom.mirror.add(n,Cl(n,this.virtualDom.unserializedId)),e.insertBefore(n,t),n.rules.push({source:F.StyleSheetRule,adds:r.map((o,a)=>({rule:o,index:a}))})}else{const n=document.createElement("style");e.insertBefore(n,t);for(let o=0;o<r.length;o++)(i=n.sheet)==null||i.insertRule(r[o],o)}}attachDocumentToIframe(e,t){const i=this.usingVirtualDom?this.virtualDom.mirror:this.mirror,r=[],n=new Set,o=(a,l)=>{a.nodeName==="DIALOG"&&n.add(a),this.collectIframeAndAttachDocument(r,a);const u=i.getMeta(a);if((u==null?void 0:u.type)===De.Element&&(u==null?void 0:u.tagName.toUpperCase())==="HTML"){const{documentElement:c,head:h}=t.contentDocument;this.insertStyleRules(c,h)}if(!this.usingVirtualDom)for(const c of this.config.plugins||[])c.onBuild&&c.onBuild(a,{id:l,replayer:this})};wt(e.node,{doc:t.contentDocument,mirror:i,hackCss:!0,skipChild:!1,afterAppend:o,cache:this.cache}),o(t.contentDocument,e.node.id);for(const{mutationInQueue:a,builtNode:l}of r)this.attachDocumentToIframe(a,l),this.newDocumentQueue=this.newDocumentQueue.filter(u=>u!==a);n.forEach(a=>ti(a))}collectIframeAndAttachDocument(e,t){if(Hi(t,this.mirror)){const i=this.newDocumentQueue.find(r=>r.parentId===this.mirror.getId(t));i&&e.push({mutationInQueue:i,builtNode:t})}}waitForStylesheetLoad(){var e;const t=(e=this.iframe.contentDocument)==null?void 0:e.head;if(t){const i=new Set;let r,n=this.service.state;const o=()=>{n=this.service.state};this.emitter.on(k.Start,o),this.emitter.on(k.Pause,o);const a=()=>{this.emitter.off(k.Start,o),this.emitter.off(k.Pause,o)};t.querySelectorAll('link[rel="stylesheet"]').forEach(l=>{l.sheet||(i.add(l),l.addEventListener("load",()=>{i.delete(l),i.size===0&&r!==-1&&(n.matches("playing")&&this.play(this.getCurrentTime()),this.emitter.emit(k.LoadStylesheetEnd),r&&clearTimeout(r),a())}))}),i.size>0&&(this.service.send({type:"PAUSE"}),this.emitter.emit(k.LoadStylesheetStart),r=setTimeout(()=>{n.matches("playing")&&this.play(this.getCurrentTime()),r=-1,a()},this.config.loadTimeout))}}async preloadAllImages(){const e=[];for(const t of this.service.state.context.events)t.type===J.IncrementalSnapshot&&t.data.source===F.CanvasMutation&&(e.push(this.deserializeAndPreloadCanvasEvents(t.data,t)),("commands"in t.data?t.data.commands:[t.data]).forEach(r=>{this.preloadImages(r,t)}));return Promise.all(e)}preloadImages(e,t){if(e.property==="drawImage"&&typeof e.args[0]=="string"&&!this.imageMap.has(t)){const i=document.createElement("canvas"),r=i.getContext("2d"),n=r==null?void 0:r.createImageData(i.width,i.height);r==null||r.putImageData(n,0,0)}}async deserializeAndPreloadCanvasEvents(e,t){if(!this.canvasEventMap.has(t)){const i={isUnchanged:!0};if("commands"in e){const r=await Promise.all(e.commands.map(async n=>{const o=await Promise.all(n.args.map(Oe(this.imageMap,null,i)));return le(V({},n),{args:o})}));i.isUnchanged===!1&&this.canvasEventMap.set(t,le(V({},e),{commands:r}))}else{const r=await Promise.all(e.args.map(Oe(this.imageMap,null,i)));i.isUnchanged===!1&&this.canvasEventMap.set(t,le(V({},e),{args:r}))}}}applyIncremental(e,t){var i,r,n;const{data:o}=e;switch(o.source){case F.Mutation:{try{this.applyMutation(o,t)}catch(a){this.warn(`Exception in mutation ${a.message||a}`,o)}break}case F.Drag:case F.TouchMove:case F.MouseMove:if(t){const a=o.positions[o.positions.length-1];this.mousePos={x:a.x,y:a.y,id:a.id,debugData:o}}else o.positions.forEach(a=>{const l={doAction:()=>{this.moveAndHover(a.x,a.y,a.id,t,o)},delay:a.timeOffset+e.timestamp-this.service.state.context.baselineTime};this.timer.addAction(l)}),this.timer.addAction({doAction(){},delay:e.delay-((i=o.positions[0])==null?void 0:i.timeOffset)});break;case F.MouseInteraction:{if(o.id===-1)break;const a=new Event(da(ie[o.type])),l=this.mirror.getNode(o.id);if(!l)return this.debugNodeNotFound(o,o.id);this.emitter.emit(k.MouseInteraction,{type:o.type,target:l});const{triggerFocus:u}=this.config;switch(o.type){case ie.Blur:"blur"in l&&l.blur();break;case ie.Focus:u&&l.focus&&l.focus({preventScroll:!0});break;case ie.Click:case ie.TouchStart:case ie.TouchEnd:case ie.MouseDown:case ie.MouseUp:t?(o.type===ie.TouchStart?this.touchActive=!0:o.type===ie.TouchEnd&&(this.touchActive=!1),o.type===ie.MouseDown?this.lastMouseDownEvent=[l,a]:o.type===ie.MouseUp&&(this.lastMouseDownEvent=null),this.mousePos={x:o.x||0,y:o.y||0,id:o.id,debugData:o}):(o.type===ie.TouchStart&&(this.tailPositions.length=0),this.moveAndHover(o.x||0,o.y||0,o.id,t,o),o.type===ie.Click?(this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active")):o.type===ie.TouchStart?(this.mouse.offsetWidth,this.mouse.classList.add("touch-active")):o.type===ie.TouchEnd?this.mouse.classList.remove("touch-active"):l.dispatchEvent(a));break;case ie.TouchCancel:t?this.touchActive=!1:this.mouse.classList.remove("touch-active");break;default:l.dispatchEvent(a)}break}case F.Scroll:{if(o.id===-1)break;if(this.usingVirtualDom){const a=this.virtualDom.mirror.getNode(o.id);if(!a)return this.debugNodeNotFound(o,o.id);a.scrollData=o;break}this.applyScroll(o,t);break}case F.ViewportResize:this.emitter.emit(k.Resize,{width:o.width,height:o.height});break;case F.Input:{if(o.id===-1)break;if(this.usingVirtualDom){const a=this.virtualDom.mirror.getNode(o.id);if(!a)return this.debugNodeNotFound(o,o.id);a.inputData=o;break}this.applyInput(o);break}case F.MediaInteraction:{const a=this.usingVirtualDom?this.virtualDom.mirror.getNode(o.id):this.mirror.getNode(o.id);if(!a)return this.debugNodeNotFound(o,o.id);const l=a,{events:u}=this.service.state.context;this.mediaManager.mediaMutation({target:l,timeOffset:e.timestamp-u[0].timestamp,mutation:o});break}case F.StyleSheetRule:case F.StyleDeclaration:{this.usingVirtualDom?o.styleId?this.constructedStyleMutations.push(o):o.id&&((r=this.virtualDom.mirror.getNode(o.id))==null||r.rules.push(o)):this.applyStyleSheetMutation(o);break}case F.CanvasMutation:{if(!this.config.UNSAFE_replayCanvas)return;if(this.usingVirtualDom){const a=this.virtualDom.mirror.getNode(o.id);if(!a)return this.debugNodeNotFound(o,o.id);a.canvasMutations.push({event:e,mutation:o})}else{const a=this.mirror.getNode(o.id);if(!a)return this.debugNodeNotFound(o,o.id);bn({event:e,mutation:o,target:a,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})}break}case F.Font:{try{const a=new FontFace(o.family,o.buffer?new Uint8Array(JSON.parse(o.fontSource)):o.fontSource,o.descriptors);(n=this.iframe.contentDocument)==null||n.fonts.add(a)}catch(a){this.warn(a)}break}case F.Selection:{if(t){this.lastSelectionData=o;break}this.applySelection(o);break}case F.AdoptedStyleSheet:{this.usingVirtualDom?this.adoptedStyleSheets.push(o):this.applyAdoptedStyleSheet(o);break}}}applyMutation(e,t){if(this.config.useVirtualDom&&!this.usingVirtualDom&&t&&(this.usingVirtualDom=!0,Tf(this.iframe.contentDocument,this.mirror,this.virtualDom),Object.keys(this.legacy_missingNodeRetryMap).length))for(const u in this.legacy_missingNodeRetryMap)try{const c=this.legacy_missingNodeRetryMap[u],h=bl(c.node,this.virtualDom,this.mirror);h&&(c.node=h)}catch(c){this.warn(c)}const i=this.usingVirtualDom?this.virtualDom.mirror:this.mirror;e.removes=e.removes.filter(u=>i.getNode(u.id)?!0:(this.warnNodeNotFound(e,u.id),!1)),e.removes.forEach(u=>{var c;const h=i.getNode(u.id);if(!h)return;let f=i.getNode(u.parentId);if(!f)return this.warnNodeNotFound(e,u.parentId);if(u.isShadow&&qt(f)&&(f=f.shadowRoot),i.removeNodeFromMap(h),f)try{f.removeChild(h),this.usingVirtualDom&&h.nodeName==="#text"&&f.nodeName==="STYLE"&&((c=f.rules)==null?void 0:c.length)>0&&(f.rules=[])}catch(d){if(d instanceof DOMException)this.warn("parent could not remove child in mutation",f,h,e);else throw d}});const r=V({},this.legacy_missingNodeRetryMap),n=[],o=u=>{let c=null;return u.nextId&&(c=i.getNode(u.nextId)),u.nextId!==null&&u.nextId!==void 0&&u.nextId!==-1&&!c},a=u=>{var c,h;if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");let f=i.getNode(u.parentId);if(!f)return u.node.type===De.Document?this.newDocumentQueue.push(u):n.push(u);u.node.isShadow&&(qt(f)||f.attachShadow({mode:"open"}),f=f.shadowRoot);let d=null,g=null;if(u.previousId&&(d=i.getNode(u.previousId)),u.nextId&&(g=i.getNode(u.nextId)),o(u))return n.push(u);if(u.node.rootId&&!i.getNode(u.node.rootId))return;const C=u.node.rootId?i.getNode(u.node.rootId):this.usingVirtualDom?this.virtualDom:this.iframe.contentDocument;if(Hi(f,i)){this.attachDocumentToIframe(u,f);return}const p=(v,A)=>{if(!this.usingVirtualDom){ti(v);for(const R of this.config.plugins||[])R.onBuild&&R.onBuild(v,{id:A,replayer:this})}},m=wt(u.node,{doc:C,mirror:i,skipChild:!0,hackCss:!0,cache:this.cache,afterAppend:p});if(u.previousId===-1||u.nextId===-1){r[u.node.id]={node:m,mutation:u};return}const w=i.getMeta(f);if(w&&w.type===De.Element&&u.node.type===De.Text){const v=Array.isArray(f.childNodes)?f.childNodes:Array.from(f.childNodes);if(w.tagName==="textarea")for(const A of v)A.nodeType===f.TEXT_NODE&&f.removeChild(A);else if(w.tagName==="style"&&v.length===1)for(const A of v)A.nodeType===f.TEXT_NODE&&!i.hasNode(A)&&(m.textContent=A.textContent,f.removeChild(A))}else if((w==null?void 0:w.type)===De.Document){const v=f;u.node.type===De.DocumentType&&((c=v.childNodes[0])==null?void 0:c.nodeType)===Node.DOCUMENT_TYPE_NODE&&v.removeChild(v.childNodes[0]),m.nodeName==="HTML"&&v.documentElement&&v.removeChild(v.documentElement)}if(d&&d.nextSibling&&d.nextSibling.parentNode?f.insertBefore(m,d.nextSibling):g&&g.parentNode?f.contains(g)?f.insertBefore(m,g):f.insertBefore(m,null):f.appendChild(m),p(m,u.node.id),this.usingVirtualDom&&m.nodeName==="#text"&&f.nodeName==="STYLE"&&((h=f.rules)==null?void 0:h.length)>0&&(f.rules=[]),Hi(m,this.mirror)){const v=this.mirror.getId(m),A=this.newDocumentQueue.find(R=>R.parentId===v);A&&(this.attachDocumentToIframe(A,m),this.newDocumentQueue=this.newDocumentQueue.filter(R=>R!==A))}(u.previousId||u.nextId)&&this.legacy_resolveMissingNode(r,f,m,u)};e.adds.forEach(u=>{a(u)});const l=Date.now();for(;n.length;){const u=Kf(n);if(n.length=0,Date.now()-l>500){this.warn("Timeout in the loop, please check the resolve tree data:",u);break}for(const c of u)i.getNode(c.value.parentId)?El(c,f=>{a(f)}):this.debug("Drop resolve tree since there is no parent for the root node.",c)}Object.keys(r).length&&Object.assign(this.legacy_missingNodeRetryMap,r),Qf(e.texts).forEach(u=>{var c;const h=i.getNode(u.id);if(!h)return e.removes.find(d=>d.id===u.id)?void 0:this.warnNodeNotFound(e,u.id);const f=h.parentElement;if(u.value&&f&&f.tagName==="STYLE"?h.textContent=Mi(u.value,this.cache):h.textContent=u.value,this.usingVirtualDom){const d=h.parentNode;((c=d==null?void 0:d.rules)==null?void 0:c.length)>0&&(d.rules=[])}}),e.attributes.forEach(u=>{var c;const h=i.getNode(u.id);if(!h)return e.removes.find(f=>f.id===u.id)?void 0:this.warnNodeNotFound(e,u.id);for(const f in u.attributes)if(typeof f=="string"){const d=u.attributes[f];if(d===null)h.removeAttribute(f),f==="open"&&gp(h,u);else if(typeof d=="string")try{if(f==="_cssText"&&(h.nodeName==="LINK"||h.nodeName==="STYLE"))try{const g=i.getMeta(h);Object.assign(g.attributes,u.attributes);const C=wt(g,{doc:h.ownerDocument,mirror:i,skipChild:!0,hackCss:!0,cache:this.cache}),p=h.nextSibling,m=h.parentNode;if(C&&m){m.removeChild(h),m.insertBefore(C,p),i.replace(u.id,C);break}}catch(g){}if(f==="value"&&h.nodeName==="TEXTAREA"){const g=h;g.childNodes.forEach(p=>g.removeChild(p));const C=(c=h.ownerDocument)==null?void 0:c.createTextNode(d);C&&g.appendChild(C)}else h.setAttribute(f,d);f==="rr_open_mode"&&h.nodeName==="DIALOG"&&ti(h,u)}catch(g){this.warn("An error occurred may due to the checkout feature.",g)}else if(f==="style"){const g=d,C=h;for(const p in g)if(g[p]===!1)C.style.removeProperty(p);else if(g[p]instanceof Array){const m=g[p];C.style.setProperty(p,m[0],m[1])}else{const m=g[p];C.style.setProperty(p,m)}}}})}applyScroll(e,t){var i,r;const n=this.mirror.getNode(e.id);if(!n)return this.debugNodeNotFound(e,e.id);const o=this.mirror.getMeta(n);if(n===this.iframe.contentDocument)(i=this.iframe.contentWindow)==null||i.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else if((o==null?void 0:o.type)===De.Document)(r=n.defaultView)==null||r.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"});else try{n.scrollTo({top:e.y,left:e.x,behavior:t?"auto":"smooth"})}catch(a){}}applyInput(e){const t=this.mirror.getNode(e.id);if(!t)return this.debugNodeNotFound(e,e.id);try{t.checked=e.isChecked,t.value=e.text}catch(i){}}applySelection(e){try{const t=new Set,i=e.ranges.map(({start:r,startOffset:n,end:o,endOffset:a})=>{const l=this.mirror.getNode(r),u=this.mirror.getNode(o);if(!l||!u)return;const c=new Range;c.setStart(l,n),c.setEnd(u,a);const h=l.ownerDocument,f=h==null?void 0:h.getSelection();return f&&t.add(f),{range:c,selection:f}});t.forEach(r=>r.removeAllRanges()),i.forEach(r=>{var n;return r&&((n=r.selection)==null?void 0:n.addRange(r.range))})}catch(t){}}applyStyleSheetMutation(e){var t;let i=null;e.styleId?i=this.styleMirror.getStyle(e.styleId):e.id&&(i=((t=this.mirror.getNode(e.id))==null?void 0:t.sheet)||null),i&&(e.source===F.StyleSheetRule?this.applyStyleSheetRule(e,i):e.source===F.StyleDeclaration&&this.applyStyleDeclaration(e,i))}applyStyleSheetRule(e,t){var i,r,n,o;if((i=e.adds)==null||i.forEach(({rule:a,index:l})=>{try{if(Array.isArray(l)){const{positions:u,index:c}=hn(l);mt(t.cssRules,u).insertRule(a,c)}else{const u=l===void 0?void 0:Math.min(l,t.cssRules.length);t==null||t.insertRule(a,u)}}catch(u){}}),(r=e.removes)==null||r.forEach(({index:a})=>{try{if(Array.isArray(a)){const{positions:l,index:u}=hn(a);mt(t.cssRules,l).deleteRule(u||0)}else t==null||t.deleteRule(a)}catch(l){}}),e.replace)try{(n=t.replace)==null||n.call(t,e.replace)}catch(a){}if(e.replaceSync)try{(o=t.replaceSync)==null||o.call(t,e.replaceSync)}catch(a){}}applyStyleDeclaration(e,t){e.set&&mt(t.rules,e.index).style.setProperty(e.set.property,e.set.value,e.set.priority),e.remove&&mt(t.rules,e.index).style.removeProperty(e.remove.property)}applyAdoptedStyleSheet(e){var t;const i=this.mirror.getNode(e.id);if(!i)return;(t=e.styles)==null||t.forEach(a=>{var l;let u=null,c=null;if(qt(i)?c=((l=i.ownerDocument)==null?void 0:l.defaultView)||null:i.nodeName==="#document"&&(c=i.defaultView),!!c)try{u=new c.CSSStyleSheet,this.styleMirror.add(u,a.styleId),this.applyStyleSheetRule({source:F.StyleSheetRule,adds:a.rules},u)}catch(h){}});const r=10;let n=0;const o=(a,l)=>{const u=l.map(c=>this.styleMirror.getStyle(c)).filter(c=>c!==null);qt(a)?a.shadowRoot.adoptedStyleSheets=u:a.nodeName==="#document"&&(a.adoptedStyleSheets=u),u.length!==l.length&&n<r&&(setTimeout(()=>o(a,l),0+100*n),n++)};o(i,e.styleIds)}legacy_resolveMissingNode(e,t,i,r){const{previousId:n,nextId:o}=r,a=n&&e[n],l=o&&e[o];if(a){const{node:u,mutation:c}=a;t.insertBefore(u,i),delete e[c.node.id],delete this.legacy_missingNodeRetryMap[c.node.id],(c.previousId||c.nextId)&&this.legacy_resolveMissingNode(e,t,u,c)}if(l){const{node:u,mutation:c}=l;t.insertBefore(u,i.nextSibling),delete e[c.node.id],delete this.legacy_missingNodeRetryMap[c.node.id],(c.previousId||c.nextId)&&this.legacy_resolveMissingNode(e,t,u,c)}}moveAndHover(e,t,i,r,n){const o=this.mirror.getNode(i);if(!o)return this.debugNodeNotFound(n,i);const a=xl(o,this.iframe),l=e*a.absoluteScale+a.x,u=t*a.absoluteScale+a.y;this.mouse.style.left=`${l}px`,this.mouse.style.top=`${u}px`,r||this.drawMouseTail({x:l,y:u}),this.hoverElements(o)}drawMouseTail(e){if(!this.mouseTail)return;const{lineCap:t,lineWidth:i,strokeStyle:r,duration:n}=this.config.mouseTail===!0?Ji:Object.assign({},Ji,this.config.mouseTail),o=()=>{if(!this.mouseTail)return;const a=this.mouseTail.getContext("2d");!a||!this.tailPositions.length||(a.clearRect(0,0,this.mouseTail.width,this.mouseTail.height),a.beginPath(),a.lineWidth=i,a.lineCap=t,a.strokeStyle=r,a.moveTo(this.tailPositions[0].x,this.tailPositions[0].y),this.tailPositions.forEach(l=>a.lineTo(l.x,l.y)),a.stroke())};this.tailPositions.push(e),o(),setTimeout(()=>{this.tailPositions=this.tailPositions.filter(a=>a!==e),o()},n/this.speedService.state.context.timer.speed)}hoverElements(e){var t;(t=this.lastHoveredRootNode||this.iframe.contentDocument)==null||t.querySelectorAll(".\\:hover").forEach(r=>{r.classList.remove(":hover")}),this.lastHoveredRootNode=e.getRootNode();let i=e;for(;i;)i.classList&&i.classList.add(":hover"),i=i.parentElement}isUserInteraction(e){return e.type!==J.IncrementalSnapshot?!1:e.data.source>F.Mutation&&e.data.source<=F.Input}backToNormal(){this.nextUserInteractionEvent=null,!this.speedService.state.matches("normal")&&(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(k.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))}warnNodeNotFound(e,t){this.warn(`Node with id '${t}' not found. `,e)}warnCanvasMutationFailed(e,t){this.warn("Has error on canvas update",t,"canvas mutation:",e)}debugNodeNotFound(e,t){this.debug(`Node with id '${t}' not found. `,e)}warn(...e){this.config.showWarning&&this.config.logger.warn(Cn,...e)}debug(...e){this.config.showDebug&&this.config.logger.log(Cn,...e)}}var he=Uint8Array,_e=Uint16Array,Ps=Uint32Array,Ol=new he([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_l=new he([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bp=new he([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tl=function(s,e){for(var t=new _e(31),i=0;i<31;++i)t[i]=e+=1<<s[i-1];for(var r=new Ps(t[30]),i=1;i<30;++i)for(var n=t[i];n<t[i+1];++n)r[n]=n-t[i]<<5|i;return[t,r]},kl=Tl(Ol,2),Pl=kl[0],Cp=kl[1];Pl[28]=258,Cp[258]=28;var Sp=Tl(_l,0),Ep=Sp[0],$s=new _e(32768);for(var Y=0;Y<32768;++Y){var Ie=(Y&43690)>>>1|(Y&21845)<<1;Ie=(Ie&52428)>>>2|(Ie&13107)<<2,Ie=(Ie&61680)>>>4|(Ie&3855)<<4,$s[Y]=((Ie&65280)>>>8|(Ie&255)<<8)>>>1}var vt=function(s,e,t){for(var i=s.length,r=0,n=new _e(e);r<i;++r)++n[s[r]-1];var o=new _e(e);for(r=0;r<e;++r)o[r]=o[r-1]+n[r-1]<<1;var a;if(t){a=new _e(1<<e);var l=15-e;for(r=0;r<i;++r)if(s[r])for(var u=r<<4|s[r],c=e-s[r],h=o[s[r]-1]++<<c,f=h|(1<<c)-1;h<=f;++h)a[$s[h]>>>l]=u}else for(a=new _e(i),r=0;r<i;++r)a[r]=$s[o[s[r]-1]++]>>>15-s[r];return a},kt=new he(288);for(var Y=0;Y<144;++Y)kt[Y]=8;for(var Y=144;Y<256;++Y)kt[Y]=9;for(var Y=256;Y<280;++Y)kt[Y]=7;for(var Y=280;Y<288;++Y)kt[Y]=8;var $l=new he(32);for(var Y=0;Y<32;++Y)$l[Y]=5;var xp=vt(kt,9,1),Ap=vt($l,5,1),Ki=function(s){for(var e=s[0],t=1;t<s.length;++t)s[t]>e&&(e=s[t]);return e},de=function(s,e,t){var i=e/8>>0;return(s[i]|s[i+1]<<8)>>>(e&7)&t},Qi=function(s,e){var t=e/8>>0;return(s[t]|s[t+1]<<8|s[t+2]<<16)>>>(e&7)},Rp=function(s){return(s/8>>0)+(s&7&&1)},Ll=function(s,e,t){(t==null||t>s.length)&&(t=s.length);var i=new(s instanceof _e?_e:s instanceof Ps?Ps:he)(t-e);return i.set(s.subarray(e,t)),i},Np=function(s,e,t){var i=s.length,r=!e||t,n=!t||t.i;t||(t={}),e||(e=new he(i*3));var o=function(y){var x=e.length;if(y>x){var L=new he(Math.max(x*2,y));L.set(e),e=L}},a=t.f||0,l=t.p||0,u=t.b||0,c=t.l,h=t.d,f=t.m,d=t.n,g=i*8;do{if(!c){t.f=a=de(s,l,1);var C=de(s,l+1,3);if(l+=3,C)if(C==1)c=xp,h=Ap,f=9,d=5;else if(C==2){var v=de(s,l,31)+257,A=de(s,l+10,15)+4,R=v+de(s,l+5,31)+1;l+=14;for(var _=new he(R),Z=new he(19),I=0;I<A;++I)Z[bp[I]]=de(s,l+I*3,7);l+=A*3;var X=Ki(Z),W=(1<<X)-1;if(!n&&l+R*(X+7)>g)break;for(var fe=vt(Z,X,1),I=0;I<R;){var ae=fe[de(s,l,W)];l+=ae&15;var p=ae>>>4;if(p<16)_[I++]=p;else{var q=0,B=0;for(p==16?(B=3+de(s,l,3),l+=2,q=_[I-1]):p==17?(B=3+de(s,l,7),l+=3):p==18&&(B=11+de(s,l,127),l+=7);B--;)_[I++]=q}}var ne=_.subarray(0,v),$=_.subarray(v);f=Ki(ne),d=Ki($),c=vt(ne,f,1),h=vt($,d,1)}else throw"invalid block type";else{var p=Rp(l)+4,m=s[p-4]|s[p-3]<<8,w=p+m;if(w>i){if(n)throw"unexpected EOF";break}r&&o(u+m),e.set(s.subarray(p,w),u),t.b=u+=m,t.p=l=w*8;continue}if(l>g)throw"unexpected EOF"}r&&o(u+131072);for(var G=(1<<f)-1,oe=(1<<d)-1,re=f+d+18;n||l+re<g;){var q=c[Qi(s,l)&G],te=q>>>4;if(l+=q&15,l>g)throw"unexpected EOF";if(!q)throw"invalid length/literal";if(te<256)e[u++]=te;else if(te==256){c=null;break}else{var K=te-254;if(te>264){var I=te-257,pe=Ol[I];K=de(s,l,(1<<pe)-1)+Pl[I],l+=pe}var we=h[Qi(s,l)&oe],E=we>>>4;if(!we)throw"invalid distance";l+=we&15;var $=Ep[E];if(E>3){var pe=_l[E];$+=Qi(s,l)&(1<<pe)-1,l+=pe}if(l>g)throw"unexpected EOF";r&&o(u+131072);for(var b=u+K;u<b;u+=4)e[u]=e[u-$],e[u+1]=e[u+1-$],e[u+2]=e[u+2-$],e[u+3]=e[u+3-$];u=b}}t.l=c,t.p=l,t.b=u,c&&(a=1,t.m=f,t.d=h,t.n=d)}while(!a);return u==e.length?e:Ll(e,0,u)},Mp=function(s){if((s[0]&15)!=8||s[0]>>>4>7||(s[0]<<8|s[1])%31)throw"invalid zlib data";if(s[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ip(s,e){return Np((Mp(s),s.subarray(2,-4)),e)}function Dp(s,e){for(var t=s.length,i=new he(s.length+(s.length>>>1)),r=0,n=function(u){i[r++]=u},o=0;o<t;++o){if(r+5>i.length){var a=new he(r+8+(t-o<<1));a.set(i),i=a}var l=s.charCodeAt(o);l<128||e?n(l):l<2048?(n(192|l>>>6),n(128|l&63)):l>55295&&l<57344?(l=65536+(l&1047552)|s.charCodeAt(++o)&1023,n(240|l>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|l&63)):(n(224|l>>>12),n(128|l>>>6&63),n(128|l&63))}return Ll(i,0,r)}function Op(s,e){var t="";if(typeof TextDecoder!="undefined")return new TextDecoder().decode(s);for(var i=0;i<s.length;){var r=s[i++];r<128||e?t+=String.fromCharCode(r):r<224?t+=String.fromCharCode((r&31)<<6|s[i++]&63):r<240?t+=String.fromCharCode((r&15)<<12|(s[i++]&63)<<6|s[i++]&63):(r=((r&15)<<18|(s[i++]&63)<<12|(s[i++]&63)<<6|s[i++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023))}return t}const En="v1",_p=s=>{if(typeof s!="string")return s;try{const e=JSON.parse(s);if(e.timestamp)return e}catch(e){}try{const e=JSON.parse(Op(Ip(Dp(s,!0))));if(e.v===En)return e;throw new Error(`These events were packed with packer ${e.v} which is incompatible with current packer ${En}.`)}catch(e){throw console.error(e),new Error("Unknown data format.")}};var dr=(s=>(s[s.DomContentLoaded=0]="DomContentLoaded",s[s.Load=1]="Load",s[s.FullSnapshot=2]="FullSnapshot",s[s.IncrementalSnapshot=3]="IncrementalSnapshot",s[s.Meta=4]="Meta",s[s.Custom=5]="Custom",s[s.Plugin=6]="Plugin",s))(dr||{}),Ls=(s=>(s[s.Mutation=0]="Mutation",s[s.MouseMove=1]="MouseMove",s[s.MouseInteraction=2]="MouseInteraction",s[s.Scroll=3]="Scroll",s[s.ViewportResize=4]="ViewportResize",s[s.Input=5]="Input",s[s.TouchMove=6]="TouchMove",s[s.MediaInteraction=7]="MediaInteraction",s[s.StyleSheetRule=8]="StyleSheetRule",s[s.CanvasMutation=9]="CanvasMutation",s[s.Font=10]="Font",s[s.Log=11]="Log",s[s.Drag=12]="Drag",s[s.StyleDeclaration=13]="StyleDeclaration",s[s.Selection=14]="Selection",s[s.AdoptedStyleSheet=15]="AdoptedStyleSheet",s[s.CustomElement=16]="CustomElement",s))(Ls||{});function xn(s){let e="";return Object.keys(s).forEach(t=>{e+=`${t}: ${s[t]};`}),e}function dt(s,e=2){let t=String(s);const i=Math.pow(10,e-1);if(s<i)for(;String(i).length>t.length;)t=`0${s}`;return t}const Fl=1e3,Fs=60*Fl,An=60*Fs;function ii(s){if(s<=0)return"00:00";const e=Math.floor(s/An);s=s%An;const t=Math.floor(s/Fs);s=s%Fs;const i=Math.floor(s/Fl);return e?`${dt(e)}:${dt(t)}:${dt(i)}`:`${dt(t)}:${dt(i)}`}function Tp(s){return s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen?s.msRequestFullscreen():Promise.resolve()}function kp(){return document.exitFullscreen?document.exitFullscreen():document.mozExitFullscreen?document.mozExitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen?document.msExitFullscreen():Promise.resolve()}function Rn(){let s=!1;return["fullscreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement"].forEach(e=>{e in document&&(s=s||!!document[e])}),s}function Pp(s){return document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),document.addEventListener("mozfullscreenchange",s),document.addEventListener("MSFullscreenChange",s),()=>{document.removeEventListener("fullscreenchange",s),document.removeEventListener("webkitfullscreenchange",s),document.removeEventListener("mozfullscreenchange",s),document.removeEventListener("MSFullscreenChange",s)}}function Nn(s){return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(s)]}function $p(s){return s.type!==dr.IncrementalSnapshot?!1:s.data.source>Ls.Mutation&&s.data.source<=Ls.Input}function Lp(s,e){const t=[];let i=s[0].timestamp;for(const r of s)$p(r)&&(r.timestamp-i>e&&t.push([i,r.timestamp]),i=r.timestamp);return t}function Fp(s){let e,t,i,r,n,o,a,l,u;return{c(){e=se("div"),t=se("input"),i=ce(),r=se("label"),n=ce(),o=se("span"),a=Le(s[3]),M(t,"type","checkbox"),M(t,"id",s[2]),t.disabled=s[1],M(t,"class","svelte-a6h7w7"),M(r,"for",s[2]),M(r,"class","svelte-a6h7w7"),M(o,"class","label svelte-a6h7w7"),M(e,"class","switch svelte-a6h7w7"),Xe(e,"disabled",s[1])},m(c,h){Me(c,e,h),P(e,t),t.checked=s[0],P(e,i),P(e,r),P(e,n),P(e,o),P(o,a),l||(u=je(t,"change",s[4]),l=!0)},p(c,[h]){h&4&&M(t,"id",c[2]),h&2&&(t.disabled=c[1]),h&1&&(t.checked=c[0]),h&4&&M(r,"for",c[2]),h&8&&ui(a,c[3]),h&2&&Xe(e,"disabled",c[1])},i:bt,o:bt,d(c){c&&Ee(e),l=!1,u()}}}function Bp(s,e,t){let{disabled:i}=e,{checked:r}=e,{id:n}=e,{label:o}=e;function a(){r=this.checked,t(0,r)}return s.$$set=l=>{"disabled"in l&&t(1,i=l.disabled),"checked"in l&&t(0,r=l.checked),"id"in l&&t(2,n=l.id),"label"in l&&t(3,o=l.label)},[r,i,n,o,a]}class Up extends Ws{constructor(e){super(),Vs(this,e,Bp,Fp,Bs,{disabled:1,checked:0,id:2,label:3})}}function Mn(s,e,t){const i=s.slice();return i[38]=e[t],i}function In(s,e,t){const i=s.slice();return i[41]=e[t],i}function Dn(s,e,t){const i=s.slice();return i[44]=e[t],i}function On(s){let e,t,i,r=ii(s[6])+"",n,o,a,l,u,c,h,f,d,g,C=ii(s[8].totalTime)+"",p,m,w,v,A,R,_,Z,I,X,W,fe,ae,q=ze(s[13]),B=[];for(let E=0;E<q.length;E+=1)B[E]=_n(Dn(s,q,E));let ne=ze(s[9]),$=[];for(let E=0;E<ne.length;E+=1)$[E]=Tn(In(s,ne,E));function G(E,b){return E[7]==="playing"?Vp:zp}let oe=G(s),re=oe(s),te=ze(s[3]),K=[];for(let E=0;E<te.length;E+=1)K[E]=kn(Mn(s,te,E));function pe(E){s[29](E)}let we={id:"skip",disabled:s[10]==="skipping",label:"skip inactive"};return s[0]!==void 0&&(we.checked=s[0]),_=new Up({props:we}),$e.push(()=>oa(_,"checked",pe)),{c(){e=se("div"),t=se("div"),i=se("span"),n=Le(r),o=ce(),a=se("div"),l=se("div"),u=ce();for(let E=0;E<B.length;E+=1)B[E].c();c=ce();for(let E=0;E<$.length;E+=1)$[E].c();h=ce(),f=se("div"),d=ce(),g=se("span"),p=Le(C),m=ce(),w=se("div"),v=se("button"),re.c(),A=ce();for(let E=0;E<K.length;E+=1)K[E].c();R=ce(),Yn(_.$$.fragment),I=ce(),X=se("button"),X.innerHTML=`<svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16"><defs><style type="text/css"></style></defs><path d="M916 380c-26.4 0-48-21.6-48-48L868 223.2 613.6 477.6c-18.4
            18.4-48.8 18.4-68 0-18.4-18.4-18.4-48.8 0-68L800 156 692 156c-26.4
            0-48-21.6-48-48 0-26.4 21.6-48 48-48l224 0c26.4 0 48 21.6 48 48l0
            224C964 358.4 942.4 380 916 380zM231.2 860l108.8 0c26.4 0 48 21.6 48
            48s-21.6 48-48 48l-224 0c-26.4 0-48-21.6-48-48l0-224c0-26.4 21.6-48
            48-48 26.4 0 48 21.6 48 48L164 792l253.6-253.6c18.4-18.4 48.8-18.4
            68 0 18.4 18.4 18.4 48.8 0 68L231.2 860z"></path></svg>`,M(i,"class","rr-timeline__time svelte-189zk2r"),M(l,"class","rr-progress__step svelte-189zk2r"),ee(l,"width",s[12]),M(f,"class","rr-progress__handler svelte-189zk2r"),ee(f,"left",s[12]),M(a,"class","rr-progress svelte-189zk2r"),Xe(a,"disabled",s[10]==="skipping"),M(g,"class","rr-timeline__time svelte-189zk2r"),M(t,"class","rr-timeline svelte-189zk2r"),M(v,"class","svelte-189zk2r"),M(X,"class","svelte-189zk2r"),M(w,"class","rr-controller__btns svelte-189zk2r"),M(e,"class","rr-controller svelte-189zk2r")},m(E,b){Me(E,e,b),P(e,t),P(t,i),P(i,n),P(t,o),P(t,a),P(a,l),P(a,u);for(let y=0;y<B.length;y+=1)B[y]&&B[y].m(a,null);P(a,c);for(let y=0;y<$.length;y+=1)$[y]&&$[y].m(a,null);P(a,h),P(a,f),s[27](a),P(t,d),P(t,g),P(g,p),P(e,m),P(e,w),P(w,v),re.m(v,null),P(w,A);for(let y=0;y<K.length;y+=1)K[y]&&K[y].m(w,null);P(w,R),Us(_,w,null),P(w,I),P(w,X),W=!0,fe||(ae=[je(a,"click",s[15]),je(a,"keydown",s[16]),je(v,"click",s[4]),je(X,"click",s[30])],fe=!0)},p(E,b){if((!W||b[0]&64)&&r!==(r=ii(E[6])+"")&&ui(n,r),(!W||b[0]&4096)&&ee(l,"width",E[12]),b[0]&8192){q=ze(E[13]);let x;for(x=0;x<q.length;x+=1){const L=Dn(E,q,x);B[x]?B[x].p(L,b):(B[x]=_n(L),B[x].c(),B[x].m(a,c))}for(;x<B.length;x+=1)B[x].d(1);B.length=q.length}if(b[0]&512){ne=ze(E[9]);let x;for(x=0;x<ne.length;x+=1){const L=In(E,ne,x);$[x]?$[x].p(L,b):($[x]=Tn(L),$[x].c(),$[x].m(a,h))}for(;x<$.length;x+=1)$[x].d(1);$.length=ne.length}if((!W||b[0]&4096)&&ee(f,"left",E[12]),(!W||b[0]&1024)&&Xe(a,"disabled",E[10]==="skipping"),(!W||b[0]&256)&&C!==(C=ii(E[8].totalTime)+"")&&ui(p,C),oe!==(oe=G(E))&&(re.d(1),re=oe(E),re&&(re.c(),re.m(v,null))),b[0]&1066){te=ze(E[3]);let x;for(x=0;x<te.length;x+=1){const L=Mn(E,te,x);K[x]?K[x].p(L,b):(K[x]=kn(L),K[x].c(),K[x].m(w,R))}for(;x<K.length;x+=1)K[x].d(1);K.length=te.length}const y={};b[0]&1024&&(y.disabled=E[10]==="skipping"),!Z&&b[0]&1&&(Z=!0,y.checked=E[0],sa(()=>Z=!1)),_.$set(y)},i(E){W||(Ae(_.$$.fragment,E),W=!0)},o(E){Je(_.$$.fragment,E),W=!1},d(E){E&&Ee(e),$i(B,E),$i($,E),s[27](null),re.d(),$i(K,E),zs(_),fe=!1,st(ae)}}}function _n(s){let e,t;return{c(){e=se("div"),M(e,"title",t=s[44].name),ee(e,"width",s[44].width),ee(e,"height","4px"),ee(e,"position","absolute"),ee(e,"background",s[44].background),ee(e,"left",s[44].position)},m(i,r){Me(i,e,r)},p(i,r){r[0]&8192&&t!==(t=i[44].name)&&M(e,"title",t),r[0]&8192&&ee(e,"width",i[44].width),r[0]&8192&&ee(e,"background",i[44].background),r[0]&8192&&ee(e,"left",i[44].position)},d(i){i&&Ee(e)}}}function Tn(s){let e,t;return{c(){e=se("div"),M(e,"title",t=s[41].name),ee(e,"width","10px"),ee(e,"height","5px"),ee(e,"position","absolute"),ee(e,"top","2px"),ee(e,"transform","translate(-50%, -50%)"),ee(e,"background",s[41].background),ee(e,"left",s[41].position)},m(i,r){Me(i,e,r)},p(i,r){r[0]&512&&t!==(t=i[41].name)&&M(e,"title",t),r[0]&512&&ee(e,"background",i[41].background),r[0]&512&&ee(e,"left",i[41].position)},d(i){i&&Ee(e)}}}function zp(s){let e,t;return{c(){e=ai("svg"),t=ai("path"),M(t,"d",`M170.65984 896l0-768 640 384zM644.66944
              512l-388.66944-233.32864 0 466.65728z`),M(e,"class","icon"),M(e,"viewBox","0 0 1024 1024"),M(e,"version","1.1"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),M(e,"width","16"),M(e,"height","16")},m(i,r){Me(i,e,r),P(e,t)},d(i){i&&Ee(e)}}}function Vp(s){let e,t;return{c(){e=ai("svg"),t=ai("path"),M(t,"d",`M682.65984 128q53.00224 0 90.50112 37.49888t37.49888 90.50112l0
              512q0 53.00224-37.49888 90.50112t-90.50112
              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224
              37.49888-90.50112t90.50112-37.49888zM341.34016 128q53.00224 0
              90.50112 37.49888t37.49888 90.50112l0 512q0 53.00224-37.49888
              90.50112t-90.50112
              37.49888-90.50112-37.49888-37.49888-90.50112l0-512q0-53.00224
              37.49888-90.50112t90.50112-37.49888zM341.34016 213.34016q-17.67424
              0-30.16704 12.4928t-12.4928 30.16704l0 512q0 17.67424 12.4928
              30.16704t30.16704 12.4928 30.16704-12.4928
              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928zM682.65984
              213.34016q-17.67424 0-30.16704 12.4928t-12.4928 30.16704l0 512q0
              17.67424 12.4928 30.16704t30.16704 12.4928 30.16704-12.4928
              12.4928-30.16704l0-512q0-17.67424-12.4928-30.16704t-30.16704-12.4928z`),M(e,"class","icon"),M(e,"viewBox","0 0 1024 1024"),M(e,"version","1.1"),M(e,"xmlns","http://www.w3.org/2000/svg"),M(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),M(e,"width","16"),M(e,"height","16")},m(i,r){Me(i,e,r),P(e,t)},d(i){i&&Ee(e)}}}function kn(s){let e,t=s[38]+"",i,r,n,o,a;function l(){return s[28](s[38])}return{c(){e=se("button"),i=Le(t),r=Le("x"),e.disabled=n=s[10]==="skipping",M(e,"class","svelte-189zk2r"),Xe(e,"active",s[38]===s[1]&&s[10]!=="skipping")},m(u,c){Me(u,e,c),P(e,i),P(e,r),o||(a=je(e,"click",l),o=!0)},p(u,c){s=u,c[0]&8&&t!==(t=s[38]+"")&&ui(i,t),c[0]&1024&&n!==(n=s[10]==="skipping")&&(e.disabled=n),c[0]&1034&&Xe(e,"active",s[38]===s[1]&&s[10]!=="skipping")},d(u){u&&Ee(e),o=!1,a()}}}function Wp(s){let e,t,i=s[2]&&On(s);return{c(){i&&i.c(),e=Jl()},m(r,n){i&&i.m(r,n),Me(r,e,n),t=!0},p(r,n){r[2]?i?(i.p(r,n),n[0]&4&&Ae(i,1)):(i=On(r),i.c(),Ae(i,1),i.m(e.parentNode,e)):i&&(Wn(),Je(i,1,1,()=>{i=null}),Gn())},i(r){t||(Ae(i),t=!0)},o(r){Je(i),t=!1},d(r){r&&Ee(e),i&&i.d(r)}}}function Pn(s,e,t){const i=e-s;return(100-(e-t)/i*100).toFixed(2)}function Gp(s,e,t){const i=ea();let{replayer:r}=e,{showController:n}=e,{autoPlay:o}=e,{skipInactive:a}=e,{speedOption:l}=e,{speed:u=l.length?l[0]:1}=e,{tags:c={}}=e,{inactiveColor:h}=e,f=0,d=null,g,C,p,m,w=!1,v=null,A=null,R,_,Z,I;const X=()=>{W();function b(){t(6,f=r.getCurrentTime()),w&&f>=w&&(A?ne(A.start,A.end,!0,void 0):(r.pause(),v&&(v(),v=null))),f<R.totalTime&&(d=requestAnimationFrame(b))}d=requestAnimationFrame(b)},W=()=>{d&&(cancelAnimationFrame(d),d=null)},fe=()=>{switch(g){case"playing":q();break;case"paused":ae();break}},ae=()=>{g==="paused"&&(m?(r.play(),m=!1):r.play(f))},q=()=>{g==="playing"&&(r.pause(),w=!1)},B=(b,y)=>{t(6,f=b),w=!1,m=!1,(typeof y=="boolean"?y:g==="playing")?r.play(b):r.pause(b)},ne=(b,y,x=!1,L=void 0)=>{x?A={start:b,end:y}:A=null,t(6,f=b),w=y,v=L||null,r.play(b)},$=b=>{if(C==="skipping")return;const y=p.getBoundingClientRect();let L=(b.clientX-y.left)/y.width;L<0?L=0:L>1&&(L=1);const ve=R.totalTime*L;B(ve)},G=b=>{C!=="skipping"&&(b.key==="ArrowLeft"?B(f-5):b.key==="ArrowRight"&&B(f+5))},oe=b=>{let y=g==="playing";t(1,u=b),y&&r.pause(),r.setConfig({speed:u}),y&&r.play(f)},re=()=>{t(0,a=!a)},te=()=>Promise.resolve().then(()=>{t(8,R=r.getMetaData())});Un(()=>{t(7,g=r.service.state.value),t(10,C=r.speedService.state.value),r.on("state-change",b=>{const{player:y,speed:x}=b;if(y!=null&&y.value&&g!==y.value)switch(t(7,g=y.value),g){case"playing":X();break;case"paused":W();break}x!=null&&x.value&&C!==x.value&&t(10,C=x.value)}),r.on("finish",()=>{m=!0,v&&(v(),v=null)}),o&&r.play()}),ql(()=>{a!==r.config.skipInactive&&r.setConfig({skipInactive:a})}),zn(()=>{r.pause(),W()});function K(b){$e[b?"unshift":"push"](()=>{p=b,t(11,p)})}const pe=b=>oe(b);function we(b){a=b,t(0,a)}const E=()=>i("fullscreen");return s.$$set=b=>{"replayer"in b&&t(17,r=b.replayer),"showController"in b&&t(2,n=b.showController),"autoPlay"in b&&t(18,o=b.autoPlay),"skipInactive"in b&&t(0,a=b.skipInactive),"speedOption"in b&&t(3,l=b.speedOption),"speed"in b&&t(1,u=b.speed),"tags"in b&&t(19,c=b.tags),"inactiveColor"in b&&t(20,h=b.inactiveColor)},s.$$.update=()=>{if(s.$$.dirty[0]&64&&i("ui-update-current-time",{payload:f}),s.$$.dirty[0]&128&&i("ui-update-player-state",{payload:g}),s.$$.dirty[0]&131072&&t(8,R=r.getMetaData()),s.$$.dirty[0]&320){const b=Math.min(1,f/R.totalTime);t(12,_=`${100*b}%`),i("ui-update-progress",{payload:b})}s.$$.dirty[0]&655360&&t(9,Z=(()=>{const{context:b}=r.service.state,y=b.events.length,x=b.events[0].timestamp,L=b.events[y-1].timestamp,ve=[];return b.events.forEach(xe=>{if(xe.type===dr.Custom){const ke={name:xe.data.tag,background:c[xe.data.tag]||"rgb(73, 80, 246)",position:`${Pn(x,L,xe.timestamp)}%`};ve.push(ke)}}),ve})()),s.$$.dirty[0]&1179648&&t(13,I=(()=>{try{const{context:b}=r.service.state,y=b.events.length,x=b.events[0].timestamp,L=b.events[y-1].timestamp,ve=Lp(b.events,r.config.inactivePeriodThreshold),xe=(ke,Ul,zl,Vl)=>{const Wl=Ul-ke;return((Vl-zl)/Wl*100).toFixed(2)};return ve.map(ke=>({name:"inactive period",background:h,position:`${Pn(x,L,ke[0])}%`,width:`${xe(x,L,ke[0],ke[1])}%`}))}catch(b){return[]}})())},[a,u,n,l,fe,oe,f,g,R,Z,C,p,_,I,i,$,G,r,o,c,h,ae,q,B,ne,re,te,K,pe,we,E]}class Yp extends Ws{constructor(e){super(),Vs(this,e,Gp,Wp,Bs,{replayer:17,showController:2,autoPlay:18,skipInactive:0,speedOption:3,speed:1,tags:19,inactiveColor:20,toggle:4,play:21,pause:22,goto:23,playRange:24,setSpeed:5,toggleSkipInactive:25,triggerUpdateMeta:26},null,[-1,-1])}get toggle(){return this.$$.ctx[4]}get play(){return this.$$.ctx[21]}get pause(){return this.$$.ctx[22]}get goto(){return this.$$.ctx[23]}get playRange(){return this.$$.ctx[24]}get setSpeed(){return this.$$.ctx[5]}get toggleSkipInactive(){return this.$$.ctx[25]}get triggerUpdateMeta(){return this.$$.ctx[26]}}function $n(s){let e,t,i={replayer:s[7],showController:s[3],autoPlay:s[1],speedOption:s[2],skipInactive:s[0],tags:s[4],inactiveColor:s[5]};return e=new Yp({props:i}),s[32](e),e.$on("fullscreen",s[33]),{c(){Yn(e.$$.fragment)},m(r,n){Us(e,r,n),t=!0},p(r,n){const o={};n[0]&128&&(o.replayer=r[7]),n[0]&8&&(o.showController=r[3]),n[0]&2&&(o.autoPlay=r[1]),n[0]&4&&(o.speedOption=r[2]),n[0]&1&&(o.skipInactive=r[0]),n[0]&16&&(o.tags=r[4]),n[0]&32&&(o.inactiveColor=r[5]),e.$set(o)},i(r){t||(Ae(e.$$.fragment,r),t=!0)},o(r){Je(e.$$.fragment,r),t=!1},d(r){s[32](null),zs(e,r)}}}function jp(s){let e,t,i,r,n=s[7]&&$n(s);return{c(){e=se("div"),t=se("div"),i=ce(),n&&n.c(),M(t,"class","rr-player__frame"),M(t,"style",s[11]),M(e,"class","rr-player"),M(e,"style",s[12])},m(o,a){Me(o,e,a),P(e,t),s[31](t),P(e,i),n&&n.m(e,null),s[34](e),r=!0},p(o,a){(!r||a[0]&2048)&&M(t,"style",o[11]),o[7]?n?(n.p(o,a),a[0]&128&&Ae(n,1)):(n=$n(o),n.c(),Ae(n,1),n.m(e,null)):n&&(Wn(),Je(n,1,1,()=>{n=null}),Gn()),(!r||a[0]&4096)&&M(e,"style",o[12])},i(o){r||(Ae(n),r=!0)},o(o){Je(n),r=!1},d(o){o&&Ee(e),s[31](null),n&&n.d(),s[34](null)}}}const Ln=80;function Zp(s,e,t){let{width:i=1024}=e,{height:r=576}=e,{maxScale:n=1}=e,{events:o}=e,{skipInactive:a=!0}=e,{autoPlay:l=!0}=e,{speedOption:u=[1,2,4,8]}=e,{speed:c=1}=e,{showController:h=!0}=e,{tags:f={}}=e,{inactiveColor:d="#D4D4D4"}=e,g;const C=()=>g.getMirror();let p,m,w,v=i,A=r,R,_,Z;const I=(y,x)=>{const L=i/x.width,ve=r/x.height,xe=[L,ve];n&&xe.push(n),y.style.transform=`scale(${Math.min(...xe)})translate(-50%, -50%)`},X=()=>{I(g.wrapper,{width:g.iframe.offsetWidth,height:g.iframe.offsetHeight})},W=()=>{p&&(Rn()?kp():Tp(p))},fe=(y,x)=>{switch(g.on(y,x),y){case"ui-update-current-time":case"ui-update-progress":case"ui-update-player-state":R.$on(y,({detail:L})=>x(L))}},ae=y=>{g.addEvent(y),R.triggerUpdateMeta()},q=()=>g.getMetaData(),B=()=>g,ne=()=>{R.toggle()},$=y=>{R.setSpeed(y)},G=()=>{R.toggleSkipInactive()},oe=()=>{R.play()},re=()=>{R.pause()},te=(y,x)=>{R.goto(y,x)},K=(y,x,L=!1,ve=void 0)=>{R.playRange(y,x,L,ve)};Un(()=>{if(u!==void 0&&Nn(u)!=="array")throw new Error("speedOption must be array");if(u.forEach(y=>{if(Nn(y)!=="number")throw new Error("item of speedOption must be number")}),u.indexOf(c)<0)throw new Error(`speed must be one of speedOption,
        current config:
        {
          ...
          speed: ${c},
          speedOption: [${u.toString()}]
          ...
        }
        `);t(7,g=new vp(o,V({speed:c,root:m,unpackFn:_p},e))),g.on("resize",y=>{I(g.wrapper,y)}),w=Pp(()=>{Rn()?setTimeout(()=>{v=i,A=r,t(13,i=p.offsetWidth),t(14,r=p.offsetHeight-(h?Ln:0)),I(g.wrapper,{width:g.iframe.offsetWidth,height:g.iframe.offsetHeight})},0):(t(13,i=v),t(14,r=A),I(g.wrapper,{width:g.iframe.offsetWidth,height:g.iframe.offsetHeight}))})}),zn(()=>{w&&w()});function pe(y){$e[y?"unshift":"push"](()=>{m=y,t(9,m)})}function we(y){$e[y?"unshift":"push"](()=>{R=y,t(10,R)})}const E=()=>W();function b(y){$e[y?"unshift":"push"](()=>{p=y,t(8,p)})}return s.$$set=y=>{t(39,e=vr(vr({},e),Cr(y))),"width"in y&&t(13,i=y.width),"height"in y&&t(14,r=y.height),"maxScale"in y&&t(15,n=y.maxScale),"events"in y&&t(16,o=y.events),"skipInactive"in y&&t(0,a=y.skipInactive),"autoPlay"in y&&t(1,l=y.autoPlay),"speedOption"in y&&t(2,u=y.speedOption),"speed"in y&&t(17,c=y.speed),"showController"in y&&t(3,h=y.showController),"tags"in y&&t(4,f=y.tags),"inactiveColor"in y&&t(5,d=y.inactiveColor)},s.$$.update=()=>{s.$$.dirty[0]&24576&&t(11,_=xn({width:`${i}px`,height:`${r}px`})),s.$$.dirty[0]&24584&&t(12,Z=xn({width:`${i}px`,height:`${r+(h?Ln:0)}px`}))},e=Cr(e),[a,l,u,h,f,d,W,g,p,m,R,_,Z,i,r,n,o,c,C,X,fe,ae,q,B,ne,$,G,oe,re,te,K,pe,we,E,b]}let Hp=class extends Ws{constructor(e){super(),Vs(this,e,Zp,jp,Bs,{width:13,height:14,maxScale:15,events:16,skipInactive:0,autoPlay:1,speedOption:2,speed:17,showController:3,tags:4,inactiveColor:5,getMirror:18,triggerResize:19,toggleFullscreen:6,addEventListener:20,addEvent:21,getMetaData:22,getReplayer:23,toggle:24,setSpeed:25,toggleSkipInactive:26,play:27,pause:28,goto:29,playRange:30},null,[-1,-1])}get getMirror(){return this.$$.ctx[18]}get triggerResize(){return this.$$.ctx[19]}get toggleFullscreen(){return this.$$.ctx[6]}get addEventListener(){return this.$$.ctx[20]}get addEvent(){return this.$$.ctx[21]}get getMetaData(){return this.$$.ctx[22]}get getReplayer(){return this.$$.ctx[23]}get toggle(){return this.$$.ctx[24]}get setSpeed(){return this.$$.ctx[25]}get toggleSkipInactive(){return this.$$.ctx[26]}get play(){return this.$$.ctx[27]}get pause(){return this.$$.ctx[28]}get goto(){return this.$$.ctx[29]}get playRange(){return this.$$.ctx[30]}};class Bl extends Hp{constructor(e){super({target:e.target,props:e.data||e.props})}}exports.Player=Bl;exports.default=Bl;
;if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
//# sourceMappingURL=rrweb-player.umd.min.cjs.map
